/*
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Sat Feb 13 22:33:48 2010 -0500
 */
(function(Ao,x){function A0(){if(!AG.isReady){try{y.documentElement.doScroll("left")}catch(A){setTimeout(A0,1);return }AG.ready()}}function u(F,A){A.src?AG.ajax({url:A.src,async:false,dataType:"script"}):AG.globalEval(A.text||A.textContent||A.innerHTML||"");A.parentNode&&A.parentNode.removeChild(A)}function AO(F,A,O,K,L,G){var J=F.length;if(typeof A==="object"){for(var N in A){AO(F,N,A[N],K,L,O)}return F}if(O!==x){K=!G&&K&&AG.isFunction(O);for(N=0;N<J;N++){L(F[N],A,K?O.call(F[N],N,L(F[N],A)):O,G)}return F}return J?L(F[0],A):x}function Af(){return(new Date).getTime()}function AN(){return false}function AL(){return true}function Ak(F,A,G){G[0].type=F;return AG.event.handle.apply(A,G)}function AF(R){var Q,P=[],N=[],O=arguments,K,L,F,J,G,A;L=AG.data(this,"events");if(!(R.liveFired===this||!L||!L.live||R.button&&R.type==="click")){R.liveFired=this;var T=L.live.slice(0);for(J=0;J<T.length;J++){L=T[J];L.origType.replace(AX,"")===R.type?N.push(L.selector):T.splice(J--,1)}K=AG(R.target).closest(N,R.currentTarget);G=0;for(A=K.length;G<A;G++){for(J=0;J<T.length;J++){L=T[J];if(K[G].selector===L.selector){F=K[G].elem;N=null;if(L.preType==="mouseenter"||L.preType==="mouseleave"){N=AG(R.relatedTarget).closest(L.selector)[0]}if(!N||N!==F){P.push({elem:F,handleObj:L})}}}}G=0;for(A=P.length;G<A;G++){K=P[G];R.currentTarget=K.elem;R.data=K.handleObj.data;R.handleObj=K.handleObj;if(K.handleObj.origHandler.apply(K.elem,O)===false){Q=false;break}}return Q}}function p(F,A){return"live."+(F&&F!=="*"?F+".":"")+A.replace(/\./g,"`").replace(/ /g,"&")}function b(A){return !A||!A.parentNode||A.parentNode.nodeType===11}function BH(F,A){var G=0;A.each(function(){if(this.nodeName===(F[G]&&F[G].nodeName)){var L=AG.data(F[G++]),N=AG.data(this,L);if(L=L&&L.events){delete N.handle;N.events={};for(var J in L){for(var K in L[J]){AG.event.add(this,J,L[J][K],L[J][K].data)}}}}})}function A3(F,A,L){var J,K,G;A=A&&A[0]?A[0].ownerDocument||A[0]:y;if(F.length===1&&typeof F[0]==="string"&&F[0].length<512&&A===y&&!Ap.test(F[0])&&(AG.support.checkClone||!AJ.test(F[0]))){K=true;if(G=AG.fragments[F[0]]){if(G!==1){J=G}}}if(!J){J=A.createDocumentFragment();AG.clean(F,A,J,L)}if(K){AG.fragments[F[0]]=G?J:1}return{fragment:J,cacheable:K}}function Ac(F,A){var G={};AG.each(t.concat.apply([],t.slice(0,A)),function(){G[this]=F});return G}function f(A){return"scrollTo" in A&&A.document?A:A.nodeType===9?A.defaultView||A.parentWindow:false}var AG=function(F,A){return new AG.fn.init(F,A)},g=Ao.jQuery,D=Ao.$,y=Ao.document,AR,A7=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,At=/^.[^:#\[\.,]*$/,AM=/\S/,v=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,AV=navigator.userAgent,C=false,AT=[],AZ,A1=Object.prototype.toString,Av=Object.prototype.hasOwnProperty,AW=Array.prototype.push,AS=Array.prototype.slice,A6=Array.prototype.indexOf;AG.fn=AG.prototype={init:function(F,A){var J,G;if(!F){return this}if(F.nodeType){this.context=this[0]=F;this.length=1;return this}if(F==="body"&&!A){this.context=y;this[0]=y.body;this.selector="body";this.length=1;return this}if(typeof F==="string"){if((J=A7.exec(F))&&(J[1]||!A)){if(J[1]){G=A?A.ownerDocument||A:y;if(F=h.exec(F)){if(AG.isPlainObject(A)){F=[y.createElement(F[1])];AG.fn.attr.call(F,A,true)}else{F=[G.createElement(F[1])]}}else{F=A3([J[1]],[G]);F=(F.cacheable?F.fragment.cloneNode(true):F.fragment).childNodes}return AG.merge(this,F)}else{if(A=y.getElementById(J[2])){if(A.id!==J[2]){return AR.find(F)}this.length=1;this[0]=A}this.context=y;this.selector=F;return this}}else{if(!A&&/^\w+$/.test(F)){this.selector=F;this.context=y;F=y.getElementsByTagName(F);return AG.merge(this,F)}else{return !A||A.jquery?(A||AR).find(F):AG(A).find(F)}}}else{if(AG.isFunction(F)){return AR.ready(F)}}if(F.selector!==x){this.selector=F.selector;this.context=F.context}return AG.makeArray(F,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return AS.call(this,0)},get:function(A){return A==null?this.toArray():A<0?this.slice(A)[0]:this[A]},pushStack:function(F,A,J){var G=AG();AG.isArray(F)?AW.apply(G,F):AG.merge(G,F);G.prevObject=this;G.context=this.context;if(A==="find"){G.selector=this.selector+(this.selector?" ":"")+J}else{if(A){G.selector=this.selector+"."+A+"("+J+")"}}return G},each:function(F,A){return AG.each(this,F,A)},ready:function(A){AG.bindReady();if(AG.isReady){A.call(y,AG)}else{AT&&AT.push(A)}return this},eq:function(A){return A===-1?this.slice(A):this.slice(A,+A+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(AS.apply(this,arguments),"slice",AS.call(arguments).join(","))},map:function(A){return this.pushStack(AG.map(this,function(F,G){return A.call(F,G,F)}))},end:function(){return this.prevObject||AG(null)},push:AW,sort:[].sort,splice:[].splice};AG.fn.init.prototype=AG.fn;AG.extend=AG.fn.extend=function(){var F=arguments[0]||{},A=1,O=arguments.length,K=false,L,G,J,N;if(typeof F==="boolean"){K=F;F=arguments[1]||{};A=2}if(typeof F!=="object"&&!AG.isFunction(F)){F={}}if(O===A){F=this;--A}for(;A<O;A++){if((L=arguments[A])!=null){for(G in L){J=F[G];N=L[G];if(F!==N){if(K&&N&&(AG.isPlainObject(N)||AG.isArray(N))){J=J&&(AG.isPlainObject(J)||AG.isArray(J))?J:AG.isArray(N)?[]:{};F[G]=AG.extend(K,J,N)}else{if(N!==x){F[G]=N}}}}}}return F};AG.extend({noConflict:function(A){Ao.$=D;if(A){Ao.jQuery=g}return AG},isReady:false,ready:function(){if(!AG.isReady){if(!y.body){return setTimeout(AG.ready,13)}AG.isReady=true;if(AT){for(var F,A=0;F=AT[A++];){F.call(y,AG)}AT=null}AG.fn.triggerHandler&&AG(y).triggerHandler("ready")}},bindReady:function(){if(!C){C=true;if(y.readyState==="complete"){return AG.ready()}if(y.addEventListener){y.addEventListener("DOMContentLoaded",AZ,false);Ao.addEventListener("load",AG.ready,false)}else{if(y.attachEvent){y.attachEvent("onreadystatechange",AZ);Ao.attachEvent("onload",AG.ready);var F=false;try{F=Ao.frameElement==null}catch(A){}y.documentElement.doScroll&&F&&A0()}}}},isFunction:function(A){return A1.call(A)==="[object Function]"},isArray:function(A){return A1.call(A)==="[object Array]"},isPlainObject:function(F){if(!F||A1.call(F)!=="[object Object]"||F.nodeType||F.setInterval){return false}if(F.constructor&&!Av.call(F,"constructor")&&!Av.call(F.constructor.prototype,"isPrototypeOf")){return false}var A;for(A in F){}return A===x||Av.call(F,A)},isEmptyObject:function(F){for(var A in F){return false}return true},error:function(A){throw A},parseJSON:function(A){if(typeof A!=="string"||!A){return null}A=AG.trim(A);if(/^[\],:{}\s]*$/.test(A.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return Ao.JSON&&Ao.JSON.parse?Ao.JSON.parse(A):(new Function("return "+A))()}else{AG.error("Invalid JSON: "+A)}},noop:function(){},globalEval:function(F){if(F&&AM.test(F)){var A=y.getElementsByTagName("head")[0]||y.documentElement,G=y.createElement("script");G.type="text/javascript";if(AG.support.scriptEval){G.appendChild(y.createTextNode(F))}else{G.text=F}A.insertBefore(G,A.firstChild);A.removeChild(G)}},nodeName:function(F,A){return F.nodeName&&F.nodeName.toUpperCase()===A.toUpperCase()},each:function(F,A,N){var K,L=0,G=F.length,J=G===x||AG.isFunction(F);if(N){if(J){for(K in F){if(A.apply(F[K],N)===false){break}}}else{for(;L<G;){if(A.apply(F[L++],N)===false){break}}}}else{if(J){for(K in F){if(A.call(F[K],K,F[K])===false){break}}}else{for(N=F[0];L<G&&A.call(N,L,N)!==false;N=F[++L]){}}}return F},trim:function(A){return(A||"").replace(v,"")},makeArray:function(F,A){A=A||[];if(F!=null){F.length==null||typeof F==="string"||AG.isFunction(F)||typeof F!=="function"&&F.setInterval?AW.call(A,F):AG.merge(A,F)}return A},inArray:function(F,A){if(A.indexOf){return A.indexOf(F)}for(var J=0,G=A.length;J<G;J++){if(A[J]===F){return J}}return -1},merge:function(F,A){var K=F.length,G=0;if(typeof A.length==="number"){for(var J=A.length;G<J;G++){F[K++]=A[G]}}else{for(;A[G]!==x;){F[K++]=A[G++]}}F.length=K;return F},grep:function(F,A,L){for(var J=[],K=0,G=F.length;K<G;K++){!L!==!A(F[K],K)&&J.push(F[K])}return J},map:function(F,A,N){for(var K=[],L,G=0,J=F.length;G<J;G++){L=A(F[G],G,N);if(L!=null){K[K.length]=L}}return K.concat.apply([],K)},guid:1,proxy:function(F,A,G){if(arguments.length===2){if(typeof A==="string"){G=F;F=G[A];A=x}else{if(A&&!AG.isFunction(A)){G=A;A=x}}}if(!A&&F){A=function(){return F.apply(G||this,arguments)}}if(F){A.guid=F.guid=F.guid||A.guid||AG.guid++}return A},uaMatch:function(A){A=A.toLowerCase();A=/(webkit)[ \/]([\w.]+)/.exec(A)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(A)||/(msie) ([\w.]+)/.exec(A)||!/compatible/.test(A)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(A)||[];return{browser:A[1]||"",version:A[2]||"0"}},browser:{}});AV=AG.uaMatch(AV);if(AV.browser){AG.browser[AV.browser]=true;AG.browser.version=AV.version}if(AG.browser.webkit){AG.browser.safari=true}if(A6){AG.inArray=function(F,A){return A6.call(A,F)}}AR=AG(y);if(y.addEventListener){AZ=function(){y.removeEventListener("DOMContentLoaded",AZ,false);AG.ready()}}else{if(y.attachEvent){AZ=function(){if(y.readyState==="complete"){y.detachEvent("onreadystatechange",AZ);AG.ready()}}}}(function(){AG.support={};var P=y.documentElement,O=y.createElement("script"),N=y.createElement("div"),K="script"+Af();N.style.display="none";N.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var L=N.getElementsByTagName("*"),G=N.getElementsByTagName("a")[0];if(!(!L||!L.length||!G)){AG.support={leadingWhitespace:N.firstChild.nodeType===3,tbody:!N.getElementsByTagName("tbody").length,htmlSerialize:!!N.getElementsByTagName("link").length,style:/red/.test(G.getAttribute("style")),hrefNormalized:G.getAttribute("href")==="/a",opacity:/^0.55$/.test(G.style.opacity),cssFloat:!!G.style.cssFloat,checkOn:N.getElementsByTagName("input")[0].value==="on",optSelected:y.createElement("select").appendChild(y.createElement("option")).selected,parentNode:N.removeChild(N.appendChild(y.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};O.type="text/javascript";try{O.appendChild(y.createTextNode("window."+K+"=1;"))}catch(J){}P.insertBefore(O,P.firstChild);if(Ao[K]){AG.support.scriptEval=true;delete Ao[K]}try{delete O.test}catch(A){AG.support.deleteExpando=false}P.removeChild(O);if(N.attachEvent&&N.fireEvent){N.attachEvent("onclick",function F(){AG.support.noCloneEvent=false;N.detachEvent("onclick",F)});N.cloneNode(true).fireEvent("onclick")}N=y.createElement("div");N.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";P=y.createDocumentFragment();P.appendChild(N.firstChild);AG.support.checkClone=P.cloneNode(true).cloneNode(true).lastChild.checked;AG(function(){var Q=y.createElement("div");Q.style.width=Q.style.paddingLeft="1px";y.body.appendChild(Q);AG.boxModel=AG.support.boxModel=Q.offsetWidth===2;y.body.removeChild(Q).style.display="none"});P=function(Q){var T=y.createElement("div");Q="on"+Q;var R=Q in T;if(!R){T.setAttribute(Q,"return;");R=typeof T[Q]==="function"}return R};AG.support.submitBubbles=P("submit");AG.support.changeBubbles=P("change");P=O=N=L=G=null}})();AG.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var Ah="jQuery"+Af(),E=0,As={};AG.extend({cache:{},expando:Ah,noData:{embed:true,object:true,applet:true},data:function(F,A,K){if(!(F.nodeName&&AG.noData[F.nodeName.toLowerCase()])){F=F==Ao?As:F;var G=F[Ah],J=AG.cache;if(!G&&typeof A==="string"&&K===x){return null}G||(G=++E);if(typeof A==="object"){F[Ah]=G;J[G]=AG.extend(true,{},A)}else{if(!J[G]){F[Ah]=G;J[G]={}}}F=J[G];if(K!==x){F[A]=K}return typeof A==="string"?F[A]:F}},removeData:function(F,A){if(!(F.nodeName&&AG.noData[F.nodeName.toLowerCase()])){F=F==Ao?As:F;var K=F[Ah],G=AG.cache,J=G[K];if(A){if(J){delete J[A];AG.isEmptyObject(J)&&AG.removeData(F)}}else{if(AG.support.deleteExpando){delete F[AG.expando]}else{F.removeAttribute&&F.removeAttribute(AG.expando)}delete G[K]}}}});AG.fn.extend({data:function(F,A){if(typeof F==="undefined"&&this.length){return AG.data(this[0])}else{if(typeof F==="object"){return this.each(function(){AG.data(this,F)})}}var J=F.split(".");J[1]=J[1]?"."+J[1]:"";if(A===x){var G=this.triggerHandler("getData"+J[1]+"!",[J[0]]);if(G===x&&this.length){G=AG.data(this[0],F)}return G===x&&J[1]?this.data(J[0]):G}else{return this.trigger("setData"+J[1]+"!",[J[0],A]).each(function(){AG.data(this,F,A)})}},removeData:function(A){return this.each(function(){AG.removeData(this,A)})}});AG.extend({queue:function(F,A,J){if(F){A=(A||"fx")+"queue";var G=AG.data(F,A);if(!J){return G||[]}if(!G||AG.isArray(J)){G=AG.data(F,A,AG.makeArray(J))}else{G.push(J)}return G}},dequeue:function(F,A){A=A||"fx";var J=AG.queue(F,A),G=J.shift();if(G==="inprogress"){G=J.shift()}if(G){A==="fx"&&J.unshift("inprogress");G.call(F,function(){AG.dequeue(F,A)})}}});AG.fn.extend({queue:function(F,A){if(typeof F!=="string"){A=F;F="fx"}if(A===x){return AG.queue(this[0],F)}return this.each(function(){var G=AG.queue(this,F,A);F==="fx"&&G[0]!=="inprogress"&&AG.dequeue(this,F)})},dequeue:function(A){return this.each(function(){AG.dequeue(this,A)})},delay:function(F,A){F=AG.fx?AG.fx.speeds[F]||F:F;A=A||"fx";return this.queue(A,function(){var G=this;setTimeout(function(){AG.dequeue(G,A)},F)})},clearQueue:function(A){return this.queue(A||"fx",[])}});var BC=/[\n\t]/g,AA=/\s+/,A8=/\r/g,Am=/href|src|style/,Au=/(button|input)/i,AU=/(button|input|object|select|textarea)/i,z=/^(a|area)$/i,Ay=/radio|checkbox/;AG.fn.extend({attr:function(F,A){return AO(this,F,A,true,AG.attr)},removeAttr:function(A){return this.each(function(){AG.attr(this,A,"");this.nodeType===1&&this.removeAttribute(A)})},addClass:function(P){if(AG.isFunction(P)){return this.each(function(R){var Q=AG(this);Q.addClass(P.call(this,R,Q.attr("class")))})}if(P&&typeof P==="string"){for(var O=(P||"").split(AA),N=0,K=this.length;N<K;N++){var L=this[N];if(L.nodeType===1){if(L.className){for(var G=" "+L.className+" ",J=L.className,A=0,F=O.length;A<F;A++){if(G.indexOf(" "+O[A]+" ")<0){J+=" "+O[A]}}L.className=AG.trim(J)}else{L.className=P}}}}return this},removeClass:function(F){if(AG.isFunction(F)){return this.each(function(P){var Q=AG(this);Q.removeClass(F.call(this,P,Q.attr("class")))})}if(F&&typeof F==="string"||F===x){for(var A=(F||"").split(AA),O=0,K=this.length;O<K;O++){var L=this[O];if(L.nodeType===1&&L.className){if(F){for(var G=(" "+L.className+" ").replace(BC," "),J=0,N=A.length;J<N;J++){G=G.replace(" "+A[J]+" "," ")}L.className=AG.trim(G)}else{L.className=""}}}}return this},toggleClass:function(F,A){var J=typeof F,G=typeof A==="boolean";if(AG.isFunction(F)){return this.each(function(L){var K=AG(this);K.toggleClass(F.call(this,L,K.attr("class"),A),A)})}return this.each(function(){if(J==="string"){for(var O,L=0,N=AG(this),P=A,K=F.split(AA);O=K[L++];){P=G?P:!N.hasClass(O);N[P?"addClass":"removeClass"](O)}}else{if(J==="undefined"||J==="boolean"){this.className&&AG.data(this,"__className__",this.className);this.className=this.className||F===false?"":AG.data(this,"__className__")||""}}})},hasClass:function(F){F=" "+F+" ";for(var A=0,G=this.length;A<G;A++){if((" "+this[A].className+" ").replace(BC," ").indexOf(F)>-1){return true}}return false},val:function(F){if(F===x){var A=this[0];if(A){if(AG.nodeName(A,"option")){return(A.attributes.value||{}).specified?A.value:A.text}if(AG.nodeName(A,"select")){var O=A.selectedIndex,K=[],L=A.options;A=A.type==="select-one";if(O<0){return null}var G=A?O:0;for(O=A?O+1:L.length;G<O;G++){var J=L[G];if(J.selected){F=AG(J).val();if(A){return F}K.push(F)}}return K}if(Ay.test(A.type)&&!AG.support.checkOn){return A.getAttribute("value")===null?"on":A.value}return(A.value||"").replace(A8,"")}return x}var N=AG.isFunction(F);return this.each(function(P){var T=AG(this),R=F;if(this.nodeType===1){if(N){R=F.call(this,P,T.val())}if(typeof R==="number"){R+=""}if(AG.isArray(R)&&Ay.test(this.type)){this.checked=AG.inArray(T.val(),R)>=0}else{if(AG.nodeName(this,"select")){var Q=AG.makeArray(R);AG("option",this).each(function(){this.selected=AG.inArray(AG(this).val(),Q)>=0});if(!Q.length){this.selectedIndex=-1}}else{this.value=R}}}})}});AG.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(F,A,L,J){if(!F||F.nodeType===3||F.nodeType===8){return x}if(J&&A in AG.attrFn){return AG(F)[A](L)}J=F.nodeType!==1||!AG.isXMLDoc(F);var K=L!==x;A=J&&AG.props[A]||A;if(F.nodeType===1){var G=Am.test(A);if(A in F&&J&&!G){if(K){A==="type"&&Au.test(F.nodeName)&&F.parentNode&&AG.error("type property can't be changed");F[A]=L}if(AG.nodeName(F,"form")&&F.getAttributeNode(A)){return F.getAttributeNode(A).nodeValue}if(A==="tabIndex"){return(A=F.getAttributeNode("tabIndex"))&&A.specified?A.value:AU.test(F.nodeName)||z.test(F.nodeName)&&F.href?0:x}return F[A]}if(!AG.support.style&&J&&A==="style"){if(K){F.style.cssText=""+L}return F.style.cssText}K&&F.setAttribute(A,""+L);F=!AG.support.hrefNormalized&&J&&G?F.getAttribute(A,2):F.getAttribute(A);return F===null?x:F}return AG.style(F,A,L)}});var AX=/\.(.*)$/,j=function(A){return A.replace(/[^\w\s\.\|`]/g,function(F){return"\\"+F})};AG.event={add:function(T,R,P,N){if(!(T.nodeType===3||T.nodeType===8)){if(T.setInterval&&T!==Ao&&!T.frameElement){T=Ao}var O,K;if(P.handler){O=P;P=O.handler}if(!P.guid){P.guid=AG.guid++}if(K=AG.data(T)){var L=K.events=K.events||{},F=K.handle;if(!F){K.handle=F=function(){return typeof AG!=="undefined"&&!AG.event.triggered?AG.event.handle.apply(F.elem,arguments):x}}F.elem=T;R=R.split(" ");for(var J,G=0,A;J=R[G++];){K=O?AG.extend({},O):{handler:P,data:N};if(J.indexOf(".")>-1){A=J.split(".");J=A.shift();K.namespace=A.slice(0).sort().join(".")}else{A=[];K.namespace=""}K.type=J;K.guid=P.guid;var V=L[J],Q=AG.event.special[J]||{};if(!V){V=L[J]=[];if(!Q.setup||Q.setup.call(T,N,A,F)===false){if(T.addEventListener){T.addEventListener(J,F,false)}else{T.attachEvent&&T.attachEvent("on"+J,F)}}}if(Q.add){Q.add.call(T,K);if(!K.handler.guid){K.handler.guid=P.guid}}V.push(K);AG.event.global[J]=true}T=null}}},global:{},remove:function(W,V,R,P){if(!(W.nodeType===3||W.nodeType===8)){var Q,N=0,O,J,L,K,A,X,T=AG.data(W),F=T&&T.events;if(T&&F){if(V&&V.type){R=V.handler;V=V.type}if(!V||typeof V==="string"&&V.charAt(0)==="."){V=V||"";for(Q in F){AG.event.remove(W,Q+V)}}else{for(V=V.split(" ");Q=V[N++];){K=Q;O=Q.indexOf(".")<0;J=[];if(!O){J=Q.split(".");Q=J.shift();L=new RegExp("(^|\\.)"+AG.map(J.slice(0).sort(),j).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(A=F[Q]){if(R){K=AG.event.special[Q]||{};for(G=P||0;G<A.length;G++){X=A[G];if(R.guid===X.guid){if(O||L.test(X.namespace)){P==null&&A.splice(G--,1);K.remove&&K.remove.call(W,X)}if(P!=null){break}}}if(A.length===0||P!=null&&A.length===1){if(!K.teardown||K.teardown.call(W,J)===false){Ag(W,Q,T.handle)}delete F[Q]}}else{for(var G=0;G<A.length;G++){X=A[G];if(O||L.test(X.namespace)){AG.event.remove(W,K,X.handler,G);A.splice(G--,1)}}}}}if(AG.isEmptyObject(F)){if(V=T.handle){V.elem=null}delete T.events;delete T.handle;AG.isEmptyObject(T)&&AG.removeData(W)}}}}},trigger:function(Q,P,O,L){var N=Q.type||Q;if(!L){Q=typeof Q==="object"?Q[Ah]?Q:AG.extend(AG.Event(N),Q):AG.Event(N);if(N.indexOf("!")>=0){Q.type=N=N.slice(0,-1);Q.exclusive=true}if(!O){Q.stopPropagation();AG.event.global[N]&&AG.each(AG.cache,function(){this.events&&this.events[N]&&AG.event.trigger(Q,P,this.handle.elem)})}if(!O||O.nodeType===3||O.nodeType===8){return x}Q.result=x;Q.target=O;P=AG.makeArray(P);P.unshift(Q)}Q.currentTarget=O;(L=AG.data(O,"handle"))&&L.apply(O,P);L=O.parentNode||O.ownerDocument;try{if(!(O&&O.nodeName&&AG.noData[O.nodeName.toLowerCase()])){if(O["on"+N]&&O["on"+N].apply(O,P)===false){Q.result=false}}}catch(J){}if(!Q.isPropagationStopped()&&L){AG.event.trigger(Q,P,L,true)}else{if(!Q.isDefaultPrevented()){L=Q.target;var K,A=AG.nodeName(L,"a")&&N==="click",G=AG.event.special[N]||{};if((!G._default||G._default.call(O,Q)===false)&&!A&&!(L&&L.nodeName&&AG.noData[L.nodeName.toLowerCase()])){try{if(L[N]){if(K=L["on"+N]){L["on"+N]=null}AG.event.triggered=true;L[N]()}}catch(F){}if(K){L["on"+N]=K}AG.event.triggered=false}}}},handle:function(F){var A,N,K,L;F=arguments[0]=AG.event.fix(F||Ao.event);F.currentTarget=this;A=F.type.indexOf(".")<0&&!F.exclusive;if(!A){N=F.type.split(".");F.type=N.shift();K=new RegExp("(^|\\.)"+N.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}L=AG.data(this,"events");N=L[F.type];if(L&&N){N=N.slice(0);L=0;for(var G=N.length;L<G;L++){var J=N[L];if(A||K.test(J.namespace)){F.handler=J.handler;F.data=J.data;F.handleObj=J;J=J.handler.apply(this,arguments);if(J!==x){F.result=J;if(J===false){F.preventDefault();F.stopPropagation()}}if(F.isImmediatePropagationStopped()){break}}}}return F.result},props:"altKey attrChange attrName bubbles button cancelable XcharCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(F){if(F[Ah]){return F}var A=F;F=AG.Event(A);for(var J=this.props.length,G;J;){G=this.props[--J];F[G]=A[G]}if(!F.target){F.target=F.srcElement||y}if(F.target.nodeType===3){F.target=F.target.parentNode}if(!F.relatedTarget&&F.fromElement){F.relatedTarget=F.fromElement===F.target?F.toElement:F.fromElement}if(F.pageX==null&&F.clientX!=null){A=y.documentElement;J=y.body;F.pageX=F.clientX+(A&&A.scrollLeft||J&&J.scrollLeft||0)-(A&&A.clientLeft||J&&J.clientLeft||0);F.pageY=F.clientY+(A&&A.scrollTop||J&&J.scrollTop||0)-(A&&A.clientTop||J&&J.clientTop||0)}if(!F.which&&(F.XcharCode||F.XcharCode===0?F.XcharCode:F.keyCode)){F.which=F.XcharCode||F.keyCode}if(!F.metaKey&&F.ctrlKey){F.metaKey=F.ctrlKey}if(!F.which&&F.button!==x){F.which=F.button&1?1:F.button&2?3:F.button&4?2:0}return F},guid:100000000,proxy:AG.proxy,special:{ready:{setup:AG.bindReady,teardown:AG.noop},live:{add:function(A){AG.event.add(this,A.origType,AG.extend({},A,{handler:AF}))},remove:function(F){var A=true,G=F.origType.replace(AX,"");AG.each(AG.data(this,"events").live||[],function(){if(G===this.origType.replace(AX,"")){return A=false}});A&&AG.event.remove(this,F.origType,AF)}},beforeunload:{setup:function(F,A,G){if(this.setInterval){this.onbeforeunload=G}return false},teardown:function(F,A){if(this.onbeforeunload===A){this.onbeforeunload=null}}}}};var Ag=y.removeEventListener?function(F,A,G){F.removeEventListener(A,G,false)}:function(F,A,G){F.detachEvent("on"+A,G)};AG.Event=function(A){if(!this.preventDefault){return new AG.Event(A)}if(A&&A.type){this.originalEvent=A;this.type=A.type}else{this.type=A}this.timeStamp=Af();this[Ah]=true};AG.Event.prototype={preventDefault:function(){this.isDefaultPrevented=AL;var A=this.originalEvent;if(A){A.preventDefault&&A.preventDefault();A.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=AL;var A=this.originalEvent;if(A){A.stopPropagation&&A.stopPropagation();A.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=AL;this.stopPropagation()},isDefaultPrevented:AN,isPropagationStopped:AN,isImmediatePropagationStopped:AN};var AD=function(F){var A=F.relatedTarget;try{for(;A&&A!==this;){A=A.parentNode}if(A!==this){F.type=F.data;AG.event.handle.apply(this,arguments)}}catch(G){}},n=function(A){A.type=A.data;AG.event.handle.apply(this,arguments)};AG.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(F,A){AG.event.special[F]={setup:function(G){AG.event.add(this,A,G&&G.selector?n:AD,F)},teardown:function(G){AG.event.remove(this,A,G&&G.selector?n:AD)}}});if(!AG.support.submitBubbles){AG.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){AG.event.add(this,"click.specialSubmit",function(F){var A=F.target,G=A.type;if((G==="submit"||G==="image")&&AG(A).closest("form").length){return Ak("submit",this,arguments)}});AG.event.add(this,"keypress.specialSubmit",function(F){var A=F.target,G=A.type;if((G==="text"||G==="password")&&AG(A).closest("form").length&&F.keyCode===13){return Ak("submit",this,arguments)}})}else{return false}},teardown:function(){AG.event.remove(this,".specialSubmit")}}}if(!AG.support.changeBubbles){var k=/textarea|input|select/i,I,U=function(F){var A=F.type,G=F.value;if(A==="radio"||A==="checkbox"){G=F.checked}else{if(A==="select-multiple"){G=F.selectedIndex>-1?AG.map(F.options,function(J){return J.selected}).join("-"):""}else{if(F.nodeName.toLowerCase()==="select"){G=F.selectedIndex}}}return G},BB=function(F,A){var K=F.target,G,J;if(!(!k.test(K.nodeName)||K.readOnly)){G=AG.data(K,"_change_data");J=U(K);if(F.type!=="focusout"||K.type!=="radio"){AG.data(K,"_change_data",J)}if(!(G===x||J===G)){if(G!=null||J){F.type="change";return AG.event.trigger(F,A,K)}}}};AG.event.special.change={filters:{focusout:BB,click:function(F){var A=F.target,G=A.type;if(G==="radio"||G==="checkbox"||A.nodeName.toLowerCase()==="select"){return BB.call(this,F)}},keydown:function(F){var A=F.target,G=A.type;if(F.keyCode===13&&A.nodeName.toLowerCase()!=="textarea"||F.keyCode===32&&(G==="checkbox"||G==="radio")||G==="select-multiple"){return BB.call(this,F)}},beforeactivate:function(A){A=A.target;AG.data(A,"_change_data",U(A))}},setup:function(){if(this.type==="file"){return false}for(var A in I){AG.event.add(this,A+".specialChange",I[A])}return k.test(this.nodeName)},teardown:function(){AG.event.remove(this,".specialChange");return k.test(this.nodeName)}};I=AG.event.special.change.filters}y.addEventListener&&AG.each({focus:"focusin",blur:"focusout"},function(F,A){function G(J){J=AG.event.fix(J);J.type=A;return AG.event.handle.call(this,J)}AG.event.special[A]={setup:function(){this.addEventListener(F,G,true)},teardown:function(){this.removeEventListener(F,G,true)}}});AG.each(["bind","one"],function(F,A){AG.fn[A]=function(O,K,L){if(typeof O==="object"){for(var G in O){this[A](G,K,O[G],L)}return this}if(AG.isFunction(K)){L=K;K=x}var J=A==="one"?AG.proxy(L,function(P){AG(this).unbind(P,J);return L.apply(this,arguments)}):L;if(O==="unload"&&A!=="one"){this.one(O,K,L)}else{G=0;for(var N=this.length;G<N;G++){AG.event.add(this[G],O,J,K)}}return this}});AG.fn.extend({unbind:function(F,A){if(typeof F==="object"&&!F.preventDefault){for(var J in F){this.unbind(J,F[J])}}else{J=0;for(var G=this.length;J<G;J++){AG.event.remove(this[J],F,A)}}return this},delegate:function(F,A,J,G){return this.live(A,J,G,F)},undelegate:function(F,A,G){return arguments.length===0?this.unbind("live"):this.die(A,null,G,F)},trigger:function(F,A){return this.each(function(){AG.event.trigger(F,A,this)})},triggerHandler:function(F,A){if(this[0]){F=AG.Event(F);F.preventDefault();F.stopPropagation();AG.event.trigger(F,A,this[0]);return F.result}},toggle:function(F){for(var A=arguments,G=1;G<A.length;){AG.proxy(F,A[G++])}return this.click(AG.proxy(F,function(J){var K=(AG.data(this,"lastToggle"+F.guid)||0)%G;AG.data(this,"lastToggle"+F.guid,K+1);J.preventDefault();return A[K].apply(this,arguments)||false}))},hover:function(F,A){return this.mouseenter(F).mouseleave(A||F)}});var BF={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};AG.each(["live","die"],function(F,A){AG.fn[A]=function(R,P,Q,N){var O,J=0,L,K,G=N||this.selector,T=N?this:AG(this.context);if(AG.isFunction(P)){Q=P;P=x}for(R=(R||"").split(" ");(O=R[J++])!=null;){N=AX.exec(O);L="";if(N){L=N[0];O=O.replace(AX,"")}if(O==="hover"){R.push("mouseenter"+L,"mouseleave"+L)}else{K=O;if(O==="focus"||O==="blur"){R.push(BF[O]+L);O+=L}else{O=(BF[O]||O)+L}A==="live"?T.each(function(){AG.event.add(this,p(O,G),{data:P,selector:G,handler:Q,origType:O,origHandler:Q,preType:K})}):T.unbind(p(O,G),Q)}}return this}});AG.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(F,A){AG.fn[A]=function(G){return G?this.bind(A,G):this.trigger(A)};if(AG.attrFn){AG.attrFn[A]=true}});Ao.attachEvent&&!Ao.addEventListener&&Ao.attachEvent("onunload",function(){for(var F in AG.cache){if(AG.cache[F].handle){try{AG.event.remove(AG.cache[F].handle.elem)}catch(A){}}}});(function(){function Z(Ab){for(var Aa="",w,s=0;Ab[s];s++){w=Ab[s];if(w.nodeType===3||w.nodeType===4){Aa+=w.nodeValue}else{if(w.nodeType!==8){Aa+=Z(w.childNodes)}}}return Aa}function Y(BK,BJ,Ab,Aa,s,w){s=0;for(var BM=Aa.length;s<BM;s++){var BN=Aa[s];if(BN){BN=BN[BK];for(var BL=false;BN;){if(BN.sizcache===Ab){BL=Aa[BN.sizset];break}if(BN.nodeType===1&&!w){BN.sizcache=Ab;BN.sizset=s}if(BN.nodeName.toLowerCase()===BJ){BL=BN;break}BN=BN[BK]}Aa[s]=BL}}}function X(BK,BJ,Ab,Aa,s,w){s=0;for(var BM=Aa.length;s<BM;s++){var BN=Aa[s];if(BN){BN=BN[BK];for(var BL=false;BN;){if(BN.sizcache===Ab){BL=Aa[BN.sizset];break}if(BN.nodeType===1){if(!w){BN.sizcache=Ab;BN.sizset=s}if(typeof BJ!=="string"){if(BN===BJ){BL=true;break}}else{if(Q.filter(BJ,[BN]).length>0){BL=BN;break}}}BN=BN[BK]}Aa[s]=BL}}}var V=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,W=0,R=Object.prototype.toString,T=false,O=true;[0,0].sort(function(){O=false;return 0});var Q=function(BM,BL,BJ,Ab){BJ=BJ||[];var w=BL=BL||y;if(BL.nodeType!==1&&BL.nodeType!==9){return[]}if(!BM||typeof BM!=="string"){return BJ}for(var Aa=[],BR,BS,BO,BK,BQ=true,BN=F(BL),BP=BM;(V.exec(""),BR=V.exec(BP))!==null;){BP=BR[3];Aa.push(BR[1]);if(BR[2]){BK=BR[3];break}}if(Aa.length>1&&L.exec(BM)){if(Aa.length===2&&P.relative[Aa[0]]){BS=c(Aa[0]+Aa[1],BL)}else{for(BS=P.relative[Aa[0]]?[BL]:Q(Aa.shift(),BL);Aa.length;){BM=Aa.shift();if(P.relative[BM]){BM+=Aa.shift()}BS=c(BM,BS)}}}else{if(!Ab&&Aa.length>1&&BL.nodeType===9&&!BN&&P.match.ID.test(Aa[0])&&!P.match.ID.test(Aa[Aa.length-1])){BR=Q.find(Aa.shift(),BL,BN);BL=BR.expr?Q.filter(BR.expr,BR.set)[0]:BR.set[0]}if(BL){BR=Ab?{expr:Aa.pop(),set:A(Ab)}:Q.find(Aa.pop(),Aa.length===1&&(Aa[0]==="~"||Aa[0]==="+")&&BL.parentNode?BL.parentNode:BL,BN);BS=BR.expr?Q.filter(BR.expr,BR.set):BR.set;if(Aa.length>0){BO=A(BS)}else{BQ=false}for(;Aa.length;){var s=Aa.pop();BR=s;if(P.relative[s]){BR=Aa.pop()}else{s=""}if(BR==null){BR=BL}P.relative[s](BO,BR,BN)}}else{BO=[]}}BO||(BO=BS);BO||Q.error(s||BM);if(R.call(BO)==="[object Array]"){if(BQ){if(BL&&BL.nodeType===1){for(BM=0;BO[BM]!=null;BM++){if(BO[BM]&&(BO[BM]===true||BO[BM].nodeType===1&&J(BL,BO[BM]))){BJ.push(BS[BM])}}}else{for(BM=0;BO[BM]!=null;BM++){BO[BM]&&BO[BM].nodeType===1&&BJ.push(BS[BM])}}}else{BJ.push.apply(BJ,BO)}}else{A(BO,BJ)}if(BK){Q(BK,w,BJ,Ab);Q.uniqueSort(BJ)}return BJ};Q.uniqueSort=function(w){if(N){T=O;w.sort(N);if(T){for(var s=1;s<w.length;s++){w[s]===w[s-1]&&w.splice(s--,1)}}}return w};Q.matches=function(w,s){return Q(w,null,null,s)};Q.find=function(BK,BJ,Ab){var Aa,s;if(!BK){return[]}for(var w=0,BM=P.order.length;w<BM;w++){var BN=P.order[w];if(s=P.leftMatch[BN].exec(BK)){var BL=s[1];s.splice(1,1);if(BL.substr(BL.length-1)!=="\\"){s[1]=(s[1]||"").replace(/\\/g,"");Aa=P.find[BN](s,BJ,Ab);if(Aa!=null){BK=BK.replace(P.match[BN],"");break}}}}Aa||(Aa=BJ.getElementsByTagName("*"));return{set:Aa,expr:BK}};Q.filter=function(BN,BM,BK,Ab){for(var w=BN,Aa=[],BT=BM,BU,BQ,BL=BM&&BM[0]&&F(BM[0]);BN&&BM.length;){for(var BS in P.filter){if((BU=P.leftMatch[BS].exec(BN))!=null&&BU[2]){var BO=P.filter[BS],BR,s;s=BU[1];BQ=false;BU.splice(1,1);if(s.substr(s.length-1)!=="\\"){if(BT===Aa){Aa=[]}if(P.preFilter[BS]){if(BU=P.preFilter[BS](BU,BT,BK,Aa,Ab,BL)){if(BU===true){continue}}else{BQ=BR=true}}if(BU){for(var BJ=0;(s=BT[BJ])!=null;BJ++){if(s){BR=BO(s,BU,BJ,BT);var BP=Ab^!!BR;if(BK&&BR!=null){if(BP){BQ=true}else{BT[BJ]=false}}else{if(BP){Aa.push(s);BQ=true}}}}}if(BR!==x){BK||(BT=Aa);BN=BN.replace(P.match[BS],"");if(!BQ){return[]}break}}}}if(BN===w){if(BQ==null){Q.error(BN)}else{break}}w=BN}return BT};Q.error=function(s){throw"Syntax error, unrecognized expression: "+s};var P=Q.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(s){return s.getAttribute("href")}},relative:{"+":function(Ab,Aa){var w=typeof Aa==="string",s=w&&!/\W/.test(Aa);w=w&&!s;if(s){Aa=Aa.toLowerCase()}s=0;for(var BJ=Ab.length,BK;s<BJ;s++){if(BK=Ab[s]){for(;(BK=BK.previousSibling)&&BK.nodeType!==1;){}Ab[s]=w||BK&&BK.nodeName.toLowerCase()===Aa?BK||false:BK===Aa}}w&&Q.filter(Aa,Ab,true)},">":function(Ab,Aa){var w=typeof Aa==="string";if(w&&!/\W/.test(Aa)){Aa=Aa.toLowerCase();for(var s=0,BJ=Ab.length;s<BJ;s++){var BK=Ab[s];if(BK){w=BK.parentNode;Ab[s]=w.nodeName.toLowerCase()===Aa?w:false}}}else{s=0;for(BJ=Ab.length;s<BJ;s++){if(BK=Ab[s]){Ab[s]=w?BK.parentNode:BK.parentNode===Aa}}w&&Q.filter(Aa,Ab,true)}},"":function(Ab,Aa,w){var s=W++,BJ=X;if(typeof Aa==="string"&&!/\W/.test(Aa)){var BK=Aa=Aa.toLowerCase();BJ=Y}BJ("parentNode",Aa,s,Ab,BK,w)},"~":function(Ab,Aa,w){var s=W++,BJ=X;if(typeof Aa==="string"&&!/\W/.test(Aa)){var BK=Aa=Aa.toLowerCase();BJ=Y}BJ("previousSibling",Aa,s,Ab,BK,w)}},find:{ID:function(Aa,w,s){if(typeof w.getElementById!=="undefined"&&!s){return(Aa=w.getElementById(Aa[1]))?[Aa]:[]}},NAME:function(Ab,Aa){if(typeof Aa.getElementsByName!=="undefined"){var w=[];Aa=Aa.getElementsByName(Ab[1]);for(var s=0,BJ=Aa.length;s<BJ;s++){Aa[s].getAttribute("name")===Ab[1]&&w.push(Aa[s])}return w.length===0?null:w}},TAG:function(w,s){return s.getElementsByTagName(w[1])}},preFilter:{CLASS:function(BJ,Ab,w,s,BK,BL){BJ=" "+BJ[1].replace(/\\/g,"")+" ";if(BL){return BJ}BL=0;for(var Aa;(Aa=Ab[BL])!=null;BL++){if(Aa){if(BK^(Aa.className&&(" "+Aa.className+" ").replace(/[\t\n]/g," ").indexOf(BJ)>=0)){w||s.push(Aa)}else{if(w){Ab[BL]=false}}}}return false},ID:function(s){return s[1].replace(/\\/g,"")},TAG:function(s){return s[1].toLowerCase()},CHILD:function(w){if(w[1]==="nth"){var s=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(w[2]==="even"&&"2n"||w[2]==="odd"&&"2n+1"||!/\D/.test(w[2])&&"0n+"+w[2]||w[2]);w[2]=s[1]+(s[2]||1)-0;w[3]=s[3]-0}w[0]=W++;return w},ATTR:function(Ab,Aa,w,s,BJ,BK){Aa=Ab[1].replace(/\\/g,"");if(!BK&&P.attrMap[Aa]){Ab[1]=P.attrMap[Aa]}if(Ab[2]==="~="){Ab[4]=" "+Ab[4]+" "}return Ab},PSEUDO:function(Ab,Aa,w,s,BJ){if(Ab[1]==="not"){if((V.exec(Ab[3])||"").length>1||/^\w/.test(Ab[3])){Ab[3]=Q(Ab[3],null,null,Aa)}else{Ab=Q.filter(Ab[3],Aa,w,true^BJ);w||s.push.apply(s,Ab);return false}}else{if(P.match.POS.test(Ab[0])||P.match.CHILD.test(Ab[0])){return true}}return Ab},POS:function(s){s.unshift(true);return s}},filters:{enabled:function(s){return s.disabled===false&&s.type!=="hidden"},disabled:function(s){return s.disabled===true},checked:function(s){return s.checked===true},selected:function(s){return s.selected===true},parent:function(s){return !!s.firstChild},empty:function(s){return !s.firstChild},has:function(Aa,w,s){return !!Q(s[3],Aa).length},header:function(s){return/h\d/i.test(s.nodeName)},text:function(s){return"text"===s.type},radio:function(s){return"radio"===s.type},checkbox:function(s){return"checkbox"===s.type},file:function(s){return"file"===s.type},password:function(s){return"password"===s.type},submit:function(s){return"submit"===s.type},image:function(s){return"image"===s.type},reset:function(s){return"reset"===s.type},button:function(s){return"button"===s.type||s.nodeName.toLowerCase()==="button"},input:function(s){return/input|select|textarea|button/i.test(s.nodeName)}},setFilters:{first:function(w,s){return s===0},last:function(Ab,Aa,w,s){return Aa===s.length-1},even:function(w,s){return s%2===0},odd:function(w,s){return s%2===1},lt:function(Aa,w,s){return w<s[3]-0},gt:function(Aa,w,s){return w>s[3]-0},nth:function(Aa,w,s){return s[3]-0===w},eq:function(Aa,w,s){return s[3]-0===w}},filter:{PSEUDO:function(Ab,Aa,w,s){var BJ=Aa[1],BK=P.filters[BJ];if(BK){return BK(Ab,w,Aa,s)}else{if(BJ==="contains"){return(Ab.textContent||Ab.innerText||Z([Ab])||"").indexOf(Aa[3])>=0}else{if(BJ==="not"){Aa=Aa[3];w=0;for(s=Aa.length;w<s;w++){if(Aa[w]===Ab){return false}}return true}else{Q.error("Syntax error, unrecognized expression: "+BJ)}}}},CHILD:function(BJ,Ab){var w=Ab[1],s=BJ;switch(w){case"only":case"first":for(;s=s.previousSibling;){if(s.nodeType===1){return false}}if(w==="first"){return true}s=BJ;case"last":for(;s=s.nextSibling;){if(s.nodeType===1){return false}}return true;case"nth":w=Ab[2];var BK=Ab[3];if(w===1&&BK===0){return true}Ab=Ab[0];var BL=BJ.parentNode;if(BL&&(BL.sizcache!==Ab||!BJ.nodeIndex)){var Aa=0;for(s=BL.firstChild;s;s=s.nextSibling){if(s.nodeType===1){s.nodeIndex=++Aa}}BL.sizcache=Ab}BJ=BJ.nodeIndex-BK;return w===0?BJ===0:BJ%w===0&&BJ/w>=0}},ID:function(w,s){return w.nodeType===1&&w.getAttribute("id")===s},TAG:function(w,s){return s==="*"&&w.nodeType===1||w.nodeName.toLowerCase()===s},CLASS:function(w,s){return(" "+(w.className||w.getAttribute("class"))+" ").indexOf(s)>-1},ATTR:function(Ab,Aa){var w=Aa[1];Ab=P.attrHandle[w]?P.attrHandle[w](Ab):Ab[w]!=null?Ab[w]:Ab.getAttribute(w);w=Ab+"";var s=Aa[2];Aa=Aa[4];return Ab==null?s==="!=":s==="="?w===Aa:s==="*="?w.indexOf(Aa)>=0:s==="~="?(" "+w+" ").indexOf(Aa)>=0:!Aa?w&&Ab!==false:s==="!="?w!==Aa:s==="^="?w.indexOf(Aa)===0:s==="$="?w.substr(w.length-Aa.length)===Aa:s==="|="?w===Aa||w.substr(0,Aa.length+1)===Aa+"-":false},POS:function(Ab,Aa,w,s){var BJ=P.setFilters[Aa[2]];if(BJ){return BJ(Ab,w,Aa,s)}}}},L=P.match.POS;for(var G in P.match){P.match[G]=new RegExp(P.match[G].source+/(?![^\[]*\])(?![^\(]*\))/.source);P.leftMatch[G]=new RegExp(/(^(?:.|\r|\n)*?)/.source+P.match[G].source.replace(/\\(\d+)/g,function(w,s){return"\\"+(s-0+1)}))}var A=function(w,s){w=Array.prototype.slice.call(w,0);if(s){s.push.apply(s,w);return s}return w};try{Array.prototype.slice.call(y.documentElement.childNodes,0)}catch(K){A=function(Ab,Aa){Aa=Aa||[];if(R.call(Ab)==="[object Array]"){Array.prototype.push.apply(Aa,Ab)}else{if(typeof Ab.length==="number"){for(var w=0,s=Ab.length;w<s;w++){Aa.push(Ab[w])}}else{for(w=0;Ab[w];w++){Aa.push(Ab[w])}}}return Aa}}var N;if(y.documentElement.compareDocumentPosition){N=function(w,s){if(!w.compareDocumentPosition||!s.compareDocumentPosition){if(w==s){T=true}return w.compareDocumentPosition?-1:1}w=w.compareDocumentPosition(s)&4?-1:w===s?0:1;if(w===0){T=true}return w}}else{if("sourceIndex" in y.documentElement){N=function(w,s){if(!w.sourceIndex||!s.sourceIndex){if(w==s){T=true}return w.sourceIndex?-1:1}w=w.sourceIndex-s.sourceIndex;if(w===0){T=true}return w}}else{if(y.createRange){N=function(Ab,Aa){if(!Ab.ownerDocument||!Aa.ownerDocument){if(Ab==Aa){T=true}return Ab.ownerDocument?-1:1}var w=Ab.ownerDocument.createRange(),s=Aa.ownerDocument.createRange();w.setStart(Ab,0);w.setEnd(Ab,0);s.setStart(Aa,0);s.setEnd(Aa,0);Ab=w.compareBoundaryPoints(Range.START_TO_END,s);if(Ab===0){T=true}return Ab}}}}(function(){var Aa=y.createElement("div"),w="script"+(new Date).getTime();Aa.innerHTML="<a name='"+w+"'/>";var s=y.documentElement;s.insertBefore(Aa,s.firstChild);if(y.getElementById(w)){P.find.ID=function(Ab,BJ,BK){if(typeof BJ.getElementById!=="undefined"&&!BK){return(BJ=BJ.getElementById(Ab[1]))?BJ.id===Ab[1]||typeof BJ.getAttributeNode!=="undefined"&&BJ.getAttributeNode("id").nodeValue===Ab[1]?[BJ]:x:[]}};P.filter.ID=function(Ab,BJ){var BK=typeof Ab.getAttributeNode!=="undefined"&&Ab.getAttributeNode("id");return Ab.nodeType===1&&BK&&BK.nodeValue===BJ}}s.removeChild(Aa);s=Aa=null})();(function(){var s=y.createElement("div");s.appendChild(y.createComment(""));if(s.getElementsByTagName("*").length>0){P.find.TAG=function(Ab,Aa){Aa=Aa.getElementsByTagName(Ab[1]);if(Ab[1]==="*"){Ab=[];for(var w=0;Aa[w];w++){Aa[w].nodeType===1&&Ab.push(Aa[w])}Aa=Ab}return Aa}}s.innerHTML="<a href='#'></a>";if(s.firstChild&&typeof s.firstChild.getAttribute!=="undefined"&&s.firstChild.getAttribute("href")!=="#"){P.attrHandle.href=function(w){return w.getAttribute("href",2)}}s=null})();y.querySelectorAll&&function(){var Aa=Q,w=y.createElement("div");w.innerHTML="<p class='TEST'></p>";if(!(w.querySelectorAll&&w.querySelectorAll(".TEST").length===0)){Q=function(Ab,BL,BM,BJ){BL=BL||y;if(!BJ&&BL.nodeType===9&&!F(BL)){try{return A(BL.querySelectorAll(Ab),BM)}catch(BK){}}return Aa(Ab,BL,BM,BJ)};for(var s in Aa){Q[s]=Aa[s]}w=null}}();(function(){var s=y.createElement("div");s.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!s.getElementsByClassName||s.getElementsByClassName("e").length===0)){s.lastChild.className="e";if(s.getElementsByClassName("e").length!==1){P.order.splice(1,0,"CLASS");P.find.CLASS=function(Ab,Aa,w){if(typeof Aa.getElementsByClassName!=="undefined"&&!w){return Aa.getElementsByClassName(Ab[1])}};s=null}}})();var J=y.compareDocumentPosition?function(w,s){return !!(w.compareDocumentPosition(s)&16)}:function(w,s){return w!==s&&(w.contains?w.contains(s):true)},F=function(s){return(s=(s?s.ownerDocument||s:0).documentElement)?s.nodeName!=="HTML":false},c=function(Ab,Aa){var w=[],s="",BJ;for(Aa=Aa.nodeType?[Aa]:Aa;BJ=P.match.PSEUDO.exec(Ab);){s+=BJ[0];Ab=Ab.replace(P.match.PSEUDO,"")}Ab=P.relative[Ab]?Ab+"*":Ab;BJ=0;for(var BK=Aa.length;BJ<BK;BJ++){Q(Ab,Aa[BJ],w)}return Q.filter(s,w)};AG.find=Q;AG.expr=Q.selectors;AG.expr[":"]=AG.expr.filters;AG.unique=Q.uniqueSort;AG.text=Z;AG.isXMLDoc=F;AG.contains=J})();var H=/Until$/,A9=/^(?:parents|prevUntil|prevAll)/,Aw=/,/;AS=Array.prototype.slice;var Al=function(F,A,J){if(AG.isFunction(A)){return AG.grep(F,function(L,K){return !!A.call(L,K,L)===J})}else{if(A.nodeType){return AG.grep(F,function(K){return K===A===J})}else{if(typeof A==="string"){var G=AG.grep(F,function(K){return K.nodeType===1});if(At.test(A)){return AG.filter(A,G,!J)}else{A=AG.filter(A,G)}}}}return AG.grep(F,function(K){return AG.inArray(K,A)>=0===J})};AG.fn.extend({find:function(F){for(var A=this.pushStack("","find",F),N=0,K=0,L=this.length;K<L;K++){N=A.length;AG.find(F,this[K],A);if(K>0){for(var G=N;G<A.length;G++){for(var J=0;J<N;J++){if(A[J]===A[G]){A.splice(G--,1);break}}}}}return A},has:function(F){var A=AG(F);return this.filter(function(){for(var J=0,G=A.length;J<G;J++){if(AG.contains(this,A[J])){return true}}})},not:function(A){return this.pushStack(Al(this,A,false),"not",A)},filter:function(A){return this.pushStack(Al(this,A,true),"filter",A)},is:function(A){return !!A&&AG.filter(A,this).length>0},closest:function(P,O){if(AG.isArray(P)){var N=[],K=this[0],L,G={},J;if(K&&P.length){L=0;for(var A=P.length;L<A;L++){J=P[L];G[J]||(G[J]=AG.expr.match.POS.test(J)?AG(J,O||this.context):J)}for(;K&&K.ownerDocument&&K!==O;){for(J in G){L=G[J];if(L.jquery?L.index(K)>-1:AG(K).is(L)){N.push({selector:J,elem:K});delete G[J]}}K=K.parentNode}}return N}var F=AG.expr.match.POS.test(P)?AG(P,O||this.context):null;return this.map(function(R,Q){for(;Q&&Q.ownerDocument&&Q!==O;){if(F?F.index(Q)>-1:AG(Q).is(P)){return Q}Q=Q.parentNode}return null})},index:function(A){if(!A||typeof A==="string"){return AG.inArray(this[0],A?AG(A):this.parent().children())}return AG.inArray(A.jquery?A[0]:A,this)},add:function(F,A){F=typeof F==="string"?AG(F,A||this.context):AG.makeArray(F);A=AG.merge(this.get(),F);return this.pushStack(b(F[0])||b(A[0])?A:AG.unique(A))},andSelf:function(){return this.add(this.prevObject)}});AG.each({parent:function(A){return(A=A.parentNode)&&A.nodeType!==11?A:null},parents:function(A){return AG.dir(A,"parentNode")},parentsUntil:function(F,A,G){return AG.dir(F,"parentNode",G)},next:function(A){return AG.nth(A,2,"nextSibling")},prev:function(A){return AG.nth(A,2,"previousSibling")},nextAll:function(A){return AG.dir(A,"nextSibling")},prevAll:function(A){return AG.dir(A,"previousSibling")},nextUntil:function(F,A,G){return AG.dir(F,"nextSibling",G)},prevUntil:function(F,A,G){return AG.dir(F,"previousSibling",G)},siblings:function(A){return AG.sibling(A.parentNode.firstChild,A)},children:function(A){return AG.sibling(A.firstChild)},contents:function(A){return AG.nodeName(A,"iframe")?A.contentDocument||A.contentWindow.document:AG.makeArray(A.childNodes)}},function(F,A){AG.fn[F]=function(K,G){var J=AG.map(this,A,K);H.test(F)||(G=K);if(G&&typeof G==="string"){J=AG.filter(G,J)}J=this.length>1?AG.unique(J):J;if((this.length>1||Aw.test(G))&&A9.test(F)){J=J.reverse()}return this.pushStack(J,F,AS.call(arguments).join(","))}});AG.extend({filter:function(F,A,G){if(G){F=":not("+F+")"}return AG.find.matches(F,A)},dir:function(F,A,J){var G=[];for(F=F[A];F&&F.nodeType!==9&&(J===x||F.nodeType!==1||!AG(F).is(J));){F.nodeType===1&&G.push(F);F=F[A]}return G},nth:function(F,A,J){A=A||1;for(var G=0;F;F=F[J]){if(F.nodeType===1&&++G===A){break}}return F},sibling:function(F,A){for(var G=[];F;F=F.nextSibling){F.nodeType===1&&F!==A&&G.push(F)}return G}});var AH=/ jQuery\d+="(?:\d+|null)"/g,AQ=/^\s+/,q=/(<([\w:]+)[^>]*?)\/>/g,Ad=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,d=/<([\w:]+)/,AB=/<tbody/i,l=/<|&#?\w+;/,Ap=/<script|<object|<embed|<option|<style/i,AJ=/checked\s*(?:[^=]|=\s*.checked.)/i,BI=function(F,A,G){return Ad.test(G)?F:A+"></"+G+">"},Aj={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Aj.optgroup=Aj.option;Aj.tbody=Aj.tfoot=Aj.colgroup=Aj.caption=Aj.thead;Aj.th=Aj.td;if(!AG.support.htmlSerialize){Aj._default=[1,"div<div>","</div>"]}AG.fn.extend({text:function(A){if(AG.isFunction(A)){return this.each(function(F){var G=AG(this);G.text(A.call(this,F,G.text()))})}if(typeof A!=="object"&&A!==x){return this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(A))}return AG.text(this)},wrapAll:function(F){if(AG.isFunction(F)){return this.each(function(G){AG(this).wrapAll(F.call(this,G))})}if(this[0]){var A=AG(F,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&A.insertBefore(this[0]);A.map(function(){for(var G=this;G.firstChild&&G.firstChild.nodeType===1;){G=G.firstChild}return G}).append(this)}return this},wrapInner:function(A){if(AG.isFunction(A)){return this.each(function(F){AG(this).wrapInner(A.call(this,F))})}return this.each(function(){var F=AG(this),G=F.contents();G.length?G.wrapAll(A):F.append(A)})},wrap:function(A){return this.each(function(){AG(this).wrapAll(A)})},unwrap:function(){return this.parent().each(function(){AG.nodeName(this,"body")||AG(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(A){this.nodeType===1&&this.appendChild(A)})},prepend:function(){return this.domManip(arguments,true,function(A){this.nodeType===1&&this.insertBefore(A,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(F){this.parentNode.insertBefore(F,this)})}else{if(arguments.length){var A=AG(arguments[0]);A.push.apply(A,this.toArray());return this.pushStack(A,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(F){this.parentNode.insertBefore(F,this.nextSibling)})}else{if(arguments.length){var A=this.pushStack(this,"after",arguments);A.push.apply(A,AG(arguments[0]).toArray());return A}}},remove:function(F,A){for(var J=0,G;(G=this[J])!=null;J++){if(!F||AG.filter(F,[G]).length){if(!A&&G.nodeType===1){AG.cleanData(G.getElementsByTagName("*"));AG.cleanData([G])}G.parentNode&&G.parentNode.removeChild(G)}}return this},empty:function(){for(var F=0,A;(A=this[F])!=null;F++){for(A.nodeType===1&&AG.cleanData(A.getElementsByTagName("*"));A.firstChild;){A.removeChild(A.firstChild)}}return this},clone:function(F){var A=this.map(function(){if(!AG.support.noCloneEvent&&!AG.isXMLDoc(this)){var J=this.outerHTML,G=this.ownerDocument;if(!J){J=G.createElement("div");J.appendChild(this.cloneNode(true));J=J.innerHTML}return AG.clean([J.replace(AH,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(AQ,"")],G)[0]}else{return this.cloneNode(true)}});if(F===true){BH(this,A);BH(this.find("*"),A.find("*"))}return A},html:function(F){if(F===x){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(AH,""):null}else{if(typeof F==="string"&&!Ap.test(F)&&(AG.support.leadingWhitespace||!AQ.test(F))&&!Aj[(d.exec(F)||["",""])[1].toLowerCase()]){F=F.replace(q,BI);try{for(var A=0,J=this.length;A<J;A++){if(this[A].nodeType===1){AG.cleanData(this[A].getElementsByTagName("*"));this[A].innerHTML=F}}}catch(G){this.empty().append(F)}}else{AG.isFunction(F)?this.each(function(N){var K=AG(this),L=K.html();K.empty().append(function(){return F.call(this,N,L)})}):this.empty().append(F)}}return this},replaceWith:function(A){if(this[0]&&this[0].parentNode){if(AG.isFunction(A)){return this.each(function(F){var J=AG(this),G=J.html();J.replaceWith(A.call(this,F,G))})}if(typeof A!=="string"){A=AG(A).detach()}return this.each(function(){var F=this.nextSibling,G=this.parentNode;AG(this).remove();F?AG(F).before(A):AG(G).append(A)})}else{return this.pushStack(AG(AG.isFunction(A)?A():A),"replaceWith",A)}},detach:function(A){return this.remove(A,true)},domManip:function(R,Q,P){function N(T){return AG.nodeName(T,"table")?T.getElementsByTagName("tbody")[0]||T.appendChild(T.ownerDocument.createElement("tbody")):T}var O,K,L=R[0],F=[],J;if(!AG.support.checkClone&&arguments.length===3&&typeof L==="string"&&AJ.test(L)){return this.each(function(){AG(this).domManip(R,Q,P,true)})}if(AG.isFunction(L)){return this.each(function(T){var V=AG(this);R[0]=L.call(this,T,Q?V.html():x);V.domManip(R,Q,P)})}if(this[0]){O=L&&L.parentNode;O=AG.support.parentNode&&O&&O.nodeType===11&&O.childNodes.length===this.length?{fragment:O}:A3(R,this,F);J=O.fragment;if(K=J.childNodes.length===1?(J=J.firstChild):J.firstChild){Q=Q&&AG.nodeName(K,"tr");for(var G=0,A=this.length;G<A;G++){P.call(Q?N(this[G],K):this[G],G>0||O.cacheable||this.length>1?J.cloneNode(true):J)}}F.length&&AG.each(F,u)}return this}});AG.fragments={};AG.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(F,A){AG.fn[F]=function(N){var K=[];N=AG(N);var L=this.length===1&&this[0].parentNode;if(L&&L.nodeType===11&&L.childNodes.length===1&&N.length===1){N[A](this[0]);return this}else{L=0;for(var G=N.length;L<G;L++){var J=(L>0?this.clone(true):this).get();AG.fn[A].apply(AG(N[L]),J);K=K.concat(J)}return this.pushStack(K,F,N.selector)}}});AG.extend({clean:function(R,Q,P,N){Q=Q||y;if(typeof Q.createElement==="undefined"){Q=Q.ownerDocument||Q[0]&&Q[0].ownerDocument||y}for(var O=[],K=0,L;(L=R[K])!=null;K++){if(typeof L==="number"){L+=""}if(L){if(typeof L==="string"&&!l.test(L)){L=Q.createTextNode(L)}else{if(typeof L==="string"){L=L.replace(q,BI);var F=(d.exec(L)||["",""])[1].toLowerCase(),J=Aj[F]||Aj._default,G=J[0],A=Q.createElement("div");for(A.innerHTML=J[1]+L+J[2];G--;){A=A.lastChild}if(!AG.support.tbody){G=AB.test(L);F=F==="table"&&!G?A.firstChild&&A.firstChild.childNodes:J[1]==="<table>"&&!G?A.childNodes:[];for(J=F.length-1;J>=0;--J){AG.nodeName(F[J],"tbody")&&!F[J].childNodes.length&&F[J].parentNode.removeChild(F[J])}}!AG.support.leadingWhitespace&&AQ.test(L)&&A.insertBefore(Q.createTextNode(AQ.exec(L)[0]),A.firstChild);L=A.childNodes}}if(L.nodeType){O.push(L)}else{O=AG.merge(O,L)}}}if(P){for(K=0;O[K];K++){if(N&&AG.nodeName(O[K],"script")&&(!O[K].type||O[K].type.toLowerCase()==="text/javascript")){N.push(O[K].parentNode?O[K].parentNode.removeChild(O[K]):O[K])}else{O[K].nodeType===1&&O.splice.apply(O,[K+1,0].concat(AG.makeArray(O[K].getElementsByTagName("script"))));P.appendChild(O[K])}}}return O},cleanData:function(P){for(var O,N,K=AG.cache,L=AG.event.special,G=AG.support.deleteExpando,J=0,A;(A=P[J])!=null;J++){if(N=A[AG.expando]){O=K[N];if(O.events){for(var F in O.events){L[F]?AG.event.remove(A,F):Ag(A,F,O.handle)}}if(G){delete A[AG.expando]}else{A.removeAttribute&&A.removeAttribute(AG.expando)}delete K[N]}}}});var M=/z-?index|font-?weight|opacity|zoom|line-?height/i,A4=/alpha\([^)]*\)/,Aq=/opacity=([^)]*)/,Ae=/float/i,AC=/-([a-z])/ig,BD=/([A-Z])/g,Az=/^-?\d+(?:px)?$/i,Ai=/^-?\d/,AE={position:"absolute",visibility:"hidden",display:"block"},o=["Left","Right"],a=["Top","Bottom"],BG=y.defaultView&&y.defaultView.getComputedStyle,AK=AG.support.cssFloat?"cssFloat":"styleFloat",m=function(F,A){return A.toUpperCase()};AG.fn.css=function(F,A){return AO(this,F,A,true,function(K,G,J){if(J===x){return AG.curCSS(K,G)}if(typeof J==="number"&&!M.test(G)){J+="px"}AG.style(K,G,J)})};AG.extend({style:function(F,A,K){if(!F||F.nodeType===3||F.nodeType===8){return x}if((A==="width"||A==="height")&&parseFloat(K)<0){K=x}var G=F.style||F,J=K!==x;if(!AG.support.opacity&&A==="opacity"){if(J){G.zoom=1;A=parseInt(K,10)+""==="NaN"?"":"alpha(opacity="+K*100+")";F=G.filter||AG.curCSS(F,"filter")||"";G.filter=A4.test(F)?F.replace(A4,A):A}return G.filter&&G.filter.indexOf("opacity=")>=0?parseFloat(Aq.exec(G.filter)[1])/100+"":""}if(Ae.test(A)){A=AK}A=A.replace(AC,m);if(J){G[A]=K}return G[A]},css:function(F,A,N,K){if(A==="width"||A==="height"){var L,G=A==="width"?o:a;function J(){L=A==="width"?F.offsetWidth:F.offsetHeight;K!=="border"&&AG.each(G,function(){K||(L-=parseFloat(AG.curCSS(F,"padding"+this,true))||0);if(K==="margin"){L+=parseFloat(AG.curCSS(F,"margin"+this,true))||0}else{L-=parseFloat(AG.curCSS(F,"border"+this+"Width",true))||0}})}F.offsetWidth!==0?J():AG.swap(F,AE,J);return Math.max(0,Math.round(L))}return AG.curCSS(F,A,N)},curCSS:function(F,A,L){var J,K=F.style;if(!AG.support.opacity&&A==="opacity"&&F.currentStyle){J=Aq.test(F.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return J===""?"1":J}if(Ae.test(A)){A=AK}if(!L&&K&&K[A]){J=K[A]}else{if(BG){if(Ae.test(A)){A="float"}A=A.replace(BD,"-$1").toLowerCase();K=F.ownerDocument.defaultView;if(!K){return null}if(F=K.getComputedStyle(F,null)){J=F.getPropertyValue(A)}if(A==="opacity"&&J===""){J="1"}}else{if(F.currentStyle){L=A.replace(AC,m);J=F.currentStyle[A]||F.currentStyle[L];if(!Az.test(J)&&Ai.test(J)){A=K.left;var G=F.runtimeStyle.left;F.runtimeStyle.left=F.currentStyle.left;K.left=L==="fontSize"?"1em":J||0;J=K.pixelLeft+"px";K.left=A;F.runtimeStyle.left=G}}}}return J},swap:function(F,A,K){var G={};for(var J in A){G[J]=F.style[J];F.style[J]=A[J]}K.call(F);for(J in A){F.style[J]=G[J]}}});if(AG.expr&&AG.expr.filters){AG.expr.filters.hidden=function(F){var A=F.offsetWidth,J=F.offsetHeight,G=F.nodeName.toLowerCase()==="tr";return A===0&&J===0&&!G?true:A>0&&J>0&&!G?false:AG.curCSS(F,"display")==="none"};AG.expr.filters.visible=function(A){return !AG.expr.filters.hidden(A)}}var A2=Af(),An=/<script(.|\s)*?\/script>/gi,AI=/select|textarea/i,r=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,AY=/=\?(&|$)/,S=/\?/,e=/(\?|&)_=.*?(&|$)/,B=/^(\w+:)?\/\/([^\/?#]+)/,A5=/%20/g,Ar=AG.fn.load;AG.fn.extend({load:function(F,A,L){if(typeof F!=="string"){return Ar.call(this,F)}else{if(!this.length){return this}}var J=F.indexOf(" ");if(J>=0){var K=F.slice(J,F.length);F=F.slice(0,J)}J="GET";if(A){if(AG.isFunction(A)){L=A;A=null}else{if(typeof A==="object"){A=AG.param(A,AG.ajaxSettings.traditional);J="POST"}}}var G=this;AG.ajax({url:F,type:J,dataType:"html",data:A,complete:function(N,O){if(O==="success"||O==="notmodified"){G.html(K?AG("<div />").append(N.responseText.replace(An,"")).find(K):N.responseText)}L&&G.each(L,[N.responseText,O,N])}});return this},serialize:function(){return AG.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?AG.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||AI.test(this.nodeName)||r.test(this.type))}).map(function(F,A){F=AG(this).val();return F==null?null:AG.isArray(F)?AG.map(F,function(G){return{name:A.name,value:G}}):{name:A.name,value:F}}).get()}});AG.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(F,A){AG.fn[A]=function(G){return this.bind(A,G)}});AG.extend({get:function(F,A,J,G){if(AG.isFunction(A)){G=G||J;J=A;A=null}return AG.ajax({type:"GET",url:F,data:A,success:J,dataType:G})},getScript:function(F,A){return AG.get(F,null,A,"script")},getJSON:function(F,A,G){return AG.get(F,A,G,"json")},post:function(F,A,J,G){if(AG.isFunction(A)){G=G||J;J=A;A={}}return AG.ajax({type:"POST",url:F,data:A,success:J,dataType:G})},ajaxSetup:function(A){AG.extend(AG.ajaxSettings,A)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:Ao.XMLHttpRequest&&(Ao.location.protocol!=="file:"||!Ao.ActiveXObject)?function(){return new Ao.XMLHttpRequest}:function(){try{return new Ao.ActiveXObject("Microsoft.XMLHTTP")}catch(A){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(Aa){function w(){c.success&&c.success.call(T,O,W,F);c.global&&Z("ajaxSuccess",[F,c])}function s(){c.complete&&c.complete.call(T,F,W);c.global&&Z("ajaxComplete",[F,c]);c.global&&!--AG.active&&AG.event.trigger("ajaxStop")}function Z(BJ,BK){(c.context?AG(c.context):AG.event).trigger(BJ,BK)}var c=AG.extend(true,{},AG.ajaxSettings,Aa),V,W,O,T=Aa&&Aa.context||c,P=c.type.toUpperCase();if(c.data&&c.processData&&typeof c.data!=="string"){c.data=AG.param(c.data,c.traditional)}if(c.dataType==="jsonp"){if(P==="GET"){AY.test(c.url)||(c.url+=(S.test(c.url)?"&":"?")+(c.jsonp||"callback")+"=?")}else{if(!c.data||!AY.test(c.data)){c.data=(c.data?c.data+"&":"")+(c.jsonp||"callback")+"=?"}}c.dataType="json"}if(c.dataType==="json"&&(c.data&&AY.test(c.data)||AY.test(c.url))){V=c.jsonpCallback||"jsonp"+A2++;if(c.data){c.data=(c.data+"").replace(AY,"="+V+"$1")}c.url=c.url.replace(AY,"="+V+"$1");c.dataType="script";Ao[V]=Ao[V]||function(BJ){O=BJ;w();s();Ao[V]=x;try{delete Ao[V]}catch(BK){}A&&A.removeChild(K)}}if(c.dataType==="script"&&c.cache===null){c.cache=false}if(c.cache===false&&P==="GET"){var L=Af(),G=c.url.replace(e,"$1_="+L+"$2");c.url=G+(G===c.url?(S.test(c.url)?"&":"?")+"_="+L:"")}if(c.data&&P==="GET"){c.url+=(S.test(c.url)?"&":"?")+c.data}c.global&&!AG.active++&&AG.event.trigger("ajaxStart");L=(L=B.exec(c.url))&&(L[1]&&L[1]!==location.protocol||L[2]!==location.host);if(c.dataType==="script"&&P==="GET"&&L){var A=y.getElementsByTagName("head")[0]||y.documentElement,K=y.createElement("script");K.src=c.url;if(c.scriptCharset){K.charset=c.scriptCharset}if(!V){var N=false;K.onload=K.onreadystatechange=function(){if(!N&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){N=true;w();s();K.onload=K.onreadystatechange=null;A&&K.parentNode&&A.removeChild(K)}}}A.insertBefore(K,A.firstChild);return x}var J=false,F=c.xhr();if(F){c.username?F.open(P,c.url,c.async,c.username,c.password):F.open(P,c.url,c.async);try{if(c.data||Aa&&Aa.contentType){F.setRequestHeader("Content-Type",c.contentType)}if(c.ifModified){AG.lastModified[c.url]&&F.setRequestHeader("If-Modified-Since",AG.lastModified[c.url]);AG.etag[c.url]&&F.setRequestHeader("If-None-Match",AG.etag[c.url])}L||F.setRequestHeader("X-Requested-With","XMLHttpRequest");F.setRequestHeader("Accept",c.dataType&&c.accepts[c.dataType]?c.accepts[c.dataType]+", */*":c.accepts._default)}catch(Ab){}if(c.beforeSend&&c.beforeSend.call(T,F,c)===false){c.global&&!--AG.active&&AG.event.trigger("ajaxStop");F.abort();return false}c.global&&Z("ajaxSend",[F,c]);var Y=F.onreadystatechange=function(BK){if(!F||F.readyState===0||BK==="abort"){J||s();J=true;if(F){F.onreadystatechange=AG.noop}}else{if(!J&&F&&(F.readyState===4||BK==="timeout")){J=true;F.onreadystatechange=AG.noop;W=BK==="timeout"?"timeout":!AG.httpSuccess(F)?"error":c.ifModified&&AG.httpNotModified(F,c.url)?"notmodified":"success";var BL;if(W==="success"){try{O=AG.httpData(F,c.dataType,c)}catch(BJ){W="parsererror";BL=BJ}}if(W==="success"||W==="notmodified"){V||w()}else{AG.handleError(c,F,W,BL)}s();BK==="timeout"&&F.abort();if(c.async){F=null}}}};try{var X=F.abort;F.abort=function(){F&&X.call(F);Y("abort")}}catch(R){}c.async&&c.timeout>0&&setTimeout(function(){F&&!J&&Y("timeout")},c.timeout);try{F.send(P==="POST"||P==="PUT"||P==="DELETE"?c.data:null)}catch(Q){AG.handleError(c,F,null,Q);s()}c.async||Y();return F}},handleError:function(F,A,J,G){if(F.error){F.error.call(F.context||F,A,J,G)}if(F.global){(F.context?AG(F.context):AG.event).trigger("ajaxError",[A,F,G])}},active:0,httpSuccess:function(F){try{return !F.status&&location.protocol==="file:"||F.status>=200&&F.status<300||F.status===304||F.status===1223||F.status===0}catch(A){}return false},httpNotModified:function(F,A){var J=F.getResponseHeader("Last-Modified"),G=F.getResponseHeader("Etag");if(J){AG.lastModified[A]=J}if(G){AG.etag[A]=G}return F.status===304||F.status===0},httpData:function(F,A,K){var G=F.getResponseHeader("content-type")||"",J=A==="xml"||!A&&G.indexOf("xml")>=0;F=J?F.responseXML:F.responseText;J&&F.documentElement.nodeName==="parsererror"&&AG.error("parsererror");if(K&&K.dataFilter){F=K.dataFilter(F,A)}if(typeof F==="string"){if(A==="json"||!A&&G.indexOf("json")>=0){F=AG.parseJSON(F)}else{if(A==="script"||!A&&G.indexOf("javascript")>=0){AG.globalEval(F)}}}return F},param:function(F,A){function L(N,O){if(AG.isArray(O)){AG.each(O,function(P,Q){A||/\[\]$/.test(N)?J(N,Q):L(N+"["+(typeof Q==="object"||AG.isArray(Q)?P:"")+"]",Q)})}else{!A&&O!=null&&typeof O==="object"?AG.each(O,function(P,Q){L(N+"["+P+"]",Q)}):J(N,O)}}function J(N,O){O=AG.isFunction(O)?O():O;K[K.length]=encodeURIComponent(N)+"="+encodeURIComponent(O)}var K=[];if(A===x){A=AG.ajaxSettings.traditional}if(AG.isArray(F)||F.jquery){AG.each(F,function(){J(this.name,this.value)})}else{for(var G in F){L(G,F[G])}}return K.join("&").replace(A5,"+")}});var BE={},BA=/toggle|show|hide/,Ax=/^([+-]=)?([\d+-.]+)(.*)$/,AP,t=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];AG.fn.extend({show:function(F,A){if(F||F===0){return this.animate(Ac("show",3),F,A)}else{F=0;for(A=this.length;F<A;F++){var K=AG.data(this[F],"olddisplay");this[F].style.display=K||"";if(AG.css(this[F],"display")==="none"){K=this[F].nodeName;var G;if(BE[K]){G=BE[K]}else{var J=AG("<"+K+" />").appendTo("body");G=J.css("display");if(G==="none"){G="block"}J.remove();BE[K]=G}AG.data(this[F],"olddisplay",G)}}F=0;for(A=this.length;F<A;F++){this[F].style.display=AG.data(this[F],"olddisplay")||""}return this}},hide:function(F,A){if(F||F===0){return this.animate(Ac("hide",3),F,A)}else{F=0;for(A=this.length;F<A;F++){var G=AG.data(this[F],"olddisplay");!G&&G!=="none"&&AG.data(this[F],"olddisplay",AG.css(this[F],"display"))}F=0;for(A=this.length;F<A;F++){this[F].style.display="none"}return this}},_toggle:AG.fn.toggle,toggle:function(F,A){var G=typeof F==="boolean";if(AG.isFunction(F)&&AG.isFunction(A)){this._toggle.apply(this,arguments)}else{F==null||G?this.each(function(){var J=G?F:AG(this).is(":hidden");AG(this)[J?"show":"hide"]()}):this.animate(Ac("toggle",3),F,A)}return this},fadeTo:function(F,A,G){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:A},F,G)},animate:function(F,A,K,G){var J=AG.speed(A,K,G);if(AG.isEmptyObject(F)){return this.each(J.complete)}return this[J.queue===false?"each":"queue"](function(){var N=AG.extend({},J),O,P=this.nodeType===1&&AG(this).is(":hidden"),L=this;for(O in F){var Q=O.replace(AC,m);if(O!==Q){F[Q]=F[O];delete F[O];O=Q}if(F[O]==="hide"&&P||F[O]==="show"&&!P){return N.complete.call(this)}if((O==="height"||O==="width")&&this.style){N.display=AG.css(this,"display");N.overflow=this.style.overflow}if(AG.isArray(F[O])){(N.specialEasing=N.specialEasing||{})[O]=F[O][1];F[O]=F[O][0]}}if(N.overflow!=null){this.style.overflow="hidden"}N.curAnim=AG.extend({},F);AG.each(F,function(T,R){var X=new AG.fx(L,N,T);if(BA.test(R)){X[R==="toggle"?P?"show":"hide":R](F)}else{var W=Ax.exec(R),Y=X.cur(true)||0;if(W){R=parseFloat(W[2]);var V=W[3]||"px";if(V!=="px"){L.style[T]=(R||1)+V;Y=(R||1)/X.cur(true)*Y;L.style[T]=Y+V}if(W[1]){R=(W[1]==="-="?-1:1)*R+Y}X.custom(Y,R,V)}else{X.custom(Y,R,"")}}});return true})},stop:function(F,A){var G=AG.timers;F&&this.queue([]);this.each(function(){for(var J=G.length-1;J>=0;J--){if(G[J].elem===this){A&&G[J](true);G.splice(J,1)}}});A||this.dequeue();return this}});AG.each({slideDown:Ac("show",1),slideUp:Ac("hide",1),slideToggle:Ac("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(F,A){AG.fn[F]=function(J,G){return this.animate(A,J,G)}});AG.extend({speed:function(F,A,J){var G=F&&typeof F==="object"?F:{complete:J||!J&&A||AG.isFunction(F)&&F,duration:F,easing:J&&A||A&&!AG.isFunction(A)&&A};G.duration=AG.fx.off?0:typeof G.duration==="number"?G.duration:AG.fx.speeds[G.duration]||AG.fx.speeds._default;G.old=G.complete;G.complete=function(){G.queue!==false&&AG(this).dequeue();AG.isFunction(G.old)&&G.old.call(this)};return G},easing:{linear:function(F,A,J,G){return J+G*F},swing:function(F,A,J,G){return(-Math.cos(F*Math.PI)/2+0.5)*G+J}},timers:[],fx:function(F,A,G){this.options=A;this.elem=F;this.prop=G;if(!A.orig){A.orig={}}}});AG.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(AG.fx.step[this.prop]||AG.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(A){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}return(A=parseFloat(AG.css(this.elem,this.prop,A)))&&A>-10000?A:parseFloat(AG.curCSS(this.elem,this.prop))||0},custom:function(F,A,K){function G(L){return J.step(L)}this.startTime=Af();this.start=F;this.end=A;this.unit=K||this.unit||"px";this.now=this.start;this.pos=this.state=0;var J=this;G.elem=this.elem;if(G()&&AG.timers.push(G)&&!AP){AP=setInterval(AG.fx.tick,13)}},show:function(){this.options.orig[this.prop]=AG.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());AG(this.elem).show()},hide:function(){this.options.orig[this.prop]=AG.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(F){var A=Af(),K=true;if(F||A>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var G in this.options.curAnim){if(this.options.curAnim[G]!==true){K=false}}if(K){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;F=AG.data(this.elem,"olddisplay");this.elem.style.display=F?F:this.options.display;if(AG.css(this.elem,"display")==="none"){this.elem.style.display="block"}}this.options.hide&&AG(this.elem).hide();if(this.options.hide||this.options.show){for(var J in this.options.curAnim){AG.style(this.elem,J,this.options.orig[J])}}this.options.complete.call(this.elem)}return false}else{J=A-this.startTime;this.state=J/this.options.duration;F=this.options.easing||(AG.easing.swing?"swing":"linear");this.pos=AG.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||F](this.state,J,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};AG.extend(AG.fx,{tick:function(){for(var F=AG.timers,A=0;A<F.length;A++){F[A]()||F.splice(A--,1)}F.length||AG.fx.stop()},stop:function(){clearInterval(AP);AP=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(A){AG.style(A.elem,"opacity",A.now)},_default:function(A){if(A.elem.style&&A.elem.style[A.prop]!=null){A.elem.style[A.prop]=(A.prop==="width"||A.prop==="height"?Math.max(0,A.now):A.now)+A.unit}else{A.elem[A.prop]=A.now}}}});if(AG.expr&&AG.expr.filters){AG.expr.filters.animated=function(A){return AG.grep(AG.timers,function(F){return A===F.elem}).length}}AG.fn.offset="getBoundingClientRect" in y.documentElement?function(F){var A=this[0];if(F){return this.each(function(K){AG.offset.setOffset(this,F,K)})}if(!A||!A.ownerDocument){return null}if(A===A.ownerDocument.body){return AG.offset.bodyOffset(A)}var J=A.getBoundingClientRect(),G=A.ownerDocument;A=G.body;G=G.documentElement;return{top:J.top+(self.pageYOffset||AG.support.boxModel&&G.scrollTop||A.scrollTop)-(G.clientTop||A.clientTop||0),left:J.left+(self.pageXOffset||AG.support.boxModel&&G.scrollLeft||A.scrollLeft)-(G.clientLeft||A.clientLeft||0)}}:function(Q){var P=this[0];if(Q){return this.each(function(R){AG.offset.setOffset(this,Q,R)})}if(!P||!P.ownerDocument){return null}if(P===P.ownerDocument.body){return AG.offset.bodyOffset(P)}AG.offset.initialize();var O=P.offsetParent,L=P,N=P.ownerDocument,J,K=N.documentElement,A=N.body;L=(N=N.defaultView)?N.getComputedStyle(P,null):P.currentStyle;for(var G=P.offsetTop,F=P.offsetLeft;(P=P.parentNode)&&P!==A&&P!==K;){if(AG.offset.supportsFixedPosition&&L.position==="fixed"){break}J=N?N.getComputedStyle(P,null):P.currentStyle;G-=P.scrollTop;F-=P.scrollLeft;if(P===O){G+=P.offsetTop;F+=P.offsetLeft;if(AG.offset.doesNotAddBorder&&!(AG.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(P.nodeName))){G+=parseFloat(J.borderTopWidth)||0;F+=parseFloat(J.borderLeftWidth)||0}L=O;O=P.offsetParent}if(AG.offset.subtractsBorderForOverflowNotVisible&&J.overflow!=="visible"){G+=parseFloat(J.borderTopWidth)||0;F+=parseFloat(J.borderLeftWidth)||0}L=J}if(L.position==="relative"||L.position==="static"){G+=A.offsetTop;F+=A.offsetLeft}if(AG.offset.supportsFixedPosition&&L.position==="fixed"){G+=Math.max(K.scrollTop,A.scrollTop);F+=Math.max(K.scrollLeft,A.scrollLeft)}return{top:G,left:F}};AG.offset={initialize:function(){var F=y.body,A=y.createElement("div"),L,J,K,G=parseFloat(AG.curCSS(F,"marginTop",true))||0;AG.extend(A.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});A.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";F.insertBefore(A,F.firstChild);L=A.firstChild;J=L.firstChild;K=L.nextSibling.firstChild.firstChild;this.doesNotAddBorder=J.offsetTop!==5;this.doesAddBorderForTableAndCells=K.offsetTop===5;J.style.position="fixed";J.style.top="20px";this.supportsFixedPosition=J.offsetTop===20||J.offsetTop===15;J.style.position=J.style.top="";L.style.overflow="hidden";L.style.position="relative";this.subtractsBorderForOverflowNotVisible=J.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=F.offsetTop!==G;F.removeChild(A);AG.offset.initialize=AG.noop},bodyOffset:function(F){var A=F.offsetTop,G=F.offsetLeft;AG.offset.initialize();if(AG.offset.doesNotIncludeMarginInBodyOffset){A+=parseFloat(AG.curCSS(F,"marginTop",true))||0;G+=parseFloat(AG.curCSS(F,"marginLeft",true))||0}return{top:A,left:G}},setOffset:function(F,A,N){if(/static/.test(AG.curCSS(F,"position"))){F.style.position="relative"}var K=AG(F),L=K.offset(),G=parseInt(AG.curCSS(F,"top",true),10)||0,J=parseInt(AG.curCSS(F,"left",true),10)||0;if(AG.isFunction(A)){A=A.call(F,N,L)}N={top:A.top-L.top+G,left:A.left-L.left+J};"using" in A?A.using.call(F,N):K.css(N)}};AG.fn.extend({position:function(){if(!this[0]){return null}var F=this[0],A=this.offsetParent(),J=this.offset(),G=/^body|html$/i.test(A[0].nodeName)?{top:0,left:0}:A.offset();J.top-=parseFloat(AG.curCSS(F,"marginTop",true))||0;J.left-=parseFloat(AG.curCSS(F,"marginLeft",true))||0;G.top+=parseFloat(AG.curCSS(A[0],"borderTopWidth",true))||0;G.left+=parseFloat(AG.curCSS(A[0],"borderLeftWidth",true))||0;return{top:J.top-G.top,left:J.left-G.left}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent||y.body;A&&!/^body|html$/i.test(A.nodeName)&&AG.css(A,"position")==="static";){A=A.offsetParent}return A})}});AG.each(["Left","Top"],function(F,A){var G="scroll"+A;AG.fn[G]=function(K){var L=this[0],J;if(!L){return null}if(K!==x){return this.each(function(){if(J=f(this)){J.scrollTo(!F?K:AG(J).scrollLeft(),F?K:AG(J).scrollTop())}else{this[G]=K}})}else{return(J=f(L))?"pageXOffset" in J?J[F?"pageYOffset":"pageXOffset"]:AG.support.boxModel&&J.document.documentElement[G]||J.document.body[G]:L[G]}}});AG.each(["Height","Width"],function(F,A){var G=A.toLowerCase();AG.fn["inner"+A]=function(){return this[0]?AG.css(this[0],G,false,"padding"):null};AG.fn["outer"+A]=function(J){return this[0]?AG.css(this[0],G,false,J?"margin":"border"):null};AG.fn[G]=function(J){var K=this[0];if(!K){return J==null?null:this}if(AG.isFunction(J)){return this.each(function(L){var N=AG(this);N[G](J.call(this,L,N[G]()))})}return"scrollTo" in K&&K.document?K.document.compatMode==="CSS1Compat"&&K.document.documentElement["client"+A]||K.document.body["client"+A]:K.nodeType===9?Math.max(K.documentElement["client"+A],K.body["scroll"+A],K.documentElement["scroll"+A],K.body["offset"+A],K.documentElement["offset"+A]):J===x?AG.css(K,G):this.css(G,typeof J==="string"?J:J+"px")}});Ao.jQuery=Ao.$=AG})(window);Encoder={EncodeType:"entity",isEmpty:function(A){if(A){return((A===null)||A.length==0||/^\s+$/.test(A))}else{return true}},HTML2Numerical:function(C){var B=new Array("&nbsp;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&shy;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&agrave;","&aacute;","&acirc;","&atilde;","&Auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&Ouml;","&times;","&oslash;","&ugrave;","&uacute;","&ucirc;","&Uuml;","&yacute;","&thorn;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&Oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&quot;","&amp;","&lt;","&gt;","&oelig;","&oelig;","&scaron;","&scaron;","&yuml;","&circ;","&tilde;","&ensp;","&emsp;","&thinsp;","&zwnj;","&zwj;","&lrm;","&rlm;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&dagger;","&permil;","&lsaquo;","&rsaquo;","&euro;","&fnof;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigmaf;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&thetasym;","&upsih;","&piv;","&bull;","&hellip;","&prime;","&prime;","&oline;","&frasl;","&weierp;","&image;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&lang;","&rang;","&loz;","&spades;","&clubs;","&hearts;","&diams;");var A=new Array("&#160;","&#161;","&#162;","&#163;","&#164;","&#165;","&#166;","&#167;","&#168;","&#169;","&#170;","&#171;","&#172;","&#173;","&#174;","&#175;","&#176;","&#177;","&#178;","&#179;","&#180;","&#181;","&#182;","&#183;","&#184;","&#185;","&#186;","&#187;","&#188;","&#189;","&#190;","&#191;","&#192;","&#193;","&#194;","&#195;","&#196;","&#197;","&#198;","&#199;","&#200;","&#201;","&#202;","&#203;","&#204;","&#205;","&#206;","&#207;","&#208;","&#209;","&#210;","&#211;","&#212;","&#213;","&#214;","&#215;","&#216;","&#217;","&#218;","&#219;","&#220;","&#221;","&#222;","&#223;","&#224;","&#225;","&#226;","&#227;","&#228;","&#229;","&#230;","&#231;","&#232;","&#233;","&#234;","&#235;","&#236;","&#237;","&#238;","&#239;","&#240;","&#241;","&#242;","&#243;","&#244;","&#245;","&#246;","&#247;","&#248;","&#249;","&#250;","&#251;","&#252;","&#253;","&#254;","&#255;","&#34;","&#38;","&#60;","&#62;","&#338;","&#339;","&#352;","&#353;","&#376;","&#710;","&#732;","&#8194;","&#8195;","&#8201;","&#8204;","&#8205;","&#8206;","&#8207;","&#8211;","&#8212;","&#8216;","&#8217;","&#8218;","&#8220;","&#8221;","&#8222;","&#8224;","&#8225;","&#8240;","&#8249;","&#8250;","&#8364;","&#402;","&#913;","&#914;","&#915;","&#916;","&#917;","&#918;","&#919;","&#920;","&#921;","&#922;","&#923;","&#924;","&#925;","&#926;","&#927;","&#928;","&#929;","&#931;","&#932;","&#933;","&#934;","&#935;","&#936;","&#937;","&#945;","&#946;","&#947;","&#948;","&#949;","&#950;","&#951;","&#952;","&#953;","&#954;","&#955;","&#956;","&#957;","&#958;","&#959;","&#960;","&#961;","&#962;","&#963;","&#964;","&#965;","&#966;","&#967;","&#968;","&#969;","&#977;","&#978;","&#982;","&#8226;","&#8230;","&#8242;","&#8243;","&#8254;","&#8260;","&#8472;","&#8465;","&#8476;","&#8482;","&#8501;","&#8592;","&#8593;","&#8594;","&#8595;","&#8596;","&#8629;","&#8656;","&#8657;","&#8658;","&#8659;","&#8660;","&#8704;","&#8706;","&#8707;","&#8709;","&#8711;","&#8712;","&#8713;","&#8715;","&#8719;","&#8721;","&#8722;","&#8727;","&#8730;","&#8733;","&#8734;","&#8736;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8756;","&#8764;","&#8773;","&#8776;","&#8800;","&#8801;","&#8804;","&#8805;","&#8834;","&#8835;","&#8836;","&#8838;","&#8839;","&#8853;","&#8855;","&#8869;","&#8901;","&#8968;","&#8969;","&#8970;","&#8971;","&#9001;","&#9002;","&#9674;","&#9824;","&#9827;","&#9829;","&#9830;");return this.swapArrayVals(C,B,A)},NumericalToHTML:function(C){var B=new Array("&#160;","&#161;","&#162;","&#163;","&#164;","&#165;","&#166;","&#167;","&#168;","&#169;","&#170;","&#171;","&#172;","&#173;","&#174;","&#175;","&#176;","&#177;","&#178;","&#179;","&#180;","&#181;","&#182;","&#183;","&#184;","&#185;","&#186;","&#187;","&#188;","&#189;","&#190;","&#191;","&#192;","&#193;","&#194;","&#195;","&#196;","&#197;","&#198;","&#199;","&#200;","&#201;","&#202;","&#203;","&#204;","&#205;","&#206;","&#207;","&#208;","&#209;","&#210;","&#211;","&#212;","&#213;","&#214;","&#215;","&#216;","&#217;","&#218;","&#219;","&#220;","&#221;","&#222;","&#223;","&#224;","&#225;","&#226;","&#227;","&#228;","&#229;","&#230;","&#231;","&#232;","&#233;","&#234;","&#235;","&#236;","&#237;","&#238;","&#239;","&#240;","&#241;","&#242;","&#243;","&#244;","&#245;","&#246;","&#247;","&#248;","&#249;","&#250;","&#251;","&#252;","&#253;","&#254;","&#255;","&#34;","&#38;","&#60;","&#62;","&#338;","&#339;","&#352;","&#353;","&#376;","&#710;","&#732;","&#8194;","&#8195;","&#8201;","&#8204;","&#8205;","&#8206;","&#8207;","&#8211;","&#8212;","&#8216;","&#8217;","&#8218;","&#8220;","&#8221;","&#8222;","&#8224;","&#8225;","&#8240;","&#8249;","&#8250;","&#8364;","&#402;","&#913;","&#914;","&#915;","&#916;","&#917;","&#918;","&#919;","&#920;","&#921;","&#922;","&#923;","&#924;","&#925;","&#926;","&#927;","&#928;","&#929;","&#931;","&#932;","&#933;","&#934;","&#935;","&#936;","&#937;","&#945;","&#946;","&#947;","&#948;","&#949;","&#950;","&#951;","&#952;","&#953;","&#954;","&#955;","&#956;","&#957;","&#958;","&#959;","&#960;","&#961;","&#962;","&#963;","&#964;","&#965;","&#966;","&#967;","&#968;","&#969;","&#977;","&#978;","&#982;","&#8226;","&#8230;","&#8242;","&#8243;","&#8254;","&#8260;","&#8472;","&#8465;","&#8476;","&#8482;","&#8501;","&#8592;","&#8593;","&#8594;","&#8595;","&#8596;","&#8629;","&#8656;","&#8657;","&#8658;","&#8659;","&#8660;","&#8704;","&#8706;","&#8707;","&#8709;","&#8711;","&#8712;","&#8713;","&#8715;","&#8719;","&#8721;","&#8722;","&#8727;","&#8730;","&#8733;","&#8734;","&#8736;","&#8743;","&#8744;","&#8745;","&#8746;","&#8747;","&#8756;","&#8764;","&#8773;","&#8776;","&#8800;","&#8801;","&#8804;","&#8805;","&#8834;","&#8835;","&#8836;","&#8838;","&#8839;","&#8853;","&#8855;","&#8869;","&#8901;","&#8968;","&#8969;","&#8970;","&#8971;","&#9001;","&#9002;","&#9674;","&#9824;","&#9827;","&#9829;","&#9830;");var A=new Array("&nbsp;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&shy;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&agrave;","&aacute;","&acirc;","&atilde;","&Auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&Ouml;","&times;","&oslash;","&ugrave;","&uacute;","&ucirc;","&Uuml;","&yacute;","&thorn;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&Oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&quot;","&amp;","&lt;","&gt;","&oelig;","&oelig;","&scaron;","&scaron;","&yuml;","&circ;","&tilde;","&ensp;","&emsp;","&thinsp;","&zwnj;","&zwj;","&lrm;","&rlm;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&dagger;","&permil;","&lsaquo;","&rsaquo;","&euro;","&fnof;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&alpha;","&beta;","&gamma;","&delta;","&epsilon;","&zeta;","&eta;","&theta;","&iota;","&kappa;","&lambda;","&mu;","&nu;","&xi;","&omicron;","&pi;","&rho;","&sigmaf;","&sigma;","&tau;","&upsilon;","&phi;","&chi;","&psi;","&omega;","&thetasym;","&upsih;","&piv;","&bull;","&hellip;","&prime;","&prime;","&oline;","&frasl;","&weierp;","&image;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&lang;","&rang;","&loz;","&spades;","&clubs;","&hearts;","&diams;");return this.swapArrayVals(C,B,A)},numEncode:function(B){if(this.isEmpty(B)){return""}var C="";for(var A=0;A<B.length;A++){var D=B.charAt(A);if(D<" "||D>"~"){D="&#"+D.charCodeAt()+";"}C+=D}return C},htmlDecode:function(C){var E,B,D=C;if(this.isEmpty(D)){return""}D=this.HTML2Numerical(D);arr=D.match(/&#[0-9]{1,5};/g);if(arr!=null){for(var A=0;A<arr.length;A++){B=arr[A];E=B.substring(2,B.length-1);if(E>=-32768&&E<=65535){D=D.replace(B,String.fromCharCode(E))}else{D=D.replace(B,"")}}}return D},htmlEncode:function(A,B){if(this.isEmpty(A)){return""}B=B|false;if(B){if(this.EncodeType=="numerical"){A=A.replace(/&/g,"&#38;")}else{A=A.replace(/&/g,"&amp;")}}A=this.XSSEncode(A,false);if(this.EncodeType=="numerical"||!B){A=this.HTML2Numerical(A)}A=this.numEncode(A);if(!B){A=A.replace(/&#/g,"##AMPHASH##");if(this.EncodeType=="numerical"){A=A.replace(/&/g,"&#38;")}else{A=A.replace(/&/g,"&amp;")}A=A.replace(/##AMPHASH##/g,"&#")}A=A.replace(/&#\d*([^\d;]|$)/g,"$1");if(!B){A=this.correctEncoding(A)}if(this.EncodeType=="entity"){A=this.NumericalToHTML(A)}return A},XSSEncode:function(B,A){if(!this.isEmpty(B)){A=A||true;if(A){B=B.replace(/\'/g,"&#39;");B=B.replace(/\"/g,"&quot;");B=B.replace(/</g,"&lt;");B=B.replace(/>/g,"&gt;")}else{B=B.replace(/\'/g,"&#39;");B=B.replace(/\"/g,"&#34;");B=B.replace(/</g,"&#60;");B=B.replace(/>/g,"&#62;")}return B}else{return""}},hasEncoded:function(A){if(/&#[0-9]{1,5};/g.test(A)){return true}else{if(/&[A-Z]{2,6};/gi.test(A)){return true}else{return false}}},stripUnicode:function(A){return A.replace(/[^\x20-\x7E]/g,"")},correctEncoding:function(A){return A.replace(/(&amp;)(amp;)+/,"$1")},swapArrayVals:function(F,C,B){if(this.isEmpty(F)){return""}var E;if(C&&B){if(C.length==B.length){for(var A=0,D=C.length;A<D;A++){E=new RegExp(C[A],"g");F=F.replace(E,B[A])}}}return F},inArray:function(D,B){for(var C=0,A=B.length;C<A;C++){if(B[C]===D){return C}}return -1}};
/*
 * jQuery UI 1.8.5
 *
 * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(C,B){function A(D){return !C(D).parents().andSelf().filter(function(){return C.curCSS(this,"visibility")==="hidden"||C.expr.filters.hidden(this)}).length}C.ui=C.ui||{};if(!C.ui.version){C.extend(C.ui,{version:"1.8.5",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});C.fn.extend({_focus:C.fn.focus,focus:function(E,D){return typeof E==="number"?this.each(function(){var F=this;setTimeout(function(){C(F).focus();D&&D.call(F)},E)}):this._focus.apply(this,arguments)},scrollParent:function(){var D;D=C.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(C.curCSS(this,"position",1))&&/(auto|scroll)/.test(C.curCSS(this,"overflow",1)+C.curCSS(this,"overflow-y",1)+C.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(C.curCSS(this,"overflow",1)+C.curCSS(this,"overflow-y",1)+C.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!D.length?C(document):D},zIndex:function(E){if(E!==B){return this.css("zIndex",E)}if(this.length){E=C(this[0]);for(var D;E.length&&E[0]!==document;){D=E.css("position");if(D==="absolute"||D==="relative"||D==="fixed"){D=parseInt(E.css("zIndex"));if(!isNaN(D)&&D!=0){return D}}E=E.parent()}}return 0},disableSelection:function(){return this.bind("mousedown.ui-disableSelection selectstart.ui-disableSelection",function(D){D.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});C.each(["Width","Height"],function(E,D){function I(M,L,K,J){C.each(H,function(){L-=parseFloat(C.curCSS(M,"padding"+this,true))||0;if(K){L-=parseFloat(C.curCSS(M,"border"+this+"Width",true))||0}if(J){L-=parseFloat(C.curCSS(M,"margin"+this,true))||0}});return L}var H=D==="Width"?["Left","Right"]:["Top","Bottom"],G=D.toLowerCase(),F={innerWidth:C.fn.innerWidth,innerHeight:C.fn.innerHeight,outerWidth:C.fn.outerWidth,outerHeight:C.fn.outerHeight};C.fn["inner"+D]=function(J){if(J===B){return F["inner"+D].call(this)}return this.each(function(){C.style(this,G,I(this,J)+"px")})};C.fn["outer"+D]=function(K,J){if(typeof K!=="number"){return F["outer"+D].call(this,K)}return this.each(function(){C.style(this,G,I(this,K,true,J)+"px")})}});C.extend(C.expr[":"],{data:function(E,D,F){return !!C.data(E,F[3])},focusable:function(E){var D=E.nodeName.toLowerCase(),F=C.attr(E,"tabindex");if("area"===D){D=E.parentNode;F=D.name;if(!E.href||!F||D.nodeName.toLowerCase()!=="map"){return false}E=C("img[usemap=#"+F+"]")[0];return !!E&&A(E)}return(/input|select|textarea|button|object/.test(D)?!E.disabled:"a"==D?E.href||!isNaN(F):!isNaN(F))&&A(E)},tabbable:function(E){var D=C.attr(E,"tabindex");return(isNaN(D)||D>=0)&&C(E).is(":focusable")}});C(function(){var E=document.createElement("div"),D=document.body;C.extend(E.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});C.support.minHeight=D.appendChild(E).offsetHeight===100;D.removeChild(E).style.display="none"});C.extend(C.ui,{plugin:{add:function(E,D,G){E=C.ui[E].prototype;for(var F in G){E.plugins[F]=E.plugins[F]||[];E.plugins[F].push([D,G[F]])}},call:function(E,D,G){if((D=E.plugins[D])&&E.element[0].parentNode){for(var F=0;F<D.length;F++){E.options[D[F][0]]&&D[F][1].apply(E.element,G)}}}},contains:function(E,D){return document.compareDocumentPosition?E.compareDocumentPosition(D)&16:E!==D&&E.contains(D)},hasScroll:function(E,D){if(C(E).css("overflow")==="hidden"){return false}D=D&&D==="left"?"scrollLeft":"scrollTop";var F=false;if(E[D]>0){return true}E[D]=1;F=E[D]>0;E[D]=0;return F},isOverAxis:function(E,D,F){return E>D&&E<D+F},isOver:function(E,D,I,H,G,F){return C.ui.isOverAxis(E,I,G)&&C.ui.isOverAxis(D,H,F)}})}})(jQuery);(function(d,G){function L(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function E(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==G){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.5"}});var y=(new Date).getTime();d.extend(L.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){E(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b)}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}E(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().removeClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b.children("."+this._inlineClass).children().addClass("ui-state-disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true);E(e.settings,f);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass,b.dpDiv).add(d("td."+d.datepicker._currentClass,b.dpDiv));c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==G?a.keyCode:a.charCode);return a.ctrlKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");E(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=d.datepicker._getBorders(b.dpDiv);b.dpDiv.find("iframe.ui-datepicker-cover").css({left:-i[0],top:-i[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a)).find("iframe.ui-datepicker-cover").css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);var e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input.focus()},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),k=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>k&&k>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1);){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose")){a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b])}this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}for(var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,k=c=-1,l=-1,u=-1,j=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p){throw"Missing number at position "+s}s+=p[0].length;return parseInt(p[0],10)},n=function(p,w,H){p=o(p)?H:w;for(w=0;w<p.length;w++){if(b.substr(s,p[w].length).toLowerCase()==p[w].toLowerCase()){s+=p[w].length;return w+1}}throw"Unknown name at position "+s},r=function(){if(b.charAt(s)!=a.charAt(z)){throw"Unexpected literal at position "+s}s++},s=0,z=0;z<a.length;z++){if(j){if(a.charAt(z)=="'"&&!o("'")){j=false}else{r()}}else{switch(a.charAt(z)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":k=m("m");break;case"M":k=n("M",i,g);break;case"y":c=m("y");break;case"@":var v=new Date(m("@"));c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case"!":v=new Date((m("!")-this._ticksTo1970)/10000);c=v.getFullYear();k=v.getMonth()+1;l=v.getDate();break;case"'":if(o("'")){r()}else{j=true}break;default:r()}}}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){k=1;l=u;do{e=this._getDaysInMonth(c,k-1);if(l<=e){break}k++;l-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,k-1,l));if(v.getFullYear()!=c||v.getMonth()+1!=k||v.getDate()!=l){throw"Invalid date"}return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=j+1<a.length&&a.charAt(j+1)==o)&&j++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},k=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b){for(var j=0;j<a.length;j++){if(u){if(a.charAt(j)=="'"&&!i("'")){u=false}else{l+=a.charAt(j)}}else{switch(a.charAt(j)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000,3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(j)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==G?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,k=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=u.exec(h);j;){switch(j[2]||"d"){case"d":case"D":g+=parseInt(j[1],10);break;case"w":case"W":g+=parseInt(j[1],10)*7;break;case"m":case"M":l+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break;case"y":case"Y":k+=parseInt(j[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(k,l));break}j=u.exec(h)}return new Date(k,l,g)};if(b=(b=b==null?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):b)&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),k=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),j=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=j&&n<j?j:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-k,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+k+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+k,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+k+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";k=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;k=!h?k:this.formatDate(k,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+k+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;k=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),w=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var M=this._getDefaultDate(a),I="",C=0;C<i[0];C++){for(var N="",D=0;D<i[1];D++){var J=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1){switch(D){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&C==0?c?f:n:"")+(/all|right/.test(t)&&C==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,j,o,C>0||D>0,z,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var A=k?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;A+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=A+"</tr></thead><tbody>";A=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,A)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;A=l?6:Math.ceil((t+A)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<A;O++){x+="<tr>";var P=!k?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var F=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],B=q.getMonth()!=g,K=B&&!H||!F[0]||j&&q<j||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(q.getTime()==J.getTime()&&g==a.selectedMonth&&a._keyEvent||M.getTime()==q.getTime()&&M.getTime()==J.getTime()?" "+this._dayOverClass:"")+(K?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!w?"":" "+F[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!B||w)&&F[2]?' title="'+F[2]+'"':"")+(K?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(B&&!w?"&#xa0;":K?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==J.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&D==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");N+=x}I+=N}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var k=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),j='<div class="ui-datepicker-title">',o="";if(h||!k){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(j+=o+(h||!(k&&l)?"&#xa0;":""));if(h||!l){j+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(j+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){j+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}j+="</select>"}j+=this._get(a,"yearSuffix");if(u){j+=(h||!(k&&l)?"&#xa0;":"")+o}j+="</div>";return j},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new L;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.5";window["DP_jQuery_"+y]=d})(jQuery);;jQuery(function(A){A.datepicker.regional.af={closeText:"Selekteer",prevText:"Vorige",nextText:"Volgende",currentText:"Vandag",monthNames:["Januarie","Februarie","Maart","April","Mei","Junie","Julie","Augustus","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrydag","Saterdag"],dayNamesShort:["Son","Maa","Din","Woe","Don","Vry","Sat"],dayNamesMin:["So","Ma","Di","Wo","Do","Vr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.af)});;jQuery(function(A){A.datepicker.regional.ar={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:[" ","","","","","","","",""," "," "," "],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:0,isRTL:true,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ar)});;jQuery(function(A){A.datepicker.regional.az={closeText:"Bala",prevText:"&#x3c;Geri",nextText:"rli&#x3e;",currentText:"Bugn",monthNames:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],monthNamesShort:["Yan","Fev","Mar","Apr","May","yun","yul","Avq","Sen","Okt","Noy","Dek"],dayNames:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb"],dayNamesShort:["B","Be","a","","Ca","C",""],dayNamesMin:["B","B","","","","C",""],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.az)});;jQuery(function(A){A.datepicker.regional.bg={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",nextBigText:"&#x3e;&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.bg)});;jQuery(function(A){A.datepicker.regional.bs={closeText:"Zatvori",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Juni","Juli","August","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","e","Pe","Su"],weekHeader:"Wk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.bs)});jQuery(function(A){A.datepicker.regional.ca={closeText:"Tancar",prevText:"&#x3c;Ant",nextText:"Seg&#x3e;",currentText:"Avui",monthNames:["Gener","Febrer","Mar&ccedil;","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],monthNamesShort:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],dayNames:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],dayNamesShort:["Dug","Dln","Dmt","Dmc","Djs","Dvn","Dsb"],dayNamesMin:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ca)});;jQuery(function(A){A.datepicker.regional.cs={closeText:"Zavt",prevText:"&#x3c;Dve",nextText:"Pozdji&#x3e;",currentText:"Nyn",monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"],monthNamesShort:["led","no","be","dub","kv","er","vc","srp","z","j","lis","pro"],dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],dayNamesMin:["ne","po","t","st","t","p","so"],weekHeader:"Td",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.cs)});;jQuery(function(A){A.datepicker.regional.da={closeText:"Luk",prevText:"&#x3c;Forrige",nextText:"Nste&#x3e;",currentText:"Idag",monthNames:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayNamesMin:["S","Ma","Ti","On","To","Fr","L"],weekHeader:"Uge",dateFormat:"dd-mm-yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.da)});;jQuery(function(A){A.datepicker.regional.de={closeText:"schlieen",prevText:"&#x3c;zurck",nextText:"Vor&#x3e;",currentText:"heute",monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"Wo",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.de)});;jQuery(function(A){A.datepicker.regional.el={closeText:"",prevText:"",nextText:"",currentText:" ",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.el)});;jQuery(function(A){A.datepicker.regional["en-GB"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["en-GB"])});;jQuery(function(A){A.datepicker.regional.eo={closeText:"Fermi",prevText:"&lt;Anta",nextText:"Sekv&gt;",currentText:"Nuna",monthNames:["Januaro","Februaro","Marto","Aprilo","Majo","Junio","Julio","Agusto","Septembro","Oktobro","Novembro","Decembro"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Ag","Sep","Okt","Nov","Dec"],dayNames:["Dimano","Lundo","Mardo","Merkredo","ado","Vendredo","Sabato"],dayNamesShort:["Dim","Lun","Mar","Mer","a","Ven","Sab"],dayNamesMin:["Di","Lu","Ma","Me","a","Ve","Sa"],weekHeader:"Sb",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.eo)});jQuery(function(A){A.datepicker.regional.es={closeText:"Cerrar",prevText:"&#x3c;Ant",nextText:"Sig&#x3e;",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","S&aacute;"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.es)});;jQuery(function(A){A.datepicker.regional.et={closeText:"Sulge",prevText:"Eelnev",nextText:"Jrgnev",currentText:"Tna",monthNames:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],monthNamesShort:["Jaan","Veebr","Mrts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],dayNames:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev"],dayNamesShort:["Phap","Esmasp","Teisip","Kolmap","Neljap","Reede","Laup"],dayNamesMin:["P","E","T","K","N","R","L"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.et)});;jQuery(function(A){A.datepicker.regional.eu={closeText:"Egina",prevText:"&#x3c;Aur",nextText:"Hur&#x3e;",currentText:"Gaur",monthNames:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],monthNamesShort:["Urt","Ots","Mar","Api","Mai","Eka","Uzt","Abu","Ira","Urr","Aza","Abe"],dayNames:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"],dayNamesShort:["Iga","Ast","Ast","Ast","Ost","Ost","Lar"],dayNamesMin:["Ig","As","As","As","Os","Os","La"],weekHeader:"Wk",dateFormat:"yy/mm/dd",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.eu)});;jQuery(function(A){A.datepicker.regional.fa={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy/mm/dd",firstDay:6,isRTL:true,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.fa)});jQuery(function(A){A.datepicker.regional.fi={closeText:"Sulje",prevText:"&laquo;Edellinen",nextText:"Seuraava&raquo;",currentText:"T&auml;n&auml;&auml;n",monthNames:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthNamesShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kes&auml;","Hein&auml;","Elo","Syys","Loka","Marras","Joulu"],dayNamesShort:["Su","Ma","Ti","Ke","To","Pe","Su"],dayNames:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],dayNamesMin:["Su","Ma","Ti","Ke","To","Pe","La"],weekHeader:"Vk",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.fi)});;jQuery(function(A){A.datepicker.regional.fo={closeText:"Lat aftur",prevText:"&#x3c;Fyrra",nextText:"Nsta&#x3e;",currentText:" dag",monthNames:["Januar","Februar","Mars","Aprl","Mei","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNames:["Sunnudagur","Mnadagur","Tsdagur","Mikudagur","Hsdagur","Frggjadagur","Leyardagur"],dayNamesShort:["Sun","Mn","Ts","Mik","Hs","Fr","Ley"],dayNamesMin:["Su","M","T","Mi","H","Fr","Le"],weekHeader:"Vk",dateFormat:"dd-mm-yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.fo)});;jQuery(function(A){A.datepicker.regional["fr-CH"]={closeText:"Fermer",prevText:"&#x3c;Prc",nextText:"Suiv&#x3e;",currentText:"Courant",monthNames:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthNamesShort:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["fr-CH"])});;jQuery(function(A){A.datepicker.regional.fr={closeText:"Fermer",prevText:"&#x3c;Prc",nextText:"Suiv&#x3e;",currentText:"Courant",monthNames:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre"],monthNamesShort:["Jan","Fv","Mar","Avr","Mai","Jun","Jul","Ao","Sep","Oct","Nov","Dc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.fr)});;jQuery(function(A){A.datepicker.regional.he={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["'","'","'","'","'","'",""],dayNamesMin:["'","'","'","'","'","'",""],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:true,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.he)});;jQuery(function(A){A.datepicker.regional.hr={closeText:"Zatvori",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Danas",monthNames:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],monthNamesShort:["Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],dayNames:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sri","et","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","e","Pe","Su"],weekHeader:"Tje",dateFormat:"dd.mm.yy.",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.hr)});jQuery(function(A){A.datepicker.regional.hu={closeText:"bezrs",prevText:"&laquo;&nbsp;vissza",nextText:"elre&nbsp;&raquo;",currentText:"ma",monthNames:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"],monthNamesShort:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Szep","Okt","Nov","Dec"],dayNames:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat"],dayNamesShort:["Vas","Ht","Ked","Sze","Cs","Pn","Szo"],dayNamesMin:["V","H","K","Sze","Cs","P","Szo"],weekHeader:"H",dateFormat:"yy-mm-dd",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.hu)});jQuery(function(A){A.datepicker.regional.hy={closeText:"",prevText:"&#x3c;.",nextText:".&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.hy)});jQuery(function(A){A.datepicker.regional.id={closeText:"Tutup",prevText:"&#x3c;mundur",nextText:"maju&#x3e;",currentText:"hari ini",monthNames:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Nopember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agus","Sep","Okt","Nop","Des"],dayNames:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],dayNamesShort:["Min","Sen","Sel","Rab","kam","Jum","Sab"],dayNamesMin:["Mg","Sn","Sl","Rb","Km","jm","Sb"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.id)});jQuery(function(A){A.datepicker.regional.is={closeText:"Loka",prevText:"&#x3c; Fyrri",nextText:"N&aelig;sti &#x3e;",currentText:"&Iacute; dag",monthNames:["Jan&uacute;ar","Febr&uacute;ar","Mars","Apr&iacute;l","Ma&iacute","J&uacute;n&iacute;","J&uacute;l&iacute;","&Aacute;g&uacute;st","September","Okt&oacute;ber","N&oacute;vember","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Ma&iacute;","J&uacute;n","J&uacute;l","&Aacute;g&uacute;","Sep","Okt","N&oacute;v","Des"],dayNames:["Sunnudagur","M&aacute;nudagur","&THORN;ri&eth;judagur","Mi&eth;vikudagur","Fimmtudagur","F&ouml;studagur","Laugardagur"],dayNamesShort:["Sun","M&aacute;n","&THORN;ri","Mi&eth;","Fim","F&ouml;s","Lau"],dayNamesMin:["Su","M&aacute;","&THORN;r","Mi","Fi","F&ouml;","La"],weekHeader:"Vika",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.is)});jQuery(function(A){A.datepicker.regional.it={closeText:"Chiudi",prevText:"&#x3c;Prec",nextText:"Succ&#x3e;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Luned&#236","Marted&#236","Mercoled&#236","Gioved&#236","Venerd&#236","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.it)});;jQuery(function(A){A.datepicker.regional.ja={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["1","2","3","4","5","6","7","8","9","10","11","12"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy/mm/dd",firstDay:0,isRTL:false,showMonthAfterYear:true,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ja)});jQuery(function(A){A.datepicker.regional.ko={closeText:"",prevText:"",nextText:"",currentText:"",monthNames:["1(JAN)","2(FEB)","3(MAR)","4(APR)","5(MAY)","6(JUN)","7(JUL)","8(AUG)","9(SEP)","10(OCT)","11(NOV)","12(DEC)"],monthNamesShort:["1(JAN)","2(FEB)","3(MAR)","4(APR)","5(MAY)","6(JUN)","7(JUL)","8(AUG)","9(SEP)","10(OCT)","11(NOV)","12(DEC)"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ko)});jQuery(function(A){A.datepicker.regional.kz={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.kz)});jQuery(function(A){A.datepicker.regional.lt={closeText:"Udaryti",prevText:"&#x3c;Atgal",nextText:"Pirmyn&#x3e;",currentText:"iandien",monthNames:["Sausis","Vasaris","Kovas","Balandis","Gegu","Birelis","Liepa","Rugpjtis","Rugsjis","Spalis","Lapkritis","Gruodis"],monthNamesShort:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rugp","Rugs","Spa","Lap","Gru"],dayNames:["sekmadienis","pirmadienis","antradienis","treiadienis","ketvirtadienis","penktadienis","etadienis"],dayNamesShort:["sek","pir","ant","tre","ket","pen","e"],dayNamesMin:["Se","Pr","An","Tr","Ke","Pe","e"],weekHeader:"Wk",dateFormat:"yy-mm-dd",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.lt)});jQuery(function(A){A.datepicker.regional.lv={closeText:"Aizvrt",prevText:"Iepr",nextText:"Nka",currentText:"odien",monthNames:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],dayNames:["svtdiena","pirmdiena","otrdiena","trediena","ceturtdiena","piektdiena","sestdiena"],dayNamesShort:["svt","prm","otr","tre","ctr","pkt","sst"],dayNamesMin:["Sv","Pr","Ot","Tr","Ct","Pk","Ss"],weekHeader:"Nav",dateFormat:"dd-mm-yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.lv)});jQuery(function(A){A.datepicker.regional.ms={closeText:"Tutup",prevText:"&#x3c;Sebelum",nextText:"Selepas&#x3e;",currentText:"hari ini",monthNames:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"],monthNamesShort:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],dayNames:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"],dayNamesShort:["Aha","Isn","Sel","Rab","kha","Jum","Sab"],dayNamesMin:["Ah","Is","Se","Ra","Kh","Ju","Sa"],weekHeader:"Mg",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ms)});;jQuery(function(A){A.datepicker.regional.nl={closeText:"Sluiten",prevText:"",nextText:"",currentText:"Vandaag",monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthNamesShort:["jan","feb","maa","apr","mei","jun","jul","aug","sep","okt","nov","dec"],dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zon","maa","din","woe","don","vri","zat"],dayNamesMin:["zo","ma","di","wo","do","vr","za"],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.nl)});jQuery(function(A){A.datepicker.regional.no={closeText:"Lukk",prevText:"&laquo;Forrige",nextText:"Neste&raquo;",currentText:"I dag",monthNames:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],monthNamesShort:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],dayNamesShort:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],dayNames:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesMin:["S","Ma","Ti","On","To","Fr","L"],weekHeader:"Uke",dateFormat:"yy-mm-dd",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.no)});jQuery(function(A){A.datepicker.regional.pl={closeText:"Zamknij",prevText:"&#x3c;Poprzedni",nextText:"Nastpny&#x3e;",currentText:"Dzi",monthNames:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"],monthNamesShort:["Sty","Lu","Mar","Kw","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],dayNames:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"],dayNamesShort:["Nie","Pn","Wt","r","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","r","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.pl)});jQuery(function(A){A.datepicker.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3c;Anterior",nextText:"Pr&oacute;ximo&#x3e;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],dayNamesMin:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["pt-BR"])});;jQuery(function(A){A.datepicker.regional.ro={closeText:"nchide",prevText:"&laquo; Luna precedent",nextText:"Luna urmtoare &raquo;",currentText:"Azi",monthNames:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],monthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"],dayNamesShort:["Dum","Lun","Mar","Mie","Joi","Vin","Sm"],dayNamesMin:["Du","Lu","Ma","Mi","Jo","Vi","S"],weekHeader:"Spt",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ro)});jQuery(function(A){A.datepicker.regional.ru={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ru)});jQuery(function(A){A.datepicker.regional.sk={closeText:"Zavrie",prevText:"&#x3c;Predchdzajci",nextText:"Nasledujci&#x3e;",currentText:"Dnes",monthNames:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],dayNames:["Nedel'a","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"],dayNamesShort:["Ned","Pon","Uto","Str","tv","Pia","Sob"],dayNamesMin:["Ne","Po","Ut","St","t","Pia","So"],weekHeader:"Ty",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.sk)});jQuery(function(A){A.datepicker.regional.sl={closeText:"Zapri",prevText:"&lt;Prej&#x161;nji",nextText:"Naslednji&gt;",currentText:"Trenutni",monthNames:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljek","Torek","Sreda","&#x10C;etrtek","Petek","Sobota"],dayNamesShort:["Ned","Pon","Tor","Sre","&#x10C;et","Pet","Sob"],dayNamesMin:["Ne","Po","To","Sr","&#x10C;e","Pe","So"],weekHeader:"Teden",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.sl)});;jQuery(function(A){A.datepicker.regional.sq={closeText:"mbylle",prevText:"&#x3c;mbrapa",nextText:"Prpara&#x3e;",currentText:"sot",monthNames:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nntor","Dhjetor"],monthNamesShort:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nn","Dhj"],dayNames:["E Diel","E Hn","E Mart","E Mrkur","E Enjte","E Premte","E Shtune"],dayNamesShort:["Di","H","Ma","M","En","Pr","Sh"],dayNamesMin:["Di","H","Ma","M","En","Pr","Sh"],weekHeader:"Ja",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.sq)});;jQuery(function(A){A.datepicker.regional["sr-SR"]={closeText:"Zatvori",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"Danas",monthNames:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],dayNames:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota"],dayNamesShort:["Ned","Pon","Uto","Sre","et","Pet","Sub"],dayNamesMin:["Ne","Po","Ut","Sr","e","Pe","Su"],weekHeader:"Sed",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["sr-SR"])});;jQuery(function(A){A.datepicker.regional.sr={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.sr)});;jQuery(function(A){A.datepicker.regional.sv={closeText:"Stng",prevText:"&laquo;Frra",nextText:"Nsta&raquo;",currentText:"Idag",monthNames:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNamesShort:["Sn","Mn","Tis","Ons","Tor","Fre","Lr"],dayNames:["Sndag","Mndag","Tisdag","Onsdag","Torsdag","Fredag","Lrdag"],dayNamesMin:["S","M","Ti","On","To","Fr","L"],weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.sv)});;jQuery(function(A){A.datepicker.regional.ta={closeText:"",prevText:"",nextText:"",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.ta)});;jQuery(function(A){A.datepicker.regional.th={closeText:"",prevText:"&laquo;&nbsp;",nextText:"&nbsp;&raquo;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["..","..","..","..","..","..","..","..","..","..","..",".."],dayNames:["","","","","","",""],dayNamesShort:[".",".",".",".",".",".","."],dayNamesMin:[".",".",".",".",".",".","."],weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.th)});jQuery(function(A){A.datepicker.regional.tr={closeText:"kapat",prevText:"&#x3c;geri",nextText:"ileri&#x3e",currentText:"bugn",monthNames:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],monthNamesShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],dayNames:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"],dayNamesMin:["Pz","Pt","Sa","a","Pe","Cu","Ct"],weekHeader:"Hf",dateFormat:"dd.mm.yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.tr)});jQuery(function(A){A.datepicker.regional.uk={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.uk)});;jQuery(function(A){A.datepicker.regional.vi={closeText:"ng",prevText:"&#x3c;Trc",nextText:"Tip&#x3e;",currentText:"Hm nay",monthNames:["Thng Mt","Thng Hai","Thng Ba","Thng T","Thng Nm","Thng Su","Thng By","Thng Tm","Thng Chn","Thng Mi","Thng Mi Mt","Thng Mi Hai"],monthNamesShort:["Thng 1","Thng 2","Thng 3","Thng 4","Thng 5","Thng 6","Thng 7","Thng 8","Thng 9","Thng 10","Thng 11","Thng 12"],dayNames:["Ch Nht","Th Hai","Th Ba","Th T","Th Nm","Th Su","Th By"],dayNamesShort:["CN","T2","T3","T4","T5","T6","T7"],dayNamesMin:["CN","T2","T3","T4","T5","T6","T7"],weekHeader:"Tu",dateFormat:"dd/mm/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional.vi)});jQuery(function(A){A.datepicker.regional["zh-CN"]={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy-mm-dd",firstDay:1,isRTL:false,showMonthAfterYear:true,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["zh-CN"])});jQuery(function(A){A.datepicker.regional["zh-HK"]={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"dd-mm-yy",firstDay:0,isRTL:false,showMonthAfterYear:true,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["zh-HK"])});;jQuery(function(A){A.datepicker.regional["zh-TW"]={closeText:"",prevText:"&#x3c;",nextText:"&#x3e;",currentText:"",monthNames:["","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","",""],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],dayNamesMin:["","","","","","",""],weekHeader:"",dateFormat:"yy/mm/dd",firstDay:1,isRTL:false,showMonthAfterYear:true,yearSuffix:""};A.datepicker.setDefaults(A.datepicker.regional["zh-TW"])});(function(A){A.fn.extend({autocomplete:function(C,B){urlOrData="NOURL";var D=typeof urlOrData=="string";B=A.extend({},A.Autocompleter.defaults,{url:D?urlOrData:null,data:D?null:urlOrData,searchFunction:C,delay:D?A.Autocompleter.defaults.delay:10,max:B&&!B.scroll?10:150},B);B.highlight=B.highlight||function(E){return E};B.formatMatch=B.formatMatch||B.formatItem;return this.each(function(){new A.Autocompleter(this,B)})},result:function(B){return this.bind("result",B)},search:function(B){return this.trigger("search",[B])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(B){return this.trigger("setOptions",[B])},unautocomplete:function(){return this.trigger("unautocomplete")},showResults:function(B){return this.trigger("showResults",[B])}});A.Autocompleter=function(L,G){var C={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var B=A(L).attr("autocomplete","off").addClass(G.inputClass);var J;var P="";var M=A.Autocompleter.Cache(G);var E=0;var U;var X={mouseDownOnSelect:false};var R=A.Autocompleter.Select(G,L,D,X);var W;A.browser.opera&&A(L.form).bind("submit.autocomplete",function(){if(W){W=false;return false}});B.bind((A.browser.opera?"keypress":"keydown")+".autocomplete",function(Y){E=1;U=Y.keyCode;switch(Y.keyCode){case C.UP:Y.preventDefault();if(R.visible()){R.prev()}else{T(0,true)}break;case C.DOWN:Y.preventDefault();if(R.visible()){R.next()}else{T(0,true)}break;case C.PAGEUP:Y.preventDefault();if(R.visible()){R.pageUp()}else{T(0,true)}break;case C.PAGEDOWN:Y.preventDefault();if(R.visible()){R.pageDown()}else{T(0,true)}break;case G.multiple&&A.trim(G.multipleSeparator)==","&&C.COMMA:case C.TAB:case C.RETURN:if(D()){Y.preventDefault();W=true;return false}break;case C.ESC:R.hide();break;default:clearTimeout(J);J=setTimeout(T,G.delay);break}}).focus(function(){E++}).blur(function(){E=0;if(!X.mouseDownOnSelect){S()}}).click(function(){if(E++>1&&!R.visible()){T(0,true)}}).bind("search",function(){var Y=(arguments.length>1)?arguments[1]:null;function Z(d,c){var a;if(c&&c.length){for(var b=0;b<c.length;b++){if(c[b].result.toLowerCase()==d.toLowerCase()){a=c[b];break}}}if(typeof Y=="function"){Y(a)}else{B.trigger("result",a&&[a.data,a.value])}}A.each(H(B.val()),function(a,b){F(b,Z,Z)})}).bind("flushCache",function(){M.flush()}).bind("setOptions",function(){A.extend(G,arguments[1]);if("data" in arguments[1]){M.populate()}}).bind("unautocomplete",function(){R.unbind();B.unbind();A(L.form).unbind(".autocomplete")}).bind("showResults",function(){var Y=arguments[1];QCD.info(Y);K("aa",Y)});function D(){var b=R.selected();if(!b){return false}var Y=b.result;P=Y;if(G.multiple){var e=H(B.val());if(e.length>1){var a=G.multipleSeparator.length;var d=A(L).selection().start;var c,Z=0;A.each(e,function(f,g){Z+=g.length;if(d<=Z){c=f;return false}Z+=a});e[c]=Y;Y=e.join(G.multipleSeparator)}Y+=G.multipleSeparator}B.val(Y);V();B.trigger("result",[b.data,b.value]);return true}function T(a,Z){if(U==C.DEL){R.hide();return }var Y=B.val();if(!Z&&Y==P){return }P=Y;Y=I(Y);if(Y.length>=G.minChars){B.addClass(G.loadingClass);if(!G.matchCase){Y=Y.toLowerCase()}F(Y,K,V)}else{N();R.hide()}}function H(Y){if(!Y){return[""]}if(!G.multiple){return[A.trim(Y)]}return A.map(Y.split(G.multipleSeparator),function(Z){return A.trim(Y).length?A.trim(Z):null})}function I(Y){if(!G.multiple){return Y}var a=H(Y);if(a.length==1){return a[0]}var Z=A(L).selection().start;if(Z==Y.length){a=H(Y)}else{a=H(Y.replace(Y.substring(Z),""))}return a[a.length-1]}function Q(Y,Z){if(G.autoFill&&(I(B.val()).toLowerCase()==Y.toLowerCase())&&U!=C.BACKSPACE){B.val(B.val()+Z.substring(I(P).length));A(L).selection(P.length,P.length+Z.length)}}function S(){clearTimeout(J);J=setTimeout(V,200)}function V(){var Y=R.visible();R.hide();clearTimeout(J);N();if(G.mustMatch){B.search(function(Z){if(!Z){if(G.multiple){var a=H(B.val()).slice(0,-1);B.val(a.join(G.multipleSeparator)+(a.length?G.multipleSeparator:""))}else{B.val("");B.trigger("result",null)}}})}}function K(Z,Y){if(Y&&Y.length&&E){N();R.display(Y,Z);Q(Z,Y[0].value);R.show()}else{V()}}function F(Z,b,Y){if(!G.matchCase){Z=Z.toLowerCase()}var a=M.load(Z);G.searchFunction(I(Z))}function O(b){var Y=[];var a=b.split("\n");for(var Z=0;Z<a.length;Z++){var c=A.trim(a[Z]);if(c){c=c.split("|");Y[Y.length]={data:c,value:c[0],result:G.formatResult&&G.formatResult(c,c[0])||c[0]}}}return Y}function N(){B.removeClass(G.loadingClass)}};A.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(B){return B[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(C,B){return C.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+B.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};A.Autocompleter.Cache=function(C){var F={};var D=0;function H(K,J){if(!C.matchCase){K=K.toLowerCase()}var I=K.indexOf(J);if(C.matchContains=="word"){I=K.toLowerCase().search("\\b"+J.toLowerCase())}if(I==-1){return false}return I==0||C.matchContains}function G(J,I){if(D>C.cacheLength){B()}if(!F[J]){D++}F[J]=I}function E(){if(!C.data){return false}var J={},I=0;if(!C.url){C.cacheLength=1}J[""]=[];for(var L=0,K=C.data.length;L<K;L++){var O=C.data[L];O=(typeof O=="string")?[O]:O;var N=C.formatMatch(O,L+1,C.data.length);if(N===false){continue}var M=N.charAt(0).toLowerCase();if(!J[M]){J[M]=[]}var P={value:N,data:O,result:C.formatResult&&C.formatResult(O)||N};J[M].push(P);if(I++<C.max){J[""].push(P)}}A.each(J,function(Q,R){C.cacheLength++;G(Q,R)})}setTimeout(E,25);function B(){F={};D=0}return{flush:B,add:G,populate:E,load:function(L){if(!C.cacheLength||!D){return null}if(!C.url&&C.matchContains){var K=[];for(var I in F){if(I.length>0){var M=F[I];A.each(M,function(O,N){if(H(N.value,L)){K.push(N)}})}}return K}else{if(F[L]){return F[L]}else{if(C.matchSubset){for(var J=L.length-1;J>=C.minChars;J--){var M=F[L.substr(0,J)];if(M){var K=[];A.each(M,function(O,N){if(H(N.value,L)){K[K.length]=N}});return K}}}}}return null}}};A.Autocompleter.Select=function(E,J,L,P){var I={ACTIVE:"ac_over"};var K,F=-1,R,M="",S=true,C,O;function N(){if(!S){return }C=A("<div/>").hide().addClass(E.resultsClass).css("position","absolute").appendTo(document.body);O=A("<ul/>").appendTo(C).mouseover(function(T){if(Q(T).nodeName&&Q(T).nodeName.toUpperCase()=="LI"){F=A("li",O).removeClass(I.ACTIVE).index(Q(T));A(Q(T)).addClass(I.ACTIVE)}}).click(function(T){A(Q(T)).addClass(I.ACTIVE);L();J.focus();return false}).mousedown(function(){P.mouseDownOnSelect=true}).mouseup(function(){P.mouseDownOnSelect=false});if(E.width>0){C.css("width",E.width)}S=false}function Q(U){var T=U.target;while(T&&T.tagName!="LI"){T=T.parentNode}if(!T){return[]}return T}function H(T){K.slice(F,F+1).removeClass(I.ACTIVE);G(T);var V=K.slice(F,F+1).addClass(I.ACTIVE);if(E.scroll){var U=0;K.slice(0,F).each(function(){U+=this.offsetHeight});if((U+V[0].offsetHeight-O.scrollTop())>O[0].clientHeight){O.scrollTop(U+V[0].offsetHeight-O.innerHeight())}else{if(U<O.scrollTop()){O.scrollTop(U)}}}}function G(T){F+=T;if(F<0){F=K.size()-1}else{if(F>=K.size()){F=0}}}function B(T){return E.max&&E.max<T?E.max:T}function D(){O.empty();var U=B(R.length);for(var V=0;V<U;V++){if(!R[V]){continue}var W=E.formatItem(R[V].data,V+1,U,R[V].value,M);if(W===false){continue}var T=A("<li/>").html(E.highlight(W,M)).addClass(V%2==0?"ac_even":"ac_odd").appendTo(O)[0];A.data(T,"ac_data",R[V])}K=O.find("li");if(E.selectFirst){K.slice(0,1).addClass(I.ACTIVE);F=0}if(A.fn.bgiframe){O.bgiframe()}}return{display:function(U,T){N();R=U;M=T;D()},next:function(){H(1)},prev:function(){H(-1)},pageUp:function(){if(F!=0&&F-8<0){H(-F)}else{H(-8)}},pageDown:function(){if(F!=K.size()-1&&F+8>K.size()){H(K.size()-1-F)}else{H(8)}},hide:function(){C&&C.hide();K&&K.removeClass(I.ACTIVE);F=-1},visible:function(){return C&&C.is(":visible")},current:function(){return this.visible()&&(K.filter("."+I.ACTIVE)[0]||E.selectFirst&&K[0])},show:function(){var V=A(J).offset();C.css({width:typeof E.width=="string"||E.width>0?E.width:A(J).width(),top:V.top+J.offsetHeight,left:V.left}).show();if(E.scroll){O.scrollTop(0);O.css({maxHeight:E.scrollHeight,overflow:"auto"});if(A.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var T=0;K.each(function(){T+=this.offsetHeight});var U=T>E.scrollHeight;O.css("height",U?E.scrollHeight:T);if(!U){K.width(O.width()-parseInt(K.css("padding-left"))-parseInt(K.css("padding-right")))}}}},selected:function(){var T=K&&K.filter("."+I.ACTIVE).removeClass(I.ACTIVE);return T&&T.length&&A.data(T[0],"ac_data")},emptyList:function(){O&&O.empty()},unbind:function(){C&&C.remove()}}};A.fn.selection=function(I,B){if(I!==undefined){return this.each(function(){if(this.createTextRange){var J=this.createTextRange();if(B===undefined||I==B){J.move("character",I);J.select()}else{J.collapse(true);J.moveStart("character",I);J.moveEnd("character",B);J.select()}}else{if(this.setSelectionRange){this.setSelectionRange(I,B)}else{if(this.selectionStart){this.selectionStart=I;this.selectionEnd=B}}}})}var G=this[0];if(G.createTextRange){var C=document.selection.createRange(),H=G.value,F="<->",D=C.text.length;C.text=F;var E=G.value.indexOf(F);G.value=H;this.selection(E,E+D);return{start:E,end:E+D}}else{if(G.selectionStart!==undefined){return{start:G.selectionStart,end:G.selectionEnd}}}}})(jQuery);
/*
 * jQuery blockUI plugin
 * Version 2.33 (29-MAR-2010)
 * @requires jQuery v1.2.3 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2008 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
;(function(I){if(/1\.(0|1|2)\.(0|1|2)/.test(I.fn.jquery)||/^1.1/.test(I.fn.jquery)){alert("blockUI requires jQuery v1.2.3 or later!  You are using v"+I.fn.jquery);return }I.fn._fadeIn=I.fn.fadeIn;var C=function(){};var J=document.documentMode||0;var E=I.browser.msie&&((I.browser.version<8&&!J)||J<8);var F=I.browser.msie&&/MSIE 6.0/.test(navigator.userAgent)&&!J;I.blockUI=function(P){D(window,P)};I.unblockUI=function(P){H(window,P)};I.growlUI=function(T,R,S,P){var Q=I('<div class="growlUI"></div>');if(T){Q.append("<h1>"+T+"</h1>")}if(R){Q.append("<h2>"+R+"</h2>")}if(S==undefined){S=3000}I.blockUI({message:Q,fadeIn:700,fadeOut:1000,centerY:false,timeout:S,showOverlay:false,onUnblock:P,css:I.blockUI.defaults.growlCSS})};I.fn.block=function(P){return this.unblock({fadeOut:0}).each(function(){if(I.css(this,"position")=="static"){this.style.position="relative"}if(I.browser.msie){this.style.zoom=1}D(this,P)})};I.fn.unblock=function(P){return this.each(function(){H(this,P)})};I.blockUI.version=2.33;I.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,applyPlatformOpacityRules:true,onBlock:null,onUnblock:null,quirksmodeOffsetHack:4};var B=null;var G=[];function D(R,c){var X=(R==window);var U=c&&c.message!==undefined?c.message:undefined;c=I.extend({},I.blockUI.defaults,c||{});c.overlayCSS=I.extend({},I.blockUI.defaults.overlayCSS,c.overlayCSS||{});var Z=I.extend({},I.blockUI.defaults.css,c.css||{});var m=I.extend({},I.blockUI.defaults.themedCSS,c.themedCSS||{});U=U===undefined?c.message:U;if(X&&B){H(window,{fadeOut:0})}if(U&&typeof U!="string"&&(U.parentNode||U.jquery)){var f=U.jquery?U[0]:U;var o={};I(R).data("blockUI.history",o);o.el=f;o.parent=f.parentNode;o.display=f.style.display;o.position=f.style.position;if(o.parent){o.parent.removeChild(f)}}var Y=c.baseZ;var k=(I.browser.msie||c.forceIframe)?I('<iframe class="blockUI" style="z-index:'+(Y++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+c.iframeSrc+'"></iframe>'):I('<div class="blockUI" style="display:none"></div>');var j=I('<div class="blockUI blockOverlay" style="z-index:'+(Y++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');var h,d;if(c.theme&&X){d='<div class="blockUI blockMsg blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+Y+';display:none;position:fixed"><div class="ui-widget-header ui-dialog-titlebar blockTitle">'+(c.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'}else{if(c.theme){d='<div class="blockUI blockMsg blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+Y+';display:none;position:absolute"><div class="ui-widget-header ui-dialog-titlebar blockTitle">'+(c.title||"&nbsp;")+'</div><div class="ui-widget-content ui-dialog-content"></div></div>'}else{if(X){d='<div class="blockUI blockMsg blockPage" style="z-index:'+Y+';display:none;position:fixed"></div>'}else{d='<div class="blockUI blockMsg blockElement" style="z-index:'+Y+';display:none;position:absolute"></div>'}}}h=I(d);if(U){if(c.theme){h.css(m);h.addClass("ui-widget-content")}else{h.css(Z)}}if(!c.applyPlatformOpacityRules||!(I.browser.mozilla&&/Linux/.test(navigator.platform))){j.css(c.overlayCSS)}j.css("position",X?"fixed":"absolute");if(I.browser.msie||c.forceIframe){k.css("opacity",0)}var W=[k,j,h],n=X?I("body"):I(R);I.each(W,function(){this.appendTo(n)});if(c.theme&&c.draggable&&I.fn.draggable){h.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var T=E&&(!I.boxModel||I("object,embed",X?null:R).length>0);if(F||T){if(X&&c.allowBodyStretch&&I.boxModel){I("html,body").css("height","100%")}if((F||!I.boxModel)&&!X){var b=M(R,"borderTopWidth"),g=M(R,"borderLeftWidth");var V=b?"(0 - "+b+")":0;var a=g?"(0 - "+g+")":0}I.each([k,j,h],function(l,t){var p=t[0].style;p.position="absolute";if(l<2){X?p.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.boxModel?0:"+c.quirksmodeOffsetHack+') + "px"'):p.setExpression("height",'this.parentNode.offsetHeight + "px"');X?p.setExpression("width",'jQuery.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):p.setExpression("width",'this.parentNode.offsetWidth + "px"');if(a){p.setExpression("left",a)}if(V){p.setExpression("top",V)}}else{if(c.centerY){if(X){p.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}p.marginTop=0}else{if(!c.centerY&&X){var q=(c.css&&c.css.top)?parseInt(c.css.top):0;var r="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+q+') + "px"';p.setExpression("top",r)}}}})}if(U){if(c.theme){h.find(".ui-widget-content").append(U)}else{h.append(U)}if(U.jquery||U.nodeType){I(U).show()}}if((I.browser.msie||c.forceIframe)&&c.showOverlay){k.show()}if(c.fadeIn){var e=c.onBlock?c.onBlock:C;var Q=(c.showOverlay&&!U)?e:C;var P=U?e:C;if(c.showOverlay){j._fadeIn(c.fadeIn,Q)}if(U){h._fadeIn(c.fadeIn,P)}}else{if(c.showOverlay){j.show()}if(U){h.show()}if(c.onBlock){c.onBlock()}}L(1,R,c);if(X){B=h[0];G=I(":input:enabled:visible",B);if(c.focusInput){setTimeout(O,20)}}else{A(h[0],c.centerX,c.centerY)}if(c.timeout){var S=setTimeout(function(){X?I.unblockUI(c):I(R).unblock(c)},c.timeout);I(R).data("blockUI.timeout",S)}}function H(S,T){var R=(S==window);var Q=I(S);var U=Q.data("blockUI.history");var V=Q.data("blockUI.timeout");if(V){clearTimeout(V);Q.removeData("blockUI.timeout")}T=I.extend({},I.blockUI.defaults,T||{});L(0,S,T);var P;if(R){P=I("body").children().filter(".blockUI").add("body > .blockUI")}else{P=I(".blockUI",S)}if(R){B=G=null}if(T.fadeOut){P.fadeOut(T.fadeOut);setTimeout(function(){K(P,U,T,S)},T.fadeOut)}else{K(P,U,T,S)}}function K(P,S,R,Q){P.each(function(T,U){if(this.parentNode){this.parentNode.removeChild(this)}});if(S&&S.el){S.el.style.display=S.display;S.el.style.position=S.position;if(S.parent){S.parent.appendChild(S.el)}I(Q).removeData("blockUI.history")}if(typeof R.onUnblock=="function"){R.onUnblock(Q,R)}}function L(P,T,U){var S=T==window,R=I(T);if(!P&&(S&&!B||!S&&!R.data("blockUI.isBlocked"))){return }if(!S){R.data("blockUI.isBlocked",P)}if(!U.bindEvents||(P&&!U.showOverlay)){return }var Q="mousedown mouseup keydown keypress";P?I(document).bind(Q,U,N):I(document).unbind(Q,N)}function N(S){if(S.keyCode&&S.keyCode==9){if(B&&S.data.constrainTabKey){var R=G;var Q=!S.shiftKey&&S.target==R[R.length-1];var P=S.shiftKey&&S.target==R[0];if(Q||P){setTimeout(function(){O(P)},10);return false}}}if(I(S.target).parents("div.blockMsg").length>0){return true}return I(S.target).parents().children().filter("div.blockUI").length==0}function O(P){if(!G){return }var Q=G[P===true?G.length-1:0];if(Q){Q.focus()}}function A(T,P,V){var U=T.parentNode,S=T.style;var Q=((U.offsetWidth-T.offsetWidth)/2)-M(U,"borderLeftWidth");var R=((U.offsetHeight-T.offsetHeight)/2)-M(U,"borderTopWidth");if(P){S.left=Q>0?(Q+"px"):"0"}if(V){S.top=R>0?(R+"px"):"0"}}function M(P,Q){return parseInt(I.css(P,Q))||0}})(jQuery);jQuery.cookie=function(B,I,L){if(typeof I!="undefined"){L=L||{};if(I===null){I="";L.expires=-1}var E="";if(L.expires&&(typeof L.expires=="number"||L.expires.toUTCString)){var F;if(typeof L.expires=="number"){F=new Date();F.setTime(F.getTime()+(L.expires*24*60*60*1000))}else{F=L.expires}E="; expires="+F.toUTCString()}var K=L.path?"; path="+(L.path):"";var G=L.domain?"; domain="+(L.domain):"";var A=L.secure?"; secure":"";document.cookie=[B,"=",encodeURIComponent(I),E,K,G,A].join("")}else{var D=null;if(document.cookie&&document.cookie!=""){var J=document.cookie.split(";");for(var H=0;H<J.length;H++){var C=jQuery.trim(J[H]);if(C.substring(0,B.length+1)==(B+"=")){D=decodeURIComponent(C.substring(B.length+1));break}}}return D}};(function(b){b.jgrid=b.jgrid||{};b.extend(b.jgrid,{htmlDecode:function(f){if(f=="&nbsp;"||f=="&#160;"||f.length==1&&f.charCodeAt(0)==160){return""}return !f?f:String(f).replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"')},htmlEncode:function(f){return !f?f:String(f).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/\"/g,"&quot;")},format:function(f){var j=b.makeArray(arguments).slice(1);if(f===undefined){f=""}return f.replace(/\{(\d+)\}/g,function(i,c){return j[c]})},getCellIndex:function(f){f=b(f);if(f.is("tr")){return -1}f=(!f.is("td")&&!f.is("th")?f.closest("td,th"):f)[0];if(b.browser.msie){return b.inArray(f,f.parentNode.cells)}return f.cellIndex},stripHtml:function(f){f+="";var j=/<("[^"]*"|'[^']*'|[^'">])*>/gi;if(f){return(f=f.replace(j,""))&&f!=="&nbsp;"&&f!=="&#160;"?f.replace(/\"/g,"'"):""}else{return f}},stringToDoc:function(f){var j;if(typeof f!=="string"){return f}try{j=(new DOMParser).parseFromString(f,"text/xml")}catch(i){j=new ActiveXObject("Microsoft.XMLDOM");j.async=false;j.loadXML(f)}return j&&j.documentElement&&j.documentElement.tagName!="parsererror"?j:null},parse:function(f){f=f;if(f.substr(0,9)=="while(1);"){f=f.substr(9)}if(f.substr(0,2)=="/*"){f=f.substr(2,f.length-4)}f||(f="{}");return b.jgrid.useJSON===true&&typeof JSON==="object"&&typeof JSON.parse==="function"?JSON.parse(f):eval("("+f+")")},parseDate:function(f,j){var i={m:1,d:1,y:1970,h:0,i:0,s:0},c,e,k;if(j&&j!==null&&j!==undefined){j=b.trim(j);j=j.split(/[\\\/:_;.\t\T\s-]/);f=f.split(/[\\\/:_;.\t\T\s-]/);var l=b.jgrid.formatter.date.monthNames,a=b.jgrid.formatter.date.AmPm,r=function(u,B){if(u===0){if(B==12){B=0}}else{if(B!=12){B+=12}}return B};c=0;for(e=f.length;c<e;c++){if(f[c]=="M"){k=b.inArray(j[c],l);if(k!==-1&&k<12){j[c]=k+1}}if(f[c]=="F"){k=b.inArray(j[c],l);if(k!==-1&&k>11){j[c]=k+1-12}}if(f[c]=="a"){k=b.inArray(j[c],a);if(k!==-1&&k<2&&j[c]==a[k]){j[c]=k;i.h=r(j[c],i.h)}}if(f[c]=="A"){k=b.inArray(j[c],a);if(k!==-1&&k>1&&j[c]==a[k]){j[c]=k-2;i.h=r(j[c],i.h)}}if(j[c]!==undefined){i[f[c].toLowerCase()]=parseInt(j[c],10)}}i.m=parseInt(i.m,10)-1;f=i.y;if(f>=70&&f<=99){i.y=1900+i.y}else{if(f>=0&&f<=69){i.y=2000+i.y}}}return new Date(i.y,i.m,i.d,i.h,i.i,i.s,0)},jqID:function(f){f+="";return f.replace(/([\.\:\[\]])/g,"\\$1")},getAccessor:function(f,j){var i,c,e,k;if(typeof j==="function"){return j(f)}i=f[j];if(i===undefined){try{if(typeof j==="string"){e=j.split(".")}if(k=e.length){for(i=f;i&&k--;){c=e.shift();i=i[c]}}}catch(l){}}return i},ajaxOptions:{},from:function(f){return new (function(j,i){if(typeof j=="string"){j=b.data(j)}var c=this,e=j,k=true,l=false,a=i,r=/[\$,%]/g,u=null,B=null,G=false,Q="",J=[],M=true;if(typeof j=="object"&&j.push){if(j.length>0){M=typeof j[0]!="object"?false:true}}else{throw"data provides is not an array"}this._hasData=function(){return e===null?false:e.length===0?false:true};this._getStr=function(n){var m=[];l&&m.push("jQuery.trim(");m.push("String("+n+")");l&&m.push(")");k||m.push(".toLowerCase()");return m.join("")};this._strComp=function(n){return typeof n=="string"?".toString()":""};this._group=function(n,m){return{field:n.toString(),unique:m,items:[]}};this._toStr=function(n){if(l){n=b.trim(n)}k||(n=n.toLowerCase());return n=n.toString().replace(new RegExp('\\"',"g"),'\\"')};this._funcLoop=function(n){var m=[];b.each(e,function(p,A){m.push(n(A))});return m};this._append=function(n){if(a===null){a=""}else{a+=Q===""?" && ":Q}if(G){a+="!"}a+="("+n+")";G=false;Q=""};this._setCommand=function(n,m){u=n;B=m};this._resetNegate=function(){G=false};this._repeatCommand=function(n,m){if(u===null){return c}if(n!=null&&m!=null){return u(n,m)}if(B===null){return u(n)}if(!M){return u(n)}return u(B,n)};this._equals=function(n,m){return c._compare(n,m,1)===0};this._compare=function(n,m,p){if(p===undefined){p=1}if(n===undefined){n=null}if(m===undefined){m=null}if(n===null&&m===null){return 0}if(n===null&&m!==null){return 1}if(n!==null&&m===null){return -1}if(!k){n=n.toLowerCase();m=m.toLowerCase()}if(n<m){return -p}if(n>m){return p}return 0};this._performSort=function(){if(J.length!==0){e=c._doSort(e,0)}};this._doSort=function(n,m){var p=J[m].by,A=J[m].dir,t=J[m].type,H=J[m].datefmt;if(m==J.length-1){return c._getOrder(n,p,A,t,H)}m++;n=c._getGroup(n,p,A,t,H);p=[];for(A=0;A<n.length;A++){t=c._doSort(n[A].items,m);for(H=0;H<t.length;H++){p.push(t[H])}}return p};this._getOrder=function(n,m,p,A,t){var H=[],S=[],Y=p=="a"?1:-1,O,fa;if(A===undefined){A="text"}fa=A=="float"||A=="number"||A=="currency"||A=="numeric"?function(P){P=parseFloat(String(P).replace(r,""));return isNaN(P)?0:P}:A=="int"||A=="integer"?function(P){return P?parseFloat(String(P).replace(r,"")):0}:A=="date"||A=="datetime"?function(P){return b.jgrid.parseDate(t,P).getTime()}:b.isFunction(A)?A:function(P){P||(P="");return b.trim(String(P).toUpperCase())};b.each(n,function(P,ba){O=b.jgrid.getAccessor(ba,m);if(O===undefined){O=""}O=fa(O,ba);S.push({vSort:O,index:P})});S.sort(function(P,ba){P=P.vSort;ba=ba.vSort;return c._compare(P,ba,Y)});A=0;for(var ca=n.length;A<ca;){p=S[A].index;H.push(n[p]);A++}return H};this._getGroup=function(n,m,p,A,t){var H=[],S=null,Y=null,O;b.each(c._getOrder(n,m,p,A,t),function(fa,ca){O=b.jgrid.getAccessor(ca,m);if(O===undefined){O=""}if(!c._equals(Y,O)){Y=O;S!=null&&H.push(S);S=c._group(m,O)}S.items.push(ca)});S!=null&&H.push(S);return H};this.ignoreCase=function(){k=false;return c};this.useCase=function(){k=true;return c};this.trim=function(){l=true;return c};this.noTrim=function(){l=false;return c};this.combine=function(n){var m=b.from(e);k||m.ignoreCase();l&&m.trim();n=n(m).showQuery();c._append(n);return c};this.execute=function(){var n=a,m=[];if(n===null){return c}b.each(e,function(){eval(n)&&m.push(this)});e=m;return c};this.data=function(){return e};this.select=function(n){c._performSort();if(!c._hasData()){return[]}c.execute();if(b.isFunction(n)){var m=[];b.each(e,function(p,A){m.push(n(A))});return m}return e};this.hasMatch=function(){if(!c._hasData()){return false}c.execute();return e.length>0};this.showQuery=function(n){var m=a;if(m===null){m="no query found"}if(b.isFunction(n)){n(m);return c}return m};this.andNot=function(n,m,p){G=!G;return c.and(n,m,p)};this.orNot=function(n,m,p){G=!G;return c.or(n,m,p)};this.not=function(n,m,p){return c.andNot(n,m,p)};this.and=function(n,m,p){Q=" && ";if(n===undefined){return c}return c._repeatCommand(n,m,p)};this.or=function(n,m,p){Q=" || ";if(n===undefined){return c}return c._repeatCommand(n,m,p)};this.isNot=function(n){G=!G;return c.is(n)};this.is=function(n){c._append("this."+n);c._resetNegate();return c};this._compareValues=function(n,m,p,A,t){var H;H=M?"this."+m:"this";if(p===undefined){p=null}p=p===null?m:p;switch(t.stype===undefined?"text":t.stype){case"int":case"integer":p=isNaN(Number(p))?"0":p;H="parseInt("+H+",10)";p="parseInt("+p+",10)";break;case"float":case"number":case"numeric":p=String(p).replace(r,"");p=isNaN(Number(p))?"0":p;H="parseFloat("+H+")";p="parseFloat("+p+")";break;case"date":case"datetime":p=String(b.jgrid.parseDate(t.newfmt||"Y-m-d",p).getTime());H='jQuery.jgrid.parseDate("'+t.srcfmt+'",'+H+").getTime()";break;default:H=c._getStr(H);p=c._getStr('"'+c._toStr(p)+'"')}c._append(H+" "+A+" "+p);c._setCommand(n,m);c._resetNegate();return c};this.equals=function(n,m,p){return c._compareValues(c.equals,n,m,"==",p)};this.greater=function(n,m,p){return c._compareValues(c.greater,n,m,">",p)};this.less=function(n,m,p){return c._compareValues(c.less,n,m,"<",p)};this.greaterOrEquals=function(n,m,p){return c._compareValues(c.greaterOrEquals,n,m,">=",p)};this.lessOrEquals=function(n,m,p){return c._compareValues(c.lessOrEquals,n,m,"<=",p)};this.startsWith=function(n,m){var p=m===undefined||m===null?n:m;p=l?b.trim(p.toString()).length:p.toString().length;if(M){c._append(c._getStr("this."+n)+".substr(0,"+p+") == "+c._getStr('"'+c._toStr(m)+'"'))}else{p=l?b.trim(m.toString()).length:m.toString().length;c._append(c._getStr("this")+".substr(0,"+p+") == "+c._getStr('"'+c._toStr(n)+'"'))}c._setCommand(c.startsWith,n);c._resetNegate();return c};this.endsWith=function(n,m){var p=m===undefined||m===null?n:m;p=l?b.trim(p.toString()).length:p.toString().length;M?c._append(c._getStr("this."+n)+".substr("+c._getStr("this."+n)+".length-"+p+","+p+') == "'+c._toStr(m)+'"'):c._append(c._getStr("this")+".substr("+c._getStr("this")+'.length-"'+c._toStr(n)+'".length,"'+c._toStr(n)+'".length) == "'+c._toStr(n)+'"');c._setCommand(c.endsWith,n);c._resetNegate();return c};this.contains=function(n,m){M?c._append(c._getStr("this."+n)+'.indexOf("'+c._toStr(m)+'",0) > -1'):c._append(c._getStr("this")+'.indexOf("'+c._toStr(n)+'",0) > -1');c._setCommand(c.contains,n);c._resetNegate();return c};this.groupBy=function(n,m,p,A){if(!c._hasData()){return null}return c._getGroup(e,n,m,p,A)};this.orderBy=function(n,m,p,A){m=m===undefined||m===null?"a":b.trim(m.toString().toLowerCase());if(p===null||p===undefined){p="text"}if(A===null||A===undefined){A="Y-m-d"}if(m=="desc"||m=="descending"){m="d"}if(m=="asc"||m=="ascending"){m="a"}J.push({by:n,dir:m,type:p,datefmt:A});return c};return c})(f,null)},extend:function(f){b.extend(b.fn.jqGrid,f);this.no_legacy_api||b.fn.extend(f)}});b.fn.jqGrid=function(f){if(typeof f=="string"){var j=b.jgrid.getAccessor(b.fn.jqGrid,f);if(!j){throw"jqGrid - No such method: "+f}var i=b.makeArray(arguments).slice(1);return j.apply(this,i)}return this.each(function(){if(!this.grid){var c=b.extend(true,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:true,pginput:true,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:false,selarrrow:[],savedRow:[],shrinkToFit:true,xmlReader:{},jsonReader:{},subGrid:false,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,onHeaderClick:null,viewrecords:false,loadonce:false,multiselect:false,multikey:false,editurl:null,search:false,caption:"",hidegrid:true,hiddengrid:false,postData:{},userData:{},treeGrid:false,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:false,gridstate:"visible",cellEdit:false,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[false,""],scroll:false,multiboxonly:false,deselectAfterSort:true,scrollrows:false,autowidth:false,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:false,rownumWidth:25,rownumbers:false,pagerpos:"center",recordpos:"right",footerrow:false,userDataOnFooter:false,hoverrows:true,altclass:"ui-priority-secondary",viewsortcols:[false,"vertical",true],resizeclass:"",autoencode:false,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:false,headertitles:false,scrollTimeout:40,data:[],_index:{},grouping:false,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:false,sortitems:[],sortnames:[],groupDataSorted:false,summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus"},ignoreCase:false},b.jgrid.defaults,f||{}),e={headers:[],cols:[],footers:[],dragStart:function(d,g,h){this.resizing={idx:d,startX:g.clientX,sOL:h[0]};this.hDiv.style.cursor="col-resize";this.curGbox=b("#rs_m"+c.id,"#gbox_"+c.id);this.curGbox.css({display:"block",left:h[0],top:h[1],height:h[2]});b.isFunction(c.resizeStart)&&c.resizeStart.call(this,g,d);document.onselectstart=function(){return false}},dragMove:function(d){if(this.resizing){var g=d.clientX-this.resizing.startX;d=this.headers[this.resizing.idx];var h=c.direction==="ltr"?d.width+g:d.width-g,q;if(h>33){this.curGbox.css({left:this.resizing.sOL+g});if(c.forceFit===true){q=this.headers[this.resizing.idx+c.nv];g=c.direction==="ltr"?q.width-g:q.width+g;if(g>33){d.newWidth=h;q.newWidth=g}}else{this.newWidth=c.direction==="ltr"?c.tblwidth+g:c.tblwidth-g;d.newWidth=h}}}},dragEnd:function(){this.hDiv.style.cursor="default";if(this.resizing){var d=this.resizing.idx,g=this.headers[d].newWidth||this.headers[d].width;g=parseInt(g,10);this.resizing=false;b("#rs_m"+c.id).css("display","none");c.colModel[d].width=g;this.headers[d].width=g;this.headers[d].el.style.width=g+"px";this.cols[d].style.width=g+"px";if(this.footers.length>0){this.footers[d].style.width=g+"px"}if(c.forceFit===true){g=this.headers[d+c.nv].newWidth||this.headers[d+c.nv].width;this.headers[d+c.nv].width=g;this.headers[d+c.nv].el.style.width=g+"px";this.cols[d+c.nv].style.width=g+"px";if(this.footers.length>0){this.footers[d+c.nv].style.width=g+"px"}c.colModel[d+c.nv].width=g}else{c.tblwidth=this.newWidth||c.tblwidth;b("table:first",this.bDiv).css("width",c.tblwidth+"px");b("table:first",this.hDiv).css("width",c.tblwidth+"px");this.hDiv.scrollLeft=this.bDiv.scrollLeft;if(c.footerrow){b("table:first",this.sDiv).css("width",c.tblwidth+"px");this.sDiv.scrollLeft=this.bDiv.scrollLeft}}b.isFunction(c.resizeStop)&&c.resizeStop.call(this,g,d)}this.curGbox=null;document.onselectstart=function(){return true}},populateVisible:function(){e.timer&&clearTimeout(e.timer);e.timer=null;var d=b(e.bDiv).height();if(d){var g=b("table:first",e.bDiv),h=b("> tbody > tr:gt(0):visible:first",g).outerHeight()||e.prevRowHeight;if(h){e.prevRowHeight=h;var q=c.rowNum,o=e.scrollTop=e.bDiv.scrollTop,x=Math.round(g.position().top)-o,w=x+g.height();h=h*q;var C,D,s;if(w<d&&x<=0&&(c.lastpage===undefined||parseInt((w+o+h-1)/h,10)<=c.lastpage)){D=parseInt((d-w+h-1)/h,10);if(w>=0||D<2||c.scroll===true){C=Math.round((w+o)/h)+1;x=-1}else{x=1}}if(x>0){C=parseInt(o/h,10)+1;D=parseInt((o+d)/h,10)+2-C;s=true}if(D){if(!(c.lastpage&&C>c.lastpage||c.lastpage==1)){if(e.hDiv.loading){e.timer=setTimeout(e.populateVisible,c.scrollTimeout)}else{c.page=C;if(s){e.selectionPreserver(g[0]);e.emptyRows(e.bDiv,false)}e.populate(D)}}}}}},scrollGrid:function(){if(c.scroll){var d=e.bDiv.scrollTop;if(e.scrollTop===undefined){e.scrollTop=0}if(d!=e.scrollTop){e.scrollTop=d;e.timer&&clearTimeout(e.timer);e.timer=setTimeout(e.populateVisible,c.scrollTimeout)}}e.hDiv.scrollLeft=e.bDiv.scrollLeft;if(c.footerrow){e.sDiv.scrollLeft=e.bDiv.scrollLeft}},selectionPreserver:function(d){var g=d.p,h=g.selrow,q=g.selarrrow?b.makeArray(g.selarrrow):null,o=d.grid.bDiv.scrollLeft,x=g.gridComplete;g.gridComplete=function(){g.selrow=null;g.selarrrow=[];if(g.multiselect&&q&&q.length>0){for(var w=0;w<q.length;w++){q[w]!=h&&b(d).jqGrid("setSelection",q[w],false)}}h&&b(d).jqGrid("setSelection",h,false);d.grid.bDiv.scrollLeft=o;g.gridComplete=x;g.gridComplete&&x()}}};if(this.tagName!="TABLE"){alert("Element is not a table")}else{b(this).empty();this.p=c;var k,l,a;if(this.p.colNames.length===0){for(k=0;k<this.p.colModel.length;k++){this.p.colNames[k]=this.p.colModel[k].label||this.p.colModel[k].name}}if(this.p.colNames.length!==this.p.colModel.length){alert(b.jgrid.errors.model)}else{var r=b("<div class='ui-jqgrid-view'></div>"),u,B=b.browser.msie?true:false,G=b.browser.safari?true:false;a=this;a.p.direction=b.trim(a.p.direction.toLowerCase());if(b.inArray(a.p.direction,["ltr","rtl"])==-1){a.p.direction="ltr"}l=a.p.direction;b(r).insertBefore(this);b(this).appendTo(r).removeClass("scroll");var Q=b("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");b(Q).insertBefore(r).attr({id:"gbox_"+this.id,dir:l});b(r).appendTo(Q).attr("id","gview_"+this.id);u=B&&b.browser.version<=6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"";b("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").append(u).insertBefore(r);b("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(r);b(this).attr({cellSpacing:"0",cellPadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var J=function(d,g){d=parseInt(d,10);return isNaN(d)?g?g:0:d},M=function(d,g,h){var q=a.p.colModel[d],o=q.align,x='style="',w=q.classes,C=q.name;if(o){x+="text-align:"+o+";"}if(q.hidden===true){x+="display:none;"}if(g===0){x+="width: "+e.headers[d].width+"px;"}x+='"'+(w!==undefined?' class="'+w+'"':"")+(q.title&&h?' title="'+b.jgrid.stripHtml(h)+'"':"");x+=' aria-describedby="'+a.p.id+"_"+C+'"';return x},n=function(d){return d===undefined||d===null||d===""?"&#160;":a.p.autoencode?b.jgrid.htmlEncode(d):d+""},m=function(d,g,h,q,o){h=a.p.colModel[h];if(typeof h.formatter!=="undefined"){d={rowId:d,colModel:h,gid:a.p.id};g=b.isFunction(h.formatter)?h.formatter.call(a,g,d,q,o):b.fmatter?b.fn.fmatter(h.formatter,g,d,q,o):n(g)}else{g=n(g)}return g},p=function(d,g,h,q,o){d=m(d,g,h,o,"add");return'<td role="gridcell" '+M(h,q,d)+">"+d+"</td>"},A=function(d,g,h){d='<input role="checkbox" type="checkbox" id="jqg_'+a.p.id+"_"+d+'" class="cbox" name="jqg_'+a.p.id+"_"+d+'"/>';g=M(g,h,"");return'<td role="gridcell" aria-describedby="'+a.p.id+'_cb" '+g+">"+d+"</td>"},t=function(d,g,h,q){h=(parseInt(h,10)-1)*parseInt(q,10)+1+g;d=M(d,g,"");return'<td role="gridcell" aria-describedby="'+a.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+d+">"+h+"</td>"},H=function(d){var g,h=[],q=0,o;for(o=0;o<a.p.colModel.length;o++){g=a.p.colModel[o];if(g.name!=="cb"&&g.name!=="subgrid"&&g.name!=="rn"){h[q]=d=="local"?g.name:d=="xml"?g.xmlmap||g.name:g.jsonmap||g.name;q++}}return h},S=function(d){var g=a.p.remapColumns;if(!g||!g.length){g=b.map(a.p.colModel,function(h,q){return q})}if(d){g=b.map(g,function(h){return h<d?null:h-d})}return g},Y=function(d,g){if(a.p.deepempty){b("#"+a.p.id+" tbody:first tr:gt(0)").remove()}else{var h=b("#"+a.p.id+" tbody:first tr:first")[0];b("#"+a.p.id+" tbody:first").empty().append(h)}if(g&&a.p.scroll){b(">div:first",d).css({height:"auto"}).children("div:first").css({height:0,display:"none"});d.scrollTop=0}},O=function(){var d=a.p.data.length,g,h,q;g=a.p.rownumbers===true?1:0;h=a.p.multiselect===true?1:0;q=a.p.subGrid===true?1:0;g=a.p.keyIndex===false||a.p.loadonce===true?a.p.localReader.id:a.p.colModel[a.p.keyIndex+h+q+g].name;for(h=0;h<d;h++){q=b.jgrid.getAccessor(a.p.data[h],g);a.p._index[q]=h}},fa=function(d,g,h,q,o){var x=new Date,w=a.p.datatype!="local"&&a.p.loadonce||a.p.datatype=="xmlstring",C,D=a.p.datatype=="local"?"local":"xml";if(w){a.p.data=[];a.p._index={};a.p.localReader.id=C="_id_"}a.p.reccount=0;if(b.isXMLDoc(d)){if(a.p.treeANode===-1&&!a.p.scroll){Y(g,false);h=1}else{h=h>1?h:1}var s,v=0,y,E,I=0,F=0,K=0,z,U=[],V,T={},N,L,X=[],oa=a.p.altRows===true?" "+a.p.altclass:"";a.p.xmlReader.repeatitems||(U=H(D));z=a.p.keyIndex===false?a.p.xmlReader.id:a.p.keyIndex;if(U.length>0&&!isNaN(z)){if(a.p.remapColumns&&a.p.remapColumns.length){z=b.inArray(z,a.p.remapColumns)}z=U[z]}D=(z+"").indexOf("[")===-1?U.length?function(da,Z){return b(z,da).text()||Z}:function(da,Z){return b(a.p.xmlReader.cell,da).eq(z).text()||Z}:function(da,Z){return da.getAttribute(z.replace(/[\[\]]/g,""))||Z};a.p.userData={};b(a.p.xmlReader.page,d).each(function(){a.p.page=this.textContent||this.text||0});b(a.p.xmlReader.total,d).each(function(){a.p.lastpage=this.textContent||this.text;if(a.p.lastpage===undefined){a.p.lastpage=1}});b(a.p.xmlReader.records,d).each(function(){a.p.records=this.textContent||this.text||0});b(a.p.xmlReader.userdata,d).each(function(){a.p.userData[this.getAttribute("name")]=this.textContent||this.text});d=b(a.p.xmlReader.root+" "+a.p.xmlReader.row,d);var ga=d.length,$=0;if(d&&ga){var ha=parseInt(a.p.rowNum,10),ra=a.p.scroll?(parseInt(a.p.page,10)-1)*ha+1:1;if(o){ha*=o+1}o=b.isFunction(a.p.afterInsertRow);var ia={},xa="";if(a.p.grouping&&a.p.groupingView.groupCollapse===true){xa=' style="display:none;"'}for(;$<ga;){N=d[$];L=D(N,ra+$);s=h===0?0:h+1;s=(s+$)%2==1?oa:"";X.push("<tr"+xa+' id="'+L+'" role="row" class ="ui-widget-content jqgrow ui-row-'+a.p.direction+""+s+'">');if(a.p.rownumbers===true){X.push(t(0,$,a.p.page,a.p.rowNum));K=1}if(a.p.multiselect===true){X.push(A(L,K,$));I=1}if(a.p.subGrid===true){X.push(b(a).jqGrid("addSubGridCell",I+K,$+h));F=1}if(a.p.xmlReader.repeatitems){V||(V=S(I+F+K));var Ba=b(a.p.xmlReader.cell,N);b.each(V,function(da){var Z=Ba[this];if(!Z){return false}y=Z.textContent||Z.text;T[a.p.colModel[da+I+F+K].name]=y;X.push(p(L,y,da+I+F+K,$+h,N))})}else{for(s=0;s<U.length;s++){y=b(U[s],N).text();T[a.p.colModel[s+I+F+K].name]=y;X.push(p(L,y,s+I+F+K,$+h,N))}}X.push("</tr>");if(a.p.grouping){s=a.p.groupingView.groupField.length;E=[];for(var ya=0;ya<s;ya++){E.push(T[a.p.groupingView.groupField[ya]])}ia=b(a).jqGrid("groupingPrepare",X,E,ia,T);X=[]}if(w){T[C]=L;a.p.data.push(T)}if(a.p.gridview===false){if(a.p.treeGrid===true){s=a.p.treeANode>=-1?a.p.treeANode:0;E=b(X.join(""))[0];b(a.rows[$+s+h]).after(E);try{b(a).jqGrid("setTreeNode",T,E)}catch(Ia){}}else{b("tbody:first",g).append(X.join(""))}if(a.p.subGrid===true){try{b(a).jqGrid("addSubGrid",a.rows[a.rows.length-1],I+K)}catch(Ja){}}o&&a.p.afterInsertRow.call(a,L,T,N);X=[]}T={};v++;$++;if(v==ha){break}}}if(a.p.gridview===true){if(a.p.grouping&&V){b(a).jqGrid("groupingRender",ia,a.p.colModel.length);ia=null}else{b("tbody:first",g).append(X.join(""))}}a.p.totaltime=new Date-x;if(v>0){if(a.p.records===0){a.p.records=ga}}X=null;if(!a.p.treeGrid&&!a.p.scroll){a.grid.bDiv.scrollTop=0}a.p.reccount=v;a.p.treeANode=-1;a.p.userDataOnFooter&&b(a).jqGrid("footerData","set",a.p.userData,true);if(w){a.p.records=ga;a.p.lastpage=Math.ceil(ga/ha)}q||a.updatepager(false,true);if(w){for(;v<ga;){N=d[v];L=D(N,v);if(a.p.xmlReader.repeatitems){V||(V=S(I+F+K));var Ea=b(a.p.xmlReader.cell,N);b.each(V,function(da){var Z=Ea[this];if(!Z){return false}y=Z.textContent||Z.text;T[a.p.colModel[da+I+F+K].name]=y})}else{for(s=0;s<U.length;s++){y=b(U[s],N).text();T[a.p.colModel[s+I+F+K].name]=y}}T[C]=L;a.p.data.push(T);T={};v++}O()}}},ca=function(d,g,h,q,o){var x=new Date;if(d){if(a.p.treeANode===-1&&!a.p.scroll){Y(g,false);h=1}else{h=h>1?h:1}var w,C,D=a.p.datatype!="local"&&a.p.loadonce||a.p.datatype=="jsonstring";if(D){a.p.data=[];a.p._index={};w=a.p.localReader.id="_id_"}a.p.reccount=0;if(a.p.datatype=="local"){g=a.p.localReader;C="local"}else{g=a.p.jsonReader;C="json"}var s=0,v,y,E,I=[],F,K=0,z=0,U=0,V,T,N={},L;E=[];var X=a.p.altRows===true?" "+a.p.altclass:"";a.p.page=b.jgrid.getAccessor(d,g.page)||0;V=b.jgrid.getAccessor(d,g.total);a.p.lastpage=V===undefined?1:V;a.p.records=b.jgrid.getAccessor(d,g.records)||0;a.p.userData=b.jgrid.getAccessor(d,g.userdata)||{};g.repeatitems||(F=I=H(C));C=a.p.keyIndex===false?g.id:a.p.keyIndex;if(I.length>0&&!isNaN(C)){if(a.p.remapColumns&&a.p.remapColumns.length){C=b.inArray(C,a.p.remapColumns)}C=I[C]}if(T=b.jgrid.getAccessor(d,g.root)){V=T.length;d=0;var oa=parseInt(a.p.rowNum,10),ga=a.p.scroll?(parseInt(a.p.page,10)-1)*oa+1:1;if(o){oa*=o+1}var $=b.isFunction(a.p.afterInsertRow),ha={},ra="";if(a.p.grouping&&a.p.groupingView.groupCollapse===true){ra=' style="display:none;"'}for(;d<V;){o=T[d];L=b.jgrid.getAccessor(o,C);if(L===undefined){L=ga+d;if(I.length===0){if(g.cell){L=o[g.cell][C]||L}}}v=h===1?0:h;v=(v+d)%2==1?X:"";E.push("<tr"+ra+' id="'+L+'" role="row" class= "ui-widget-content jqgrow ui-row-'+a.p.direction+""+v+'">');if(a.p.rownumbers===true){E.push(t(0,d,a.p.page,a.p.rowNum));U=1}if(a.p.multiselect){E.push(A(L,U,d));K=1}if(a.p.subGrid){E.push(b(a).jqGrid("addSubGridCell",K+U,d+h));z=1}if(g.repeatitems){if(g.cell){o=b.jgrid.getAccessor(o,g.cell)}F||(F=S(K+z+U))}for(y=0;y<F.length;y++){v=b.jgrid.getAccessor(o,F[y]);E.push(p(L,v,y+K+z+U,d+h,o));N[a.p.colModel[y+K+z+U].name]=v}E.push("</tr>");if(a.p.grouping){v=a.p.groupingView.groupField.length;y=[];for(var ia=0;ia<v;ia++){y.push(N[a.p.groupingView.groupField[ia]])}ha=b(a).jqGrid("groupingPrepare",E,y,ha,N);E=[]}if(D){N[w]=L;a.p.data.push(N)}if(a.p.gridview===false){if(a.p.treeGrid===true){v=a.p.treeANode>=-1?a.p.treeANode:0;E=b(E.join(""))[0];b(a.rows[d+v+h]).after(E);try{b(a).jqGrid("setTreeNode",N,E)}catch(xa){}}else{b("#"+a.p.id+" tbody:first").append(E.join(""))}if(a.p.subGrid===true){try{b(a).jqGrid("addSubGrid",a.rows[a.rows.length-1],K+U)}catch(Ba){}}$&&a.p.afterInsertRow.call(a,L,N,o);E=[]}N={};s++;d++;if(s==oa){break}}if(a.p.gridview===true){a.p.grouping&&F?b(a).jqGrid("groupingRender",ha,a.p.colModel.length):b("#"+a.p.id+" tbody:first").append(E.join(""))}a.p.totaltime=new Date-x;if(s>0){if(a.p.records===0){a.p.records=V}}if(!a.p.treeGrid&&!a.p.scroll){a.grid.bDiv.scrollTop=0}a.p.reccount=s;a.p.treeANode=-1;a.p.userDataOnFooter&&b(a).jqGrid("footerData","set",a.p.userData,true);if(D){a.p.records=V;a.p.lastpage=Math.ceil(V/oa)}q||a.updatepager(false,true);if(D){for(;s<V;){o=T[s];L=b.jgrid.getAccessor(o,C);if(L===undefined){L=ga+s;if(I.length===0){if(g.cell){L=o[g.cell][C]||L}}}if(o){if(g.repeatitems){if(g.cell){o=b.jgrid.getAccessor(o,g.cell)}F||(F=S(K+z+U))}for(y=0;y<F.length;y++){v=b.jgrid.getAccessor(o,F[y]);N[a.p.colModel[y+K+z+U].name]=v}N[w]=L;a.p.data.push(N);N={}}s++}O()}}}},P=function(){var d,g=false,h=[],q=[],o,x,w;if(b.isArray(a.p.data)){var C=a.p.grouping?a.p.groupingView:false;b.each(a.p.colModel,function(){x=this.sorttype||"text";if(x=="date"||x=="datetime"){if(this.formatter&&typeof this.formatter==="string"&&this.formatter=="date"){o=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:b.jgrid.formatter.date.srcformat;w=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:b.jgrid.formatter.date.newformat}else{o=w=this.datefmt||"Y-m-d"}h[this.name]={stype:x,srcfmt:o,newfmt:w}}else{h[this.name]={stype:x,srcfmt:"",newfmt:""}}if(a.p.grouping&&this.name==C.groupField[0]){q[0]=h[this.name]}if(!g&&(this.index==a.p.sortname||this.name==a.p.sortname)){d=this.name;g=true}});if(a.p.treeGrid){b(a).jqGrid("SortTree",d,a.p.sortorder,h[d].stype,h[d].srcfmt)}else{var D={eq:function(z){return z.equals},ne:function(z){return z.not().equals},lt:function(z){return z.less},le:function(z){return z.lessOrEquals},gt:function(z){return z.greater},ge:function(z){return z.greaterOrEquals},cn:function(z){return z.contains},nc:function(z){return z.not().contains},bw:function(z){return z.startsWith},bn:function(z){return z.not().startsWith},en:function(z){return z.not().endsWith},ew:function(z){return z.endsWith},ni:function(z){return z.not().equals},"in":function(z){return z.equals}},s=b.jgrid.from(a.p.data);if(a.p.ignoreCase){s=s.ignoreCase()}if(a.p.search===true){var v=a.p.postData.filters,y;if(v){if(typeof v=="string"){v=b.jgrid.parse(v)}for(var E=0,I=v.rules.length,F;E<I;E++){F=v.rules[E];y=v.groupOp;if(D[F.op]&&F.field&&F.data&&y){s=y.toUpperCase()=="OR"?D[F.op](s)(F.field,F.data,h[F.field]).or():D[F.op](s)(F.field,F.data,h[F.field])}}}else{try{s=D[a.p.postData.searchOper](s)(a.p.postData.searchField,a.p.postData.searchString,h[a.p.postData.searchField])}catch(K){}}}if(a.p.grouping){s.orderBy(C.groupField[0],C.groupOrder[0],q[0].stype,q[0].srcfmt);C.groupDataSorted=true}if(d&&a.p.sortorder&&g){a.p.sortorder.toUpperCase()=="DESC"?s.orderBy(a.p.sortname,"d",h[d].stype,h[d].srcfmt):s.orderBy(a.p.sortname,"a",h[d].stype,h[d].srcfmt)}D=s.select();s=parseInt(a.p.rowNum,10);v=D.length;y=parseInt(a.p.page,10);E=Math.ceil(v/s);I={};D=D.slice((y-1)*s,y*s);h=s=null;I[a.p.localReader.total]=E;I[a.p.localReader.page]=y;I[a.p.localReader.records]=v;I[a.p.localReader.root]=D;D=null;return I}}},ba=function(){a.grid.hDiv.loading=true;if(!a.p.hiddengrid){switch(a.p.loadui){case"disable":break;case"enable":b("#load_"+a.p.id).show();break;case"block":b("#lui_"+a.p.id).show();b("#load_"+a.p.id).show();break}}},pa=function(){a.grid.hDiv.loading=false;switch(a.p.loadui){case"disable":break;case"enable":b("#load_"+a.p.id).hide();break;case"block":b("#lui_"+a.p.id).hide();b("#load_"+a.p.id).hide();break}},ja=function(d){if(!a.grid.hDiv.loading){var g=a.p.scroll&&d===false,h={},q,o=a.p.prmNames;if(a.p.page<=0){a.p.page=1}if(o.search!==null){h[o.search]=a.p.search}if(o.nd!==null){h[o.nd]=(new Date).getTime()}if(o.rows!==null){h[o.rows]=a.p.rowNum}if(o.page!==null){h[o.page]=a.p.page}if(o.sort!==null){h[o.sort]=a.p.sortname}if(o.order!==null){h[o.order]=a.p.sortorder}if(a.p.rowTotal!==null&&o.totalrows!==null){h[o.totalrows]=a.p.rowTotal}var x=a.p.loadComplete,w=b.isFunction(x);w||(x=null);var C=0;d=d||1;if(d>1){if(o.npage!==null){h[o.npage]=d;C=d-1;d=1}else{x=function(s){a.p.page++;a.grid.hDiv.loading=false;w&&a.p.loadComplete.call(a,s);ja(d-1)}}}else{o.npage!==null&&delete a.p.postData[o.npage]}if(a.p.grouping){b(a).jqGrid("groupingSetup");if(a.p.groupingView.groupDataSorted===true){h[o.sort]=a.p.groupingView.groupField[0]+" "+a.p.groupingView.groupOrder[0]+", "+h[o.sort]}}b.extend(a.p.postData,h);var D=!a.p.scroll?1:a.rows.length-1;if(b.isFunction(a.p.datatype)){a.p.datatype.call(a,a.p.postData,"load_"+a.p.id)}else{b.isFunction(a.p.beforeRequest)&&a.p.beforeRequest.call(a);q=a.p.datatype.toLowerCase();switch(q){case"json":case"jsonp":case"xml":case"script":b.ajax(b.extend({url:a.p.url,type:a.p.mtype,dataType:q,data:b.isFunction(a.p.serializeGridData)?a.p.serializeGridData.call(a,a.p.postData):a.p.postData,success:function(s){q==="xml"?fa(s,a.grid.bDiv,D,d>1,C):ca(s,a.grid.bDiv,D,d>1,C);x&&x.call(a,s);g&&a.grid.populateVisible();if(a.p.loadonce||a.p.treeGrid){a.p.datatype="local"}pa()},error:function(s,v,y){b.isFunction(a.p.loadError)&&a.p.loadError.call(a,s,v,y);pa()},beforeSend:function(s){ba();b.isFunction(a.p.loadBeforeSend)&&a.p.loadBeforeSend.call(a,s)}},b.jgrid.ajaxOptions,a.p.ajaxGridOptions));break;case"xmlstring":ba();h=b.jgrid.stringToDoc(a.p.datastr);fa(h,a.grid.bDiv);w&&a.p.loadComplete.call(a,h);a.p.datatype="local";a.p.datastr=null;pa();break;case"jsonstring":ba();h=typeof a.p.datastr=="string"?b.jgrid.parse(a.p.datastr):a.p.datastr;ca(h,a.grid.bDiv);w&&a.p.loadComplete.call(a,h);a.p.datatype="local";a.p.datastr=null;pa();break;case"local":case"clientside":ba();a.p.datatype="local";h=P();ca(h,a.grid.bDiv,D,d>1,C);x&&x.call(a,h);g&&a.grid.populateVisible();pa();break}}}};u=function(d,g){var h="",q="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",o="",x,w,C,D,s=function(v){var y;if(b.isFunction(a.p.onPaging)){y=a.p.onPaging.call(a,v)}a.p.selrow=null;if(a.p.multiselect){a.p.selarrrow=[];b("#cb_"+b.jgrid.jqID(a.p.id),a.grid.hDiv).attr("checked",false)}a.p.savedRow=[];if(y=="stop"){return false}return true};d=d.substr(1);x="pg_"+d;w=d+"_left";C=d+"_center";D=d+"_right";b("#"+d).append("<div id='"+x+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;' role='row'><tbody><tr><td id='"+w+"' align='left'></td><td id='"+C+"' align='center' style='white-space:pre;'></td><td id='"+D+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr");if(a.p.rowList.length>0){o="<td dir='"+l+"'>";o+="<select class='ui-pg-selbox' role='listbox'>";for(w=0;w<a.p.rowList.length;w++){o+='<option role="option" value="'+a.p.rowList[w]+'"'+(a.p.rowNum==a.p.rowList[w]?' selected="selected"':"")+">"+a.p.rowList[w]+"</option>"}o+="</select></td>"}if(l=="rtl"){q+=o}if(a.p.pginput===true){h="<td dir='"+l+"'>"+b.jgrid.format(a.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1'></span>")+"</td>"}if(a.p.pgbuttons===true){w=["first"+g,"prev"+g,"next"+g,"last"+g];l=="rtl"&&w.reverse();q+="<td id='"+w[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>";q+="<td id='"+w[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>";q+=h!==""?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>"+h+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>":"";q+="<td id='"+w[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>";q+="<td id='"+w[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else{if(h!==""){q+=h}}if(l=="ltr"){q+=o}q+="</tr></tbody></table>";a.p.viewrecords===true&&b("td#"+d+"_"+a.p.recordpos,"#"+x).append("<div dir='"+l+"' style='text-align:"+a.p.recordpos+"' class='ui-paging-info'></div>");b("td#"+d+"_"+a.p.pagerpos,"#"+x).append(q);o=b(".ui-jqgrid").css("font-size")||"11px";b(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+o+";visibility:hidden;' ></div>");q=b(q).clone().appendTo("#testpg").width();b("#testpg").remove();if(q>0){if(h!=""){q+=50}b("td#"+d+"_"+a.p.pagerpos,"#"+x).width(q)}a.p._nvtd=[];a.p._nvtd[0]=q?Math.floor((a.p.width-q)/2):Math.floor(a.p.width/3);a.p._nvtd[1]=0;q=null;b(".ui-pg-selbox","#"+x).bind("change",function(){a.p.page=Math.round(a.p.rowNum*(a.p.page-1)/this.value-0.5)+1;a.p.rowNum=this.value;if(g){b(".ui-pg-selbox",a.p.pager).val(this.value)}else{a.p.toppager&&b(".ui-pg-selbox",a.p.toppager).val(this.value)}if(!s("records")){return false}ja();return false});if(a.p.pgbuttons===true){b(".ui-pg-button","#"+x).hover(function(){if(b(this).hasClass("ui-state-disabled")){this.style.cursor="default"}else{b(this).addClass("ui-state-hover");this.style.cursor="pointer"}},function(){if(!b(this).hasClass("ui-state-disabled")){b(this).removeClass("ui-state-hover");this.style.cursor="default"}});b("#first"+g+", #prev"+g+", #next"+g+", #last"+g,"#"+d).click(function(){var v=J(a.p.page,1),y=J(a.p.lastpage,1),E=false,I=true,F=true,K=true,z=true;if(y===0||y===1){z=K=F=I=false}else{if(y>1&&v>=1){if(v===1){F=I=false}else{if(!(v>1&&v<y)){if(v===y){z=K=false}}}}else{if(y>1&&v===0){z=K=false;v=y-1}}}if(this.id==="first"+g&&I){a.p.page=1;E=true}if(this.id==="prev"+g&&F){a.p.page=v-1;E=true}if(this.id==="next"+g&&K){a.p.page=v+1;E=true}if(this.id==="last"+g&&z){a.p.page=y;E=true}if(E){if(!s(this.id)){return false}ja()}return false})}a.p.pginput===true&&b("input.ui-pg-input","#"+x).keypress(function(v){if((v.charCode?v.charCode:v.keyCode?v.keyCode:0)==13){a.p.page=b(this).val()>0?b(this).val():a.p.page;if(!s("user")){return false}ja();return false}return this})};var Ca=function(d,g,h,q){if(a.p.colModel[g].sortable){if(!(a.p.savedRow.length>0)){if(!h){if(a.p.lastsort==g){if(a.p.sortorder=="asc"){a.p.sortorder="desc"}else{if(a.p.sortorder=="desc"){a.p.sortorder="asc"}}}else{a.p.sortorder=a.p.colModel[g].firstsortorder||"asc"}a.p.page=1}if(q){if(a.p.lastsort==g&&a.p.sortorder==q&&!h){return }else{a.p.sortorder=q}}h=b("thead:first",a.grid.hDiv).get(0);b("tr th:eq("+a.p.lastsort+") span.ui-grid-ico-sort",h).addClass("ui-state-disabled");b("tr th:eq("+a.p.lastsort+")",h).attr("aria-selected","false");b("tr th:eq("+g+") span.ui-icon-"+a.p.sortorder,h).removeClass("ui-state-disabled");b("tr th:eq("+g+")",h).attr("aria-selected","true");if(!a.p.viewsortcols[0]){if(a.p.lastsort!=g){b("tr th:eq("+a.p.lastsort+") span.s-ico",h).hide();b("tr th:eq("+g+") span.s-ico",h).show()}}d=d.substring(5);a.p.sortname=a.p.colModel[g].index||d;h=a.p.sortorder;if(b.isFunction(a.p.onSortCol)){if(a.p.onSortCol.call(a,d,g,h)=="stop"){a.p.lastsort=g;return }}if(a.p.datatype=="local"){a.p.deselectAfterSort&&b(a).jqGrid("resetSelection")}else{a.p.selrow=null;a.p.multiselect&&b("#cb_"+b.jgrid.jqID(a.p.id),a.grid.hDiv).attr("checked",false);a.p.selarrrow=[];a.p.savedRow=[]}if(a.p.scroll){h=a.grid.bDiv.scrollLeft;Y(a.grid.bDiv,true);a.grid.hDiv.scrollLeft=h}a.p.subGrid&&a.p.datatype=="local"&&b("td.sgexpanded","#"+a.p.id).each(function(){b(this).trigger("click")});ja();a.p.lastsort=g;if(a.p.sortname!=d&&g){a.p.lastsort=g}}}},Fa=function(d){var g=d,h;for(h=d+1;h<a.p.colModel.length;h++){if(a.p.colModel[h].hidden!==true){g=h;break}}return g-d},Ga=function(d){var g,h={},q=G?0:a.p.cellLayout;for(g=h[0]=h[1]=h[2]=0;g<=d;g++){if(a.p.colModel[g].hidden===false){h[0]+=a.p.colModel[g].width+q}}if(a.p.direction=="rtl"){h[0]=a.p.width-h[0]}h[0]-=a.grid.bDiv.scrollLeft;if(b(a.grid.cDiv).is(":visible")){h[1]+=b(a.grid.cDiv).height()+parseInt(b(a.grid.cDiv).css("padding-top"),10)+parseInt(b(a.grid.cDiv).css("padding-bottom"),10)}if(a.p.toolbar[0]===true&&(a.p.toolbar[1]=="top"||a.p.toolbar[1]=="both")){h[1]+=b(a.grid.uDiv).height()+parseInt(b(a.grid.uDiv).css("border-top-width"),10)+parseInt(b(a.grid.uDiv).css("border-bottom-width"),10)}if(a.p.toppager){h[1]+=b(a.grid.topDiv).height()+parseInt(b(a.grid.topDiv).css("border-bottom-width"),10)}h[2]+=b(a.grid.bDiv).height()+b(a.grid.hDiv).height();return h};this.p.id=this.id;if(b.inArray(a.p.multikey,["shiftKey","altKey","ctrlKey"])==-1){a.p.multikey=false}a.p.keyIndex=false;for(k=0;k<a.p.colModel.length;k++){if(a.p.colModel[k].key===true){a.p.keyIndex=k;break}}a.p.sortorder=a.p.sortorder.toLowerCase();if(a.p.grouping===true){a.p.scroll=false;a.p.rownumbers=false;a.p.subGrid=false;a.p.treeGrid=false;a.p.gridview=true}if(this.p.treeGrid===true){try{b(this).jqGrid("setTreeGrid")}catch(Ka){}if(a.p.datatype!="local"){a.p.localReader={id:"_id_"}}}if(this.p.subGrid){try{b(a).jqGrid("setSubGrid")}catch(La){}}if(this.p.multiselect){this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>");this.p.colModel.unshift({name:"cb",width:G?a.p.multiselectWidth+a.p.cellLayout:a.p.multiselectWidth,sortable:false,resizable:false,hidedlg:true,search:false,align:"center",fixed:true})}if(this.p.rownumbers){this.p.colNames.unshift("");this.p.colModel.unshift({name:"rn",width:a.p.rownumWidth,sortable:false,resizable:false,hidedlg:true,search:false,align:"center",fixed:true})}a.p.xmlReader=b.extend(true,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:true,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:true,cell:"cell"}},a.p.xmlReader);a.p.jsonReader=b.extend(true,{root:"rows",page:"page",total:"total",records:"records",repeatitems:true,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:true,cell:"cell"}},a.p.jsonReader);a.p.localReader=b.extend(true,{root:"rows",page:"page",total:"total",records:"records",repeatitems:false,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:true,cell:"cell"}},a.p.localReader);if(a.p.scroll){a.p.pgbuttons=false;a.p.pginput=false;a.p.rowList=[]}a.p.data.length&&O();var aa="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",Da,ma,sa,qa,ta,W,R,na;ma=na="";if(a.p.shrinkToFit===true&&a.p.forceFit===true){for(k=a.p.colModel.length-1;k>=0;k--){if(!a.p.colModel[k].hidden){a.p.colModel[k].resizable=false;break}}}if(a.p.viewsortcols[1]=="horizontal"){na=" ui-i-asc";ma=" ui-i-desc"}Da=B?"class='ui-th-div-ie'":"";na="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+na+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+l+"'></span>";na+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+ma+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+l+"'></span></span>";for(k=0;k<this.p.colNames.length;k++){ma=a.p.headertitles?' title="'+b.jgrid.stripHtml(a.p.colNames[k])+'"':"";aa+="<th id='"+a.p.id+"_"+a.p.colModel[k].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+l+"'"+ma+">";ma=a.p.colModel[k].index||a.p.colModel[k].name;aa+="<div id='jqgh_"+a.p.colModel[k].name+"' "+Da+">"+a.p.colNames[k];a.p.colModel[k].width=a.p.colModel[k].width?parseInt(a.p.colModel[k].width,10):150;if(typeof a.p.colModel[k].title!=="boolean"){a.p.colModel[k].title=true}if(ma==a.p.sortname){a.p.lastsort=k}aa+=na+"</div></th>"}aa+="</tr></thead>";na=null;b(this).append(aa);b("thead tr:first th",this).hover(function(){b(this).addClass("ui-state-hover")},function(){b(this).removeClass("ui-state-hover")});if(this.p.multiselect){var za=[],ua;b("#cb_"+b.jgrid.jqID(a.p.id),this).bind("click",function(){if(this.checked){b("[id^=jqg_"+a.p.id+"_]").attr("checked",true);b(a.rows).each(function(d){if(d>0){if(!b(this).hasClass("subgrid")&&!b(this).hasClass("jqgroup")){b(this).addClass("ui-state-highlight").attr("aria-selected","true");a.p.selarrrow[d]=a.p.selrow=this.id}}});ua=true;za=[]}else{b("[id^=jqg_"+a.p.id+"_]").attr("checked",false);b(a.rows).each(function(d){if(!b(this).hasClass("subgrid")){b(this).removeClass("ui-state-highlight").attr("aria-selected","false");za[d]=this.id}});a.p.selarrrow=[];a.p.selrow=null;ua=false}if(b.isFunction(a.p.onSelectAll)){a.p.onSelectAll.call(a,ua?a.p.selarrrow:za,ua)}})}if(a.p.autowidth===true){aa=b(Q).innerWidth();a.p.width=aa>0?aa:"nw"}(function(){var d=0,g=a.p.cellLayout,h=0,q,o=a.p.scrollOffset,x,w=false,C,D=0,s=0,v=0,y;if(G){g=0}b.each(a.p.colModel,function(){if(typeof this.hidden==="undefined"){this.hidden=false}if(this.hidden===false){d+=J(this.width,0);if(this.fixed){D+=this.width;s+=this.width+g}else{h++}v++}});if(isNaN(a.p.width)){a.p.width=e.width=d}else{e.width=a.p.width}a.p.tblwidth=d;if(a.p.shrinkToFit===false&&a.p.forceFit===true){a.p.forceFit=false}if(a.p.shrinkToFit===true&&h>0){C=e.width-g*h-s;if(!isNaN(a.p.height)){C-=o;w=true}d=0;b.each(a.p.colModel,function(E){if(this.hidden===false&&!this.fixed){this.width=x=Math.round(C*this.width/(a.p.tblwidth-D));d+=x;q=E}});y=0;if(w){if(e.width-s-(d+g*h)!==o){y=e.width-s-(d+g*h)-o}}else{if(!w&&Math.abs(e.width-s-(d+g*h))!==1){y=e.width-s-(d+g*h)}}a.p.colModel[q].width+=y;a.p.tblwidth=d+y+D+v*g;if(a.p.tblwidth>a.p.width){a.p.colModel[q].width-=a.p.tblwidth-parseInt(a.p.width,10);a.p.tblwidth=a.p.width}}})();b(Q).css("width",e.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+a.p.id+"'>&#160;</div>");b(r).css("width",e.width+"px");aa=b("thead:first",a).get(0);var va="";if(a.p.footerrow){va+="<table role='grid' style='width:"+a.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+l+"'>"}r=b("tr:first",aa);var wa="<tr class='jqgfirstrow' role='row' style='height:auto'>";a.p.disableClick=false;b("th",r).each(function(d){sa=a.p.colModel[d].width;if(typeof a.p.colModel[d].resizable==="undefined"){a.p.colModel[d].resizable=true}if(a.p.colModel[d].resizable){qa=document.createElement("span");b(qa).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+l);b.browser.opera||b(qa).css("cursor","col-resize");b(this).addClass(a.p.resizeclass)}else{qa=""}b(this).css("width",sa+"px").prepend(qa);var g="";if(a.p.colModel[d].hidden){b(this).css("display","none");g="display:none;"}wa+="<td role='gridcell' style='height:0px;width:"+sa+"px;"+g+"'>";e.headers[d]={width:sa,el:this};ta=a.p.colModel[d].sortable;if(typeof ta!=="boolean"){ta=a.p.colModel[d].sortable=true}g=a.p.colModel[d].name;g=="cb"||g=="subgrid"||g=="rn"||a.p.viewsortcols[2]&&b("div",this).addClass("ui-jqgrid-sortable");if(ta){if(a.p.viewsortcols[0]){b("div span.s-ico",this).show();d==a.p.lastsort&&b("div span.ui-icon-"+a.p.sortorder,this).removeClass("ui-state-disabled")}else{if(d==a.p.lastsort){b("div span.s-ico",this).show();b("div span.ui-icon-"+a.p.sortorder,this).removeClass("ui-state-disabled")}}}if(a.p.footerrow){va+="<td role='gridcell' "+M(d,0,"")+">&#160;</td>"}}).mousedown(function(d){if(b(d.target).closest("th>span.ui-jqgrid-resize").length==1){var g=b.jgrid.getCellIndex(this);if(a.p.forceFit===true){a.p.nv=Fa(g)}e.dragStart(g,d,Ga(g));return false}}).click(function(d){if(a.p.disableClick){return a.p.disableClick=false}var g="th>div.ui-jqgrid-sortable",h,q;a.p.viewsortcols[2]||(g="th>div>span>span.ui-grid-ico-sort");d=b(d.target).closest(g);if(d.length==1){g=b.jgrid.getCellIndex(this);if(!a.p.viewsortcols[2]){h=true;q=d.attr("sort")}Ca(b("div",this)[0].id,g,h,q);return false}});if(a.p.sortable&&b.fn.sortable){try{b(a).jqGrid("sortableColumns",r)}catch(Ma){}}if(a.p.footerrow){va+="</tr></tbody></table>"}wa+="</tr>";this.appendChild(document.createElement("tbody"));b(this).addClass("ui-jqgrid-btable").append(wa);wa=null;r=b("<table class='ui-jqgrid-htable' style='width:"+a.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(aa);var ea=a.p.caption&&a.p.hiddengrid===true?true:false;k=b("<div class='ui-jqgrid-hbox"+(l=="rtl"?"-rtl":"")+"'></div>");aa=null;e.hDiv=document.createElement("div");b(e.hDiv).css({width:e.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(k);b(k).append(r);r=null;ea&&b(e.hDiv).hide();if(a.p.pager){if(typeof a.p.pager=="string"){if(a.p.pager.substr(0,1)!="#"){a.p.pager="#"+a.p.pager}}else{a.p.pager="#"+b(a.p.pager).attr("id")}b(a.p.pager).css({width:e.width+"px"}).appendTo(Q).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom");ea&&b(a.p.pager).hide();u(a.p.pager,"")}a.p.cellEdit===false&&a.p.hoverrows===true&&b(a).bind("mouseover",function(d){R=b(d.target).closest("tr.jqgrow");b(R).attr("class")!=="subgrid"&&b(R).addClass("ui-state-hover");return false}).bind("mouseout",function(d){R=b(d.target).closest("tr.jqgrow");b(R).removeClass("ui-state-hover");return false});var ka,la;b(a).before(e.hDiv).click(function(d){W=d.target;var g=b(W).hasClass("cbox");R=b(W,a.rows).closest("tr.jqgrow");if(b(R).length===0){return this}var h=true;if(b.isFunction(a.p.beforeSelectRow)){h=a.p.beforeSelectRow.call(a,R[0].id,d)}if(W.tagName=="A"||(W.tagName=="INPUT"||W.tagName=="TEXTAREA"||W.tagName=="OPTION"||W.tagName=="SELECT")&&!g){return this}if(h===true){if(a.p.cellEdit===true){if(a.p.multiselect&&g){b(a).jqGrid("setSelection",R[0].id,true)}else{ka=R[0].rowIndex;la=b.jgrid.getCellIndex(W);try{b(a).jqGrid("editCell",ka,la,true)}catch(q){}}}else{if(a.p.multikey){if(d[a.p.multikey]){b(a).jqGrid("setSelection",R[0].id,true)}else{if(a.p.multiselect&&g){g=b("[id^=jqg_"+a.p.id+"_]").attr("checked");b("[id^=jqg_"+a.p.id+"_]").attr("checked",!g)}}}else{if(a.p.multiselect&&a.p.multiboxonly){if(!g){b(a.p.selarrrow).each(function(o,x){o=a.rows.namedItem(x);b(o).removeClass("ui-state-highlight");b("#jqg_"+a.p.id+"_"+b.jgrid.jqID(x)).attr("checked",false)});a.p.selarrrow=[];b("#cb_"+b.jgrid.jqID(a.p.id),a.grid.hDiv).attr("checked",false)}}b(a).jqGrid("setSelection",R[0].id,true)}}if(b.isFunction(a.p.onCellSelect)){ka=R[0].id;la=b.jgrid.getCellIndex(W);a.p.onCellSelect.call(a,ka,la,b(W).html(),d)}d.stopPropagation()}else{return this}}).bind("reloadGrid",function(d,g){if(a.p.treeGrid===true){a.p.datatype=a.p.treedatatype}g&&g.current&&a.grid.selectionPreserver(a);if(a.p.datatype=="local"){b(a).jqGrid("resetSelection");a.p.data.length&&O()}else{if(!a.p.treeGrid){a.p.selrow=null;if(a.p.multiselect){a.p.selarrrow=[];b("#cb_"+b.jgrid.jqID(a.p.id),a.grid.hDiv).attr("checked",false)}a.p.savedRow=[]}}a.p.scroll&&Y(a.grid.bDiv,true);if(g&&g.page){d=g.page;if(d>a.p.lastpage){d=a.p.lastpage}if(d<1){d=1}a.p.page=d;a.grid.bDiv.scrollTop=a.grid.prevRowHeight?(d-1)*a.grid.prevRowHeight*a.p.rowNum:0}if(a.grid.prevRowHeight&&a.p.scroll){delete a.p.lastpage;a.grid.populateVisible()}else{a.grid.populate()}return false});b.isFunction(this.p.ondblClickRow)&&b(this).dblclick(function(d){W=d.target;R=b(W,a.rows).closest("tr.jqgrow");if(b(R).length===0){return false}ka=R[0].rowIndex;la=b.jgrid.getCellIndex(W);a.p.ondblClickRow.call(a,b(R).attr("id"),ka,la,d);return false});b.isFunction(this.p.onRightClickRow)&&b(this).bind("contextmenu",function(d){W=d.target;R=b(W,a.rows).closest("tr.jqgrow");if(b(R).length===0){return false}a.p.multiselect||b(a).jqGrid("setSelection",R[0].id,true);ka=R[0].rowIndex;la=b.jgrid.getCellIndex(W);a.p.onRightClickRow.call(a,b(R).attr("id"),ka,la,d);return false});e.bDiv=document.createElement("div");b(e.bDiv).append(b('<div style="position:relative;'+(B&&b.browser.version<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:a.p.height+(isNaN(a.p.height)?"":"px"),width:e.width+"px"}).scroll(e.scrollGrid);b("table:first",e.bDiv).css({width:a.p.tblwidth+"px"});if(B){b("tbody",this).size()==2&&b("tbody:gt(0)",this).remove();a.p.multikey&&b(e.bDiv).bind("selectstart",function(){return false})}else{a.p.multikey&&b(e.bDiv).bind("mousedown",function(){return false})}ea&&b(e.bDiv).hide();e.cDiv=document.createElement("div");var Aa=a.p.hidegrid===true?b("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){Aa.addClass("ui-state-hover")},function(){Aa.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css(l=="rtl"?"left":"right","0px"):"";b(e.cDiv).append(Aa).append("<span class='ui-jqgrid-title"+(l=="rtl"?"-rtl":"")+"'>"+a.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");b(e.cDiv).insertBefore(e.hDiv);if(a.p.toolbar[0]){e.uDiv=document.createElement("div");if(a.p.toolbar[1]=="top"){b(e.uDiv).insertBefore(e.hDiv)}else{a.p.toolbar[1]=="bottom"&&b(e.uDiv).insertAfter(e.hDiv)}if(a.p.toolbar[1]=="both"){e.ubDiv=document.createElement("div");b(e.uDiv).insertBefore(e.hDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id);b(e.ubDiv).insertAfter(e.hDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id);ea&&b(e.ubDiv).hide()}else{b(e.uDiv).width(e.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id)}ea&&b(e.uDiv).hide()}if(a.p.toppager){a.p.toppager=a.p.id+"_toppager";e.topDiv=b("<div id='"+a.p.toppager+"'></div>")[0];a.p.toppager="#"+a.p.toppager;b(e.topDiv).insertBefore(e.hDiv).addClass("ui-state-default ui-jqgrid-toppager").width(e.width);u(a.p.toppager,"_t")}if(a.p.footerrow){e.sDiv=b("<div class='ui-jqgrid-sdiv'></div>")[0];k=b("<div class='ui-jqgrid-hbox"+(l=="rtl"?"-rtl":"")+"'></div>");b(e.sDiv).append(k).insertAfter(e.hDiv).width(e.width);b(k).append(va);e.footers=b(".ui-jqgrid-ftable",e.sDiv)[0].rows[0].cells;if(a.p.rownumbers){e.footers[0].className="ui-state-default jqgrid-rownum"}ea&&b(e.sDiv).hide()}k=null;if(a.p.caption){var Ha=a.p.datatype;if(a.p.hidegrid===true){b(".ui-jqgrid-titlebar-close",e.cDiv).click(function(d){var g=b.isFunction(a.p.onHeaderClick);if(a.p.gridstate=="visible"){b(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+a.p.id).slideUp("fast");a.p.pager&&b(a.p.pager).slideUp("fast");a.p.toppager&&b(a.p.toppager).slideUp("fast");if(a.p.toolbar[0]===true){a.p.toolbar[1]=="both"&&b(e.ubDiv).slideUp("fast");b(e.uDiv).slideUp("fast")}a.p.footerrow&&b(".ui-jqgrid-sdiv","#gbox_"+a.p.id).slideUp("fast");b("span",this).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");a.p.gridstate="hidden";b("#gbox_"+a.p.id).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+a.p.id).hide();if(g){ea||a.p.onHeaderClick.call(a,a.p.gridstate,d)}}else{if(a.p.gridstate=="hidden"){b(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+a.p.id).slideDown("fast");a.p.pager&&b(a.p.pager).slideDown("fast");a.p.toppager&&b(a.p.toppager).slideDown("fast");if(a.p.toolbar[0]===true){a.p.toolbar[1]=="both"&&b(e.ubDiv).slideDown("fast");b(e.uDiv).slideDown("fast")}a.p.footerrow&&b(".ui-jqgrid-sdiv","#gbox_"+a.p.id).slideDown("fast");b("span",this).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");if(ea){a.p.datatype=Ha;ja();ea=false}a.p.gridstate="visible";b("#gbox_"+a.p.id).hasClass("ui-resizable")&&b(".ui-resizable-handle","#gbox_"+a.p.id).show();g&&a.p.onHeaderClick.call(a,a.p.gridstate,d)}}return false});if(ea){a.p.datatype="local";b(".ui-jqgrid-titlebar-close",e.cDiv).trigger("click")}}}else{b(e.cDiv).hide()}b(e.hDiv).after(e.bDiv).mousemove(function(d){if(e.resizing){e.dragMove(d);return false}});b(".ui-jqgrid-labels",e.hDiv).bind("selectstart",function(){return false});b(document).mouseup(function(){if(e.resizing){e.dragEnd();return false}return true});a.formatCol=M;a.sortData=Ca;a.updatepager=function(d,g){var h,q,o,x,w,C,D,s="";o=parseInt(a.p.page,10)-1;if(o<0){o=0}o*=parseInt(a.p.rowNum,10);w=o+a.p.reccount;if(a.p.scroll){h=b("tbody:first > tr:gt(0)",a.grid.bDiv);o=w-h.length;a.p.reccount=h.length;if(q=h.outerHeight()||a.grid.prevRowHeight){h=o*q;q=parseInt(a.p.records,10)*q;b(">div:first",a.grid.bDiv).css({height:q}).children("div:first").css({height:h,display:h?"":"none"})}a.grid.bDiv.scrollLeft=a.grid.hDiv.scrollLeft}s=a.p.pager?a.p.pager:"";s+=a.p.toppager?s?","+a.p.toppager:a.p.toppager:"";if(s){D=b.jgrid.formatter.integer||{};h=J(a.p.page);q=J(a.p.lastpage);b(".selbox",s).attr("disabled",false);if(a.p.pginput===true){b(".ui-pg-input",s).val(a.p.page);b("#sp_1",s).html(b.fmatter?b.fmatter.util.NumberFormat(a.p.lastpage,D):a.p.lastpage)}if(a.p.viewrecords){if(a.p.reccount===0){b(".ui-paging-info",s).html(a.p.emptyrecords)}else{x=o+1;C=a.p.records;if(b.fmatter){x=b.fmatter.util.NumberFormat(x,D);w=b.fmatter.util.NumberFormat(w,D);C=b.fmatter.util.NumberFormat(C,D)}b(".ui-paging-info",s).html(b.jgrid.format(a.p.recordtext,x,w,C))}}if(a.p.pgbuttons===true){if(h<=0){h=q=0}if(h==1||h===0){b("#first, #prev",a.p.pager).addClass("ui-state-disabled").removeClass("ui-state-hover");a.p.toppager&&b("#first_t, #prev_t",a.p.toppager).addClass("ui-state-disabled").removeClass("ui-state-hover")}else{b("#first, #prev",a.p.pager).removeClass("ui-state-disabled");a.p.toppager&&b("#first_t, #prev_t",a.p.toppager).removeClass("ui-state-disabled")}if(h==q||h===0){b("#next, #last",a.p.pager).addClass("ui-state-disabled").removeClass("ui-state-hover");a.p.toppager&&b("#next_t, #last_t",a.p.toppager).addClass("ui-state-disabled").removeClass("ui-state-hover")}else{b("#next, #last",a.p.pager).removeClass("ui-state-disabled");a.p.toppager&&b("#next_t, #last_t",a.p.toppager).removeClass("ui-state-disabled")}}}d===true&&a.p.rownumbers===true&&b("td.jqgrid-rownum",a.rows).each(function(v){b(this).html(o+1+v)});g&&a.p.jqgdnd&&b(a).jqGrid("gridDnD","updateDnD");b.isFunction(a.p.gridComplete)&&a.p.gridComplete.call(a)};a.refreshIndex=O;a.formatter=function(d,g,h,q,o){return m(d,g,h,q,o)};b.extend(e,{populate:ja,emptyRows:Y});this.grid=e;a.addXmlData=function(d){fa(d,a.grid.bDiv)};a.addJSONData=function(d){ca(d,a.grid.bDiv)};this.grid.cols=this.rows[0].cells;ja();a.p.hiddengrid=false;b(window).unload(function(){a=null})}}}})};b.jgrid.extend({getGridParam:function(f){var j=this[0];if(j&&j.grid){return f?typeof j.p[f]!="undefined"?j.p[f]:null:j.p}},setGridParam:function(f){return this.each(function(){this.grid&&typeof f==="object"&&b.extend(true,this.p,f)})},getDataIDs:function(){var f=[],j=0,i,c=0;this.each(function(){if((i=this.rows.length)&&i>0){for(;j<i;){if(b(this.rows[j]).hasClass("jqgrow")){f[c]=this.rows[j].id;c++}j++}}});return f},setSelection:function(f,j){return this.each(function(){function i(l){var a=b(c.grid.bDiv)[0].clientHeight,r=b(c.grid.bDiv)[0].scrollTop,u=c.rows[l].offsetTop;l=c.rows[l].clientHeight;if(u+l>=a+r){b(c.grid.bDiv)[0].scrollTop=u-(a+r)+l+r}else{if(u<a+r){if(u<r){b(c.grid.bDiv)[0].scrollTop=u}}}}var c=this,e,k;if(f!==undefined){j=j===false?false:true;if(e=c.rows.namedItem(f+"")){if(c.p.scrollrows===true){k=c.rows.namedItem(f).rowIndex;k>=0&&i(k)}if(c.p.multiselect){c.p.selrow=e.id;k=b.inArray(c.p.selrow,c.p.selarrrow);if(k===-1){e.className!=="ui-subgrid"&&b(e).addClass("ui-state-highlight").attr("aria-selected","true");e=true;b("#jqg_"+c.p.id+"_"+b.jgrid.jqID(c.p.selrow)).attr("checked",e);c.p.selarrrow.push(c.p.selrow);c.p.onSelectRow&&j&&c.p.onSelectRow.call(c,c.p.selrow,e)}else{e.className!=="ui-subgrid"&&b(e).removeClass("ui-state-highlight").attr("aria-selected","false");e=false;b("#jqg_"+c.p.id+"_"+b.jgrid.jqID(c.p.selrow)).attr("checked",e);c.p.selarrrow.splice(k,1);c.p.onSelectRow&&j&&c.p.onSelectRow.call(c,c.p.selrow,e);e=c.p.selarrrow[0];c.p.selrow=e===undefined?null:e}}else{if(e.className!=="ui-subgrid"){c.p.selrow&&b(c.rows.namedItem(c.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false");c.p.selrow=e.id;b(e).addClass("ui-state-highlight").attr("aria-selected","true");c.p.onSelectRow&&j&&c.p.onSelectRow.call(c,c.p.selrow,true)}}}}})},resetSelection:function(){return this.each(function(){var f=this,j;if(f.p.multiselect){b(f.p.selarrrow).each(function(i,c){j=f.rows.namedItem(c);b(j).removeClass("ui-state-highlight").attr("aria-selected","false");b("#jqg_"+f.p.id+"_"+b.jgrid.jqID(c)).attr("checked",false)});b("#cb_"+b.jgrid.jqID(f.p.id)).attr("checked",false);f.p.selarrrow=[]}else{if(f.p.selrow){b("#"+f.p.id+" tbody:first tr#"+b.jgrid.jqID(f.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false");f.p.selrow=null}}f.p.savedRow=[]})},getRowData:function(f){var j={},i,c=false,e,k=0;this.each(function(){var l=this,a,r;if(typeof f=="undefined"){c=true;i=[];e=l.rows.length}else{r=l.rows.namedItem(f);if(!r){return j}e=2}for(;k<e;){if(c){r=l.rows[k]}if(b(r).hasClass("jqgrow")){b("td",r).each(function(u){a=l.p.colModel[u].name;if(a!=="cb"&&a!=="subgrid"&&a!=="rn"){if(l.p.treeGrid===true&&a==l.p.ExpandColumn){j[a]=b.jgrid.htmlDecode(b("span:first",this).html())}else{try{j[a]=b.unformat(this,{rowId:r.id,colModel:l.p.colModel[u]},u)}catch(B){j[a]=b.jgrid.htmlDecode(b(this).html())}}}});if(c){i.push(j);j={}}}k++}});return i?i:j},delRowData:function(f){var j=false,i,c;this.each(function(){var e=this;if(i=e.rows.namedItem(f)){b(i).remove();e.p.records--;e.p.reccount--;e.updatepager(true,false);j=true;if(e.p.multiselect){c=b.inArray(f,e.p.selarrrow);c!=-1&&e.p.selarrrow.splice(c,1)}if(f==e.p.selrow){e.p.selrow=null}}else{return false}if(e.p.datatype=="local"){var k=e.p._index[f];if(typeof k!="undefined"){e.p.data.splice(k,1);e.refreshIndex()}}if(e.p.altRows===true&&j){var l=e.p.altclass;b(e.rows).each(function(a){a%2==1?b(this).addClass(l):b(this).removeClass(l)})}});return j},setRowData:function(f,j,i){var c,e=true,k;this.each(function(){if(!this.grid){return false}var l=this,a,r,u=typeof i,B={};r=l.rows.namedItem(f);if(!r){return false}if(j){try{b(this.p.colModel).each(function(J){c=this.name;if(j[c]!==undefined){B[c]=this.formatter&&typeof this.formatter==="string"&&this.formatter=="date"?b.unformat.date(j[c],this):j[c];a=l.formatter(f,j[c],J,j,"edit");k=this.title?{title:b.jgrid.stripHtml(a)}:{};l.p.treeGrid===true&&c==l.p.ExpandColumn?b("td:eq("+J+") > span:first",r).html(a).attr(k):b("td:eq("+J+")",r).html(a).attr(k)}});if(l.p.datatype=="local"){var G=l.p._index[f];if(typeof G!="undefined"){l.p.data[G]=b.extend(true,l.p.data[G],B)}B=null}}catch(Q){e=false}}if(e){if(u==="string"){b(r).addClass(i)}else{u==="object"&&b(r).css(i)}}});return e},addRowData:function(f,j,i,c){i||(i="last");var e=false,k,l,a,r,u,B,G,Q,J="",M,n,m,p,A;if(j){if(b.isArray(j)){M=true;i="last";n=f}else{j=[j];M=false}this.each(function(){var t=this,H=j.length;u=t.p.rownumbers===true?1:0;a=t.p.multiselect===true?1:0;r=t.p.subGrid===true?1:0;if(!M){if(typeof f!="undefined"){f+=""}else{f=t.p.records+1+"";if(t.p.keyIndex!==false){n=t.p.colModel[t.p.keyIndex+a+r+u].name;if(typeof j[0][n]!="undefined"){f=j[0][n]}}}}m=t.p.altclass;for(var S=0,Y="",O={},fa=b.isFunction(t.p.afterInsertRow)?true:false;S<H;){p=j[S];l="";if(M){try{f=p[n]}catch(ca){f=t.p.records+1+""}Y=t.p.altRows===true?(t.rows.length-1)%2===0?m:"":""}if(u){J=t.formatCol(0,1,"");l+='<td role="gridcell" aria-describedby="'+t.p.id+'_rn" class="ui-state-default jqgrid-rownum" '+J+">0</td>"}if(a){Q='<input role="checkbox" type="checkbox" id="jqg_'+t.p.id+"_"+f+'" class="cbox"/>';J=t.formatCol(u,1,"");l+='<td role="gridcell" aria-describedby="'+t.p.id+'_cb" '+J+">"+Q+"</td>"}if(r){l+=b(t).jqGrid("addSubGridCell",a+u,1)}for(G=a+r+u;G<t.p.colModel.length;G++){A=t.p.colModel[G];k=A.name;O[k]=A.formatter&&typeof A.formatter==="string"&&A.formatter=="date"?b.unformat.date(p[k],A):p[k];Q=t.formatter(f,b.jgrid.getAccessor(p,k),G,p,"edit");J=t.formatCol(G,1,Q);l+='<td role="gridcell" aria-describedby="'+t.p.id+"_"+k+'" '+J+">"+Q+"</td>"}l='<tr id="'+f+'" role="row" class="ui-widget-content jqgrow ui-row-'+t.p.direction+" "+Y+'">'+l+"</tr>";if(t.p.subGrid===true){l=b(l)[0];b(t).jqGrid("addSubGrid",l,a+u)}if(t.rows.length===0){b("table:first",t.grid.bDiv).append(l)}else{switch(i){case"last":b(t.rows[t.rows.length-1]).after(l);break;case"first":b(t.rows[0]).after(l);break;case"after":if(B=t.rows.namedItem(c)){b(t.rows[B.rowIndex+1]).hasClass("ui-subgrid")?b(t.rows[B.rowIndex+1]).after(l):b(B).after(l)}break;case"before":if(B=t.rows.namedItem(c)){b(B).before(l);B=B.rowIndex}break}}t.p.records++;t.p.reccount++;fa&&t.p.afterInsertRow.call(t,f,p,p);S++;if(t.p.datatype=="local"){t.p._index[f]=t.p.data.length;t.p.data.push(O);O={}}}if(t.p.altRows===true&&!M){if(i=="last"){(t.rows.length-1)%2==1&&b(t.rows[t.rows.length-1]).addClass(m)}else{b(t.rows).each(function(P){P%2==1?b(this).addClass(m):b(this).removeClass(m)})}}t.updatepager(true,true);e=true})}return e},footerData:function(f,j,i){function c(r){for(var u in r){if(r.hasOwnProperty(u)){return false}}return true}var e,k=false,l={},a;if(typeof f=="undefined"){f="get"}if(typeof i!="boolean"){i=true}f=f.toLowerCase();this.each(function(){var r=this,u;if(!r.grid||!r.p.footerrow){return false}if(f=="set"){if(c(j)){return false}}k=true;b(this.p.colModel).each(function(B){e=this.name;if(f=="set"){if(j[e]!==undefined){u=i?r.formatter("",j[e],B,j,"edit"):j[e];a=this.title?{title:b.jgrid.stripHtml(u)}:{};b("tr.footrow td:eq("+B+")",r.grid.sDiv).html(u).attr(a);k=true}}else{if(f=="get"){l[e]=b("tr.footrow td:eq("+B+")",r.grid.sDiv).html()}}})});return f=="get"?l:k},ShowHideCol:function(f,j){return this.each(function(){var i=this,c=false;if(i.grid){if(typeof f==="string"){f=[f]}j=j!="none"?"":"none";var e=j===""?true:false;b(this.p.colModel).each(function(k){if(b.inArray(this.name,f)!==-1&&this.hidden===e){b("tr",i.grid.hDiv).each(function(){b("th:eq("+k+")",this).css("display",j)});b(i.rows).each(function(l){b("td:eq("+k+")",i.rows[l]).css("display",j)});i.p.footerrow&&b("td:eq("+k+")",i.grid.sDiv).css("display",j);if(j=="none"){i.p.tblwidth-=this.width+i.p.cellLayout}else{i.p.tblwidth+=this.width}this.hidden=!e;c=true}});if(c===true){b("table:first",i.grid.hDiv).width(i.p.tblwidth);b("table:first",i.grid.bDiv).width(i.p.tblwidth);i.grid.hDiv.scrollLeft=i.grid.bDiv.scrollLeft;if(i.p.footerrow){b("table:first",i.grid.sDiv).width(i.p.tblwidth);i.grid.sDiv.scrollLeft=i.grid.bDiv.scrollLeft}i.p.shrinkToFit===true&&b(i).jqGrid("setGridWidth",i.grid.width-0.001,true)}}})},hideCol:function(f){return this.each(function(){b(this).jqGrid("ShowHideCol",f,"none")})},showCol:function(f){return this.each(function(){b(this).jqGrid("ShowHideCol",f,"")})},remapColumns:function(f,j,i){function c(l){var a;a=l.length?b.makeArray(l):b.extend({},l);b.each(f,function(r){l[r]=a[this]})}function e(l,a){b(">tr"+(a||""),l).each(function(){var r=this,u=b.makeArray(r.cells);b.each(f,function(){var B=u[this];B&&r.appendChild(B)})})}var k=this.get(0);c(k.p.colModel);c(k.p.colNames);c(k.grid.headers);e(b("thead:first",k.grid.hDiv),i&&":not(.ui-jqgrid-labels)");j&&e(b("#"+k.p.id+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");k.p.footerrow&&e(b("tbody:first",k.grid.sDiv));if(k.p.remapColumns){if(k.p.remapColumns.length){c(k.p.remapColumns)}else{k.p.remapColumns=b.makeArray(f)}}k.p.lastsort=b.inArray(k.p.lastsort,f);if(k.p.treeGrid){k.p.expColInd=b.inArray(k.p.expColInd,f)}},setGridWidth:function(f,j){return this.each(function(){if(this.grid){var i=this,c,e=0,k=i.p.cellLayout,l,a=0,r=false,u=i.p.scrollOffset,B,G=0,Q=0,J=0,M;if(typeof j!="boolean"){j=i.p.shrinkToFit}if(!isNaN(f)){f=parseInt(f,10);i.grid.width=i.p.width=f;b("#gbox_"+i.p.id).css("width",f+"px");b("#gview_"+i.p.id).css("width",f+"px");b(i.grid.bDiv).css("width",f+"px");b(i.grid.hDiv).css("width",f+"px");i.p.pager&&b(i.p.pager).css("width",f+"px");i.p.toppager&&b(i.p.toppager).css("width",f+"px");if(i.p.toolbar[0]===true){b(i.grid.uDiv).css("width",f+"px");i.p.toolbar[1]=="both"&&b(i.grid.ubDiv).css("width",f+"px")}i.p.footerrow&&b(i.grid.sDiv).css("width",f+"px");if(j===false&&i.p.forceFit===true){i.p.forceFit=false}if(j===true){if(b.browser.safari){k=0}b.each(i.p.colModel,function(){if(this.hidden===false){e+=parseInt(this.width,10);if(this.fixed){Q+=this.width;G+=this.width+k}else{a++}J++}});if(a!==0){i.p.tblwidth=e;B=f-k*a-G;if(!isNaN(i.p.height)){if(b(i.grid.bDiv)[0].clientHeight<b(i.grid.bDiv)[0].scrollHeight||i.rows.length===1){r=true;B-=u}}e=0;var n=i.grid.cols.length>0;b.each(i.p.colModel,function(m){if(this.hidden===false&&!this.fixed){c=Math.round(B*this.width/(i.p.tblwidth-Q));if(!(c<0)){this.width=c;e+=c;i.grid.headers[m].width=c;i.grid.headers[m].el.style.width=c+"px";if(i.p.footerrow){i.grid.footers[m].style.width=c+"px"}if(n){i.grid.cols[m].style.width=c+"px"}l=m}}});M=0;if(r){if(f-G-(e+k*a)!==u){M=f-G-(e+k*a)-u}}else{if(Math.abs(f-G-(e+k*a))!==1){M=f-G-(e+k*a)}}i.p.colModel[l].width+=M;i.p.tblwidth=e+M+Q+k*J;if(i.p.tblwidth>f){r=i.p.tblwidth-parseInt(f,10);i.p.tblwidth=f;c=i.p.colModel[l].width-=r}else{c=i.p.colModel[l].width}i.grid.headers[l].width=c;i.grid.headers[l].el.style.width=c+"px";if(n){i.grid.cols[l].style.width=c+"px"}b("table:first",i.grid.bDiv).css("width",i.p.tblwidth+"px");b("table:first",i.grid.hDiv).css("width",i.p.tblwidth+"px");i.grid.hDiv.scrollLeft=i.grid.bDiv.scrollLeft;if(i.p.footerrow){i.grid.footers[l].style.width=c+"px";b("table:first",i.grid.sDiv).css("width",i.p.tblwidth+"px")}}}}}})},setGridHeight:function(f){return this.each(function(){var j=this;if(j.grid){b(j.grid.bDiv).css({height:f+(isNaN(f)?"":"px")});j.p.height=f;j.p.scroll&&j.grid.populateVisible()}})},setCaption:function(f){return this.each(function(){this.p.caption=f;b("span.ui-jqgrid-title",this.grid.cDiv).html(f);b(this.grid.cDiv).show()})},setLabel:function(f,j,i,c){return this.each(function(){var e=this,k=-1;if(e.grid){if(isNaN(f)){b(e.p.colModel).each(function(r){if(this.name==f){k=r;return false}})}else{k=parseInt(f,10)}if(k>=0){var l=b("tr.ui-jqgrid-labels th:eq("+k+")",e.grid.hDiv);if(j){var a=b(".s-ico",l);b("[id^=jqgh_]",l).empty().html(j).append(a);e.p.colNames[k]=j}if(i){typeof i==="string"?b(l).addClass(i):b(l).css(i)}typeof c==="object"&&b(l).attr(c)}}})},setCell:function(f,j,i,c,e,k){return this.each(function(){var l=this,a=-1,r,u;if(l.grid){if(isNaN(j)){b(l.p.colModel).each(function(G){if(this.name==j){a=G;return false}})}else{a=parseInt(j,10)}if(a>=0){if(r=l.rows.namedItem(f)){var B=b("td:eq("+a+")",r);if(i!==""||k===true){r=l.formatter(f,i,a,r,"edit");u=l.p.colModel[a].title?{title:b.jgrid.stripHtml(r)}:{};l.p.treeGrid&&b(".tree-wrap",b(B)).length>0?b("span",b(B)).html(r).attr(u):b(B).html(r).attr(u);if(l.p.datatype=="local"){r=l.p.colModel[a];i=r.formatter&&typeof r.formatter==="string"&&r.formatter=="date"?b.unformat.date(i,r):i;if(u=l.p._index[f]){l.p.data[u][r.name]=i}}}if(typeof c==="string"){b(B).addClass(c)}else{c&&b(B).css(c)}typeof e==="object"&&b(B).attr(e)}}}})},getCell:function(f,j){var i=false;this.each(function(){var c=this,e=-1;if(c.grid){if(isNaN(j)){b(c.p.colModel).each(function(a){if(this.name===j){e=a;return false}})}else{e=parseInt(j,10)}if(e>=0){var k=c.rows.namedItem(f);if(k){try{i=b.unformat(b("td:eq("+e+")",k),{rowId:k.id,colModel:c.p.colModel[e]},e)}catch(l){i=b.jgrid.htmlDecode(b("td:eq("+e+")",k).html())}}}}});return i},getCol:function(f,j,i){var c=[],e,k=0;j=typeof j!="boolean"?false:j;if(typeof i=="undefined"){i=false}this.each(function(){var l=this,a=-1;if(l.grid){if(isNaN(f)){b(l.p.colModel).each(function(G){if(this.name===f){a=G;return false}})}else{a=parseInt(f,10)}if(a>=0){var r=l.rows.length,u=0;if(r&&r>0){for(;u<r;){if(b(l.rows[u]).hasClass("jqgrow")){try{e=b.unformat(b(l.rows[u].cells[a]),{rowId:l.rows[u].id,colModel:l.p.colModel[a]},a)}catch(B){e=b.jgrid.htmlDecode(l.rows[u].cells[a].innerHTML)}if(i){k+=parseFloat(e)}else{if(j){c.push({id:l.rows[u].id,value:e})}else{c[u]=e}}}u++}if(i){switch(i.toLowerCase()){case"sum":c=k;break;case"avg":c=k/r;break;case"count":c=r;break}}}}}});return c},clearGridData:function(f){return this.each(function(){var j=this;if(j.grid){if(typeof f!="boolean"){f=false}if(j.p.deepempty){b("#"+j.p.id+" tbody:first tr:gt(0)").remove()}else{var i=b("#"+j.p.id+" tbody:first tr:first")[0];b("#"+j.p.id+" tbody:first").empty().append(i)}j.p.footerrow&&f&&b(".ui-jqgrid-ftable td",j.grid.sDiv).html("&#160;");j.p.selrow=null;j.p.selarrrow=[];j.p.savedRow=[];j.p.records=0;j.p.page=1;j.p.lastpage=0;j.p.reccount=0;j.p.data=[];j.p_index={};j.updatepager(true,false)}})},getInd:function(f,j){var i=false,c;this.each(function(){if(c=this.rows.namedItem(f)){i=j===true?c:c.rowIndex}});return i}})})(jQuery);(function(A){A.fmatter={};A.extend(A.fmatter,{isBoolean:function(B){return typeof B==="boolean"},isObject:function(B){return B&&(typeof B==="object"||A.isFunction(B))||false},isString:function(B){return typeof B==="string"},isNumber:function(B){return typeof B==="number"&&isFinite(B)},isNull:function(B){return B===null},isUndefined:function(B){return typeof B==="undefined"},isValue:function(B){return this.isObject(B)||this.isString(B)||this.isNumber(B)||this.isBoolean(B)},isEmpty:function(B){if(!this.isString(B)&&this.isValue(B)){return false}else{if(!this.isValue(B)){return true}}B=A.trim(B).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return B===""}});A.fn.fmatter=function(C,B,G,F,D){var E=B;G=A.extend({},A.jgrid.formatter,G);if(A.fn.fmatter[C]){E=A.fn.fmatter[C](B,G,F,D)}return E};A.fmatter.util={NumberFormat:function(C,B){A.fmatter.isNumber(C)||(C*=1);if(A.fmatter.isNumber(C)){var I=C<0,H=C+"",E=B.decimalSeparator?B.decimalSeparator:".";if(A.fmatter.isNumber(B.decimalPlaces)){var F=B.decimalPlaces;H=Math.pow(10,F);H=Math.round(C*H)/H+"";C=H.lastIndexOf(".");if(F>0){if(C<0){H+=E;C=H.length-1}else{if(E!=="."){H=H.replace(".",E)}}for(;H.length-1-C<F;){H+="0"}}}if(B.thousandsSeparator){F=B.thousandsSeparator;C=H.lastIndexOf(E);C=C>-1?C:H.length;E=H.substring(C);for(var G=-1,D=C;D>0;D--){G++;if(G%3===0&&D!==C&&(!I||D>1)){E=F+E}E=H.charAt(D-1)+E}H=E}H=B.prefix?B.prefix+H:H;return H=B.suffix?H+B.suffix:H}else{return C}},DateFormat:function(P,O,N,M){var J=function(S,T){S=String(S);for(T=parseInt(T,10)||2;S.length<T;){S="0"+S}return S},K={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},L=0,I,H,G=["i18n"];G.i18n={dayNames:M.dayNames,monthNames:M.monthNames};if(P in M.masks){P=M.masks[P]}if(O.constructor===Number){L=new Date(O)}else{if(O.constructor===Date){L=O}else{O=O.split(/[\\\/:_;.,\t\T\s-]/);P=P.split(/[\\\/:_;.,\t\T\s-]/);I=0;for(H=P.length;I<H;I++){if(P[I]=="M"){L=A.inArray(O[I],G.i18n.monthNames);if(L!==-1&&L<12){O[I]=L+1}}if(P[I]=="F"){L=A.inArray(O[I],G.i18n.monthNames);if(L!==-1&&L>11){O[I]=L+1-12}}if(O[I]){K[P[I].toLowerCase()]=parseInt(O[I],10)}}if(K.f){K.m=K.f}if(K.m===0&&K.y===0&&K.d===0){return"&#160;"}K.m=parseInt(K.m,10)-1;L=K.y;if(L>=70&&L<=99){K.y=1900+K.y}else{if(L>=0&&L<=69){K.y=2000+K.y}}L=new Date(K.y,K.m,K.d,K.h,K.i,K.s,K.u)}}if(N in M.masks){N=M.masks[N]}else{N||(N="Y-m-d")}K=L.getHours();P=L.getMinutes();O=L.getDate();I=L.getMonth()+1;H=L.getTimezoneOffset();var F=L.getSeconds(),D=L.getMilliseconds(),E=L.getDay(),C=L.getFullYear(),B=(E+6)%7+1,R=(new Date(C,I-1,O)-new Date(C,0,1))/86400000,Q={d:J(O),D:G.i18n.dayNames[E],j:O,l:G.i18n.dayNames[E+7],N:B,S:M.S(O),w:E,z:R,W:B<5?Math.floor((R+B-1)/7)+1:Math.floor((R+B-1)/7)||(((new Date(C-1,0,1)).getDay()+6)%7<4?53:52),F:G.i18n.monthNames[I-1+12],m:J(I),M:G.i18n.monthNames[I-1],n:I,t:"?",L:"?",o:"?",Y:C,y:String(C).substring(2),a:K<12?M.AmPm[0]:M.AmPm[1],A:K<12?M.AmPm[2]:M.AmPm[3],B:"?",g:K%12||12,G:K,h:J(K%12||12),H:J(K),i:J(P),s:J(F),u:D,e:"?",I:"?",O:(H>0?"-":"+")+J(Math.floor(Math.abs(H)/60)*100+Math.abs(H)%60,4),P:"?",T:(String(L).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(L/1000)};return N.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(S){return S in Q?Q[S]:S.substring(1)})}};A.fn.fmatter.defaultFormat=function(C,B){return A.fmatter.isValue(C)&&C!==""?C:B.defaultValue?B.defaultValue:"&#160;"};A.fn.fmatter.email=function(C,B){return A.fmatter.isEmpty(C)?A.fn.fmatter.defaultFormat(C,B):'<a href="mailto:'+C+'">'+C+"</a>"};A.fn.fmatter.checkbox=function(C,B){var D=A.extend({},B.checkbox);A.fmatter.isUndefined(B.colModel.formatoptions)||(D=A.extend({},D,B.colModel.formatoptions));B=D.disabled===true?"disabled":"";if(A.fmatter.isEmpty(C)||A.fmatter.isUndefined(C)){C=A.fn.fmatter.defaultFormat(C,D)}C+="";C=C.toLowerCase();return'<input type="checkbox" '+(C.search(/(false|0|no|off)/i)<0?" checked='checked' ":"")+' value="'+C+'" offval="no" '+B+"/>"};A.fn.fmatter.link=function(C,B){var E={target:B.target},D="";A.fmatter.isUndefined(B.colModel.formatoptions)||(E=A.extend({},E,B.colModel.formatoptions));if(E.target){D="target="+E.target}return A.fmatter.isEmpty(C)?A.fn.fmatter.defaultFormat(C,B):"<a "+D+' href="'+C+'">'+C+"</a>"};A.fn.fmatter.showlink=function(C,B){var E={baseLinkUrl:B.baseLinkUrl,showAction:B.showAction,addParam:B.addParam||"",target:B.target,idName:B.idName},D="";A.fmatter.isUndefined(B.colModel.formatoptions)||(E=A.extend({},E,B.colModel.formatoptions));if(E.target){D="target="+E.target}E=E.baseLinkUrl+E.showAction+"?"+E.idName+"="+B.rowId+E.addParam;return A.fmatter.isString(C)||A.fmatter.isNumber(C)?"<a "+D+' href="'+E+'">'+C+"</a>":A.fn.fmatter.defaultFormat(C,B)};A.fn.fmatter.integer=function(C,B){var D=A.extend({},B.integer);A.fmatter.isUndefined(B.colModel.formatoptions)||(D=A.extend({},D,B.colModel.formatoptions));if(A.fmatter.isEmpty(C)){return D.defaultValue}return A.fmatter.util.NumberFormat(C,D)};A.fn.fmatter.number=function(C,B){var D=A.extend({},B.number);A.fmatter.isUndefined(B.colModel.formatoptions)||(D=A.extend({},D,B.colModel.formatoptions));if(A.fmatter.isEmpty(C)){return D.defaultValue}return A.fmatter.util.NumberFormat(C,D)};A.fn.fmatter.currency=function(C,B){var D=A.extend({},B.currency);A.fmatter.isUndefined(B.colModel.formatoptions)||(D=A.extend({},D,B.colModel.formatoptions));if(A.fmatter.isEmpty(C)){return D.defaultValue}return A.fmatter.util.NumberFormat(C,D)};A.fn.fmatter.date=function(C,B,E,D){E=A.extend({},B.date);A.fmatter.isUndefined(B.colModel.formatoptions)||(E=A.extend({},E,B.colModel.formatoptions));return !E.reformatAfterEdit&&D=="edit"?A.fn.fmatter.defaultFormat(C,B):A.fmatter.isEmpty(C)?A.fn.fmatter.defaultFormat(C,B):A.fmatter.util.DateFormat(E.srcformat,C,E.newformat,E)};A.fn.fmatter.select=function(K,J){K+="";var I=false,H=[];if(A.fmatter.isUndefined(J.colModel.formatoptions)){if(!A.fmatter.isUndefined(J.colModel.editoptions)){I=J.colModel.editoptions.value}}else{I=J.colModel.formatoptions.value}if(I){var E=J.colModel.editoptions.multiple===true?true:false,F=[],G;if(E){F=K.split(",");F=A.map(F,function(L){return A.trim(L)})}if(A.fmatter.isString(I)){for(var D=I.split(";"),C=0,B=0;B<D.length;B++){G=D[B].split(":");if(G.length>2){G[1]=jQuery.map(G,function(L,M){if(M>0){return L}}).join(":")}if(E){if(jQuery.inArray(G[0],F)>-1){H[C]=G[1];C++}}else{if(A.trim(G[0])==A.trim(K)){H[0]=G[1];break}}}}else{if(A.fmatter.isObject(I)){if(E){H=jQuery.map(F,function(L){return I[L]})}else{H[0]=I[K]||""}}}}K=H.join(", ");return K===""?A.fn.fmatter.defaultFormat(K,J):K};A.fn.fmatter.rowactions=function(C,B,E,D){switch(E){case"edit":E=function(){A("tr#"+C+" div.ui-inline-edit, tr#"+C+" div.ui-inline-del","#"+B).show();A("tr#"+C+" div.ui-inline-save, tr#"+C+" div.ui-inline-cancel","#"+B).hide()};A("#"+B).jqGrid("editRow",C,D,null,null,null,{oper:"edit"},E,null,E);A("tr#"+C+" div.ui-inline-edit, tr#"+C+" div.ui-inline-del","#"+B).hide();A("tr#"+C+" div.ui-inline-save, tr#"+C+" div.ui-inline-cancel","#"+B).show();break;case"save":A("#"+B).jqGrid("saveRow",C,null,null);A("tr#"+C+" div.ui-inline-edit, tr#"+C+" div.ui-inline-del","#"+B).show();A("tr#"+C+" div.ui-inline-save, tr#"+C+" div.ui-inline-cancel","#"+B).hide();break;case"cancel":A("#"+B).jqGrid("restoreRow",C);A("tr#"+C+" div.ui-inline-edit, tr#"+C+" div.ui-inline-del","#"+B).show();A("tr#"+C+" div.ui-inline-save, tr#"+C+" div.ui-inline-cancel","#"+B).hide();break}};A.fn.fmatter.actions=function(C,B){C={keys:false,editbutton:true,delbutton:true};A.fmatter.isUndefined(B.colModel.formatoptions)||(C=A.extend(C,B.colModel.formatoptions));var F=B.rowId,E="",D;if(typeof F=="undefined"||A.fmatter.isEmpty(F)){return""}if(C.editbutton){D="onclick=$.fn.fmatter.rowactions('"+F+"','"+B.gid+"','edit',"+C.keys+");";E=E+"<div style='margin-left:8px;'><div title='"+A.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' "+D+"><span class='ui-icon ui-icon-pencil'></span></div>"}if(C.delbutton){D="onclick=jQuery('#"+B.gid+"').jqGrid('delGridRow','"+F+"');";E=E+"<div title='"+A.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' "+D+"><span class='ui-icon ui-icon-trash'></span></div>"}D="onclick=$.fn.fmatter.rowactions('"+F+"','"+B.gid+"','save',false);";E=E+"<div title='"+A.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save'><span class='ui-icon ui-icon-disk' "+D+"></span></div>";D="onclick=$.fn.fmatter.rowactions('"+F+"','"+B.gid+"','cancel',false);";return E=E+"<div title='"+A.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel'><span class='ui-icon ui-icon-cancel' "+D+"></span></div></div>"};A.unformat=function(J,I,H,G){var D,E=I.colModel.formatter,F=I.colModel.formatoptions||{},C=/([\.\*\_\'\(\)\{\}\+\?\\])/g,B=I.colModel.unformat||A.fn.fmatter[E]&&A.fn.fmatter[E].unformat;if(typeof B!=="undefined"&&A.isFunction(B)){D=B(A(J).text(),I,J)}else{if(!A.fmatter.isUndefined(E)&&A.fmatter.isString(E)){D=A.jgrid.formatter||{};switch(E){case"integer":F=A.extend({},D.integer,F);I=F.thousandsSeparator.replace(C,"\\$1");I=new RegExp(I,"g");D=A(J).text().replace(I,"");break;case"number":F=A.extend({},D.number,F);I=F.thousandsSeparator.replace(C,"\\$1");I=new RegExp(I,"g");D=A(J).text().replace(I,"").replace(F.decimalSeparator,".");break;case"currency":F=A.extend({},D.currency,F);I=F.thousandsSeparator.replace(C,"\\$1");I=new RegExp(I,"g");D=A(J).text().replace(I,"").replace(F.decimalSeparator,".").replace(F.prefix,"").replace(F.suffix,"");break;case"checkbox":F=I.colModel.editoptions?I.colModel.editoptions.value.split(":"):["Yes","No"];D=A("input",J).attr("checked")?F[0]:F[1];break;case"select":D=A.unformat.select(J,I,H,G);break;case"actions":return"";default:D=A(J).text()}}}return D?D:G===true?A(J).text():A.jgrid.htmlDecode(A(J).html())};A.unformat.select=function(J,I,H,G){H=[];J=A(J).text();if(G===true){return J}I=A.extend({},I.colModel.editoptions);if(I.value){var D=I.value;I=I.multiple===true?true:false;G=[];var E;if(I){G=J.split(",");G=A.map(G,function(K){return A.trim(K)})}if(A.fmatter.isString(D)){for(var F=D.split(";"),C=0,B=0;B<F.length;B++){E=F[B].split(":");if(E.length>2){E[1]=jQuery.map(E,function(L,K){if(K>0){return L}}).join(":")}if(I){if(jQuery.inArray(E[1],G)>-1){H[C]=E[0];C++}}else{if(A.trim(E[1])==A.trim(J)){H[0]=E[0];break}}}}else{if(A.fmatter.isObject(D)||A.isArray(D)){I||(G[0]=J);H=jQuery.map(G,function(L){var K;A.each(D,function(M,N){if(N==L){K=M;return false}});if(typeof K!="undefined"){return K}})}}return H.join(", ")}else{return J||""}};A.unformat.date=function(C,B){var D=A.jgrid.formatter.date||{};A.fmatter.isUndefined(B.formatoptions)||(D=A.extend({},D,B.formatoptions));return A.fmatter.isEmpty(C)?A.fn.fmatter.defaultFormat(C,B):A.fmatter.util.DateFormat(D.newformat,C,D.srcformat,D)}})(jQuery);(function(A){A.jgrid.extend({getColProp:function(C){var D={},B=this[0];if(B.grid){B=B.p.colModel;for(var E=0;E<B.length;E++){if(B[E].name==C){D=B[E];break}}return D}},setColProp:function(B,C){return this.each(function(){if(this.grid){if(C){for(var D=this.p.colModel,E=0;E<D.length;E++){if(D[E].name==B){A.extend(this.p.colModel[E],C);break}}}}})},sortGrid:function(C,D,B){return this.each(function(){var G=this,E=-1;if(G.grid){if(!C){C=G.p.sortname}for(var F=0;F<G.p.colModel.length;F++){if(G.p.colModel[F].index==C||G.p.colModel[F].name==C){E=F;break}}if(E!=-1){F=G.p.colModel[E].sortable;if(typeof F!=="boolean"){F=true}if(typeof D!=="boolean"){D=false}F&&G.sortData("jqgh_"+C,E,D,B)}}})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&A(this.p.pager).remove();var B=this.id;try{A("#gbox_"+B).remove()}catch(C){}}})},GridUnload:function(){return this.each(function(){if(this.grid){var B={id:A(this).attr("id"),cl:A(this).attr("class")};this.p.pager&&A(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom");var C=document.createElement("table");A(C).attr({id:B.id});C.className=B.cl;B=this.id;A(C).removeClass("ui-jqgrid-btable");if(A(this.p.pager).parents("#gbox_"+B).length===1){A(C).insertBefore("#gbox_"+B).show();A(this.p.pager).insertBefore("#gbox_"+B)}else{A(C).insertBefore("#gbox_"+B).show()}A("#gbox_"+B).remove()}})},setGridState:function(B){return this.each(function(){if(this.grid){var C=this;if(B=="hidden"){A(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+C.p.id).slideUp("fast");C.p.pager&&A(C.p.pager).slideUp("fast");C.p.toppager&&A(C.p.toppager).slideUp("fast");if(C.p.toolbar[0]===true){C.p.toolbar[1]=="both"&&A(C.grid.ubDiv).slideUp("fast");A(C.grid.uDiv).slideUp("fast")}C.p.footerrow&&A(".ui-jqgrid-sdiv","#gbox_"+C.p.id).slideUp("fast");A(".ui-jqgrid-titlebar-close span",C.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s");C.p.gridstate="hidden"}else{if(B=="visible"){A(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+C.p.id).slideDown("fast");C.p.pager&&A(C.p.pager).slideDown("fast");C.p.toppager&&A(C.p.toppager).slideDown("fast");if(C.p.toolbar[0]===true){C.p.toolbar[1]=="both"&&A(C.grid.ubDiv).slideDown("fast");A(C.grid.uDiv).slideDown("fast")}C.p.footerrow&&A(".ui-jqgrid-sdiv","#gbox_"+C.p.id).slideDown("fast");A(".ui-jqgrid-titlebar-close span",C.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n");C.p.gridstate="visible"}}}})},updateGridRows:function(E,F,B){var G,C=false,D;this.each(function(){var I=this,H,K,L,J;if(!I.grid){return false}F||(F="id");E&&E.length>0&&A(E).each(function(){L=this;if(K=I.rows.namedItem(L[F])){J=L[F];if(B===true){if(I.p.jsonReader.repeatitems===true){if(I.p.jsonReader.cell){L=L[I.p.jsonReader.cell]}for(var M=0;M<L.length;M++){H=I.formatter(J,L[M],M,L,"edit");D=I.p.colModel[M].title?{title:A.jgrid.stripHtml(H)}:{};I.p.treeGrid===true&&G==I.p.ExpandColumn?A("td:eq("+M+") > span:first",K).html(H).attr(D):A("td:eq("+M+")",K).html(H).attr(D)}return C=true}}A(I.p.colModel).each(function(N){G=B===true?this.jsonmap||this.name:this.name;if(L[G]!==undefined){H=I.formatter(J,L[G],N,L,"edit");D=this.title?{title:A.jgrid.stripHtml(H)}:{};I.p.treeGrid===true&&G==I.p.ExpandColumn?A("td:eq("+N+") > span:first",K).html(H).attr(D):A("td:eq("+N+")",K).html(H).attr(D);C=true}})}})});return C},filterGrid:function(B,C){C=A.extend({gridModel:false,gridNames:false,gridToolbar:false,filterModel:[],formtype:"horizontal",autosearch:true,formclass:"filterform",tableclass:"filtertable",buttonclass:"filterbutton",searchButton:"Search",clearButton:"Clear",enableSearch:false,enableClear:false,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,url:"",marksearched:true},C||{});return this.each(function(){var D=this;this.p=C;if(this.p.filterModel.length===0&&this.p.gridModel===false){alert("No filter is set")}else{if(B){this.p.gridid=B.indexOf("#")!=-1?B:"#"+B;var K=A(this.p.gridid).jqGrid("getGridParam","colModel");if(K){if(this.p.gridModel===true){var G=A(this.p.gridid)[0],H;A.each(K,function(L){var M=[];this.search=this.search===false?false:true;H=this.editrules&&this.editrules.searchhidden===true?true:this.hidden===true?false:true;if(this.search===true&&H===true){M.label=D.p.gridNames===true?G.p.colNames[L]:"";M.name=this.name;M.index=this.index||this.name;M.stype=this.edittype||"text";if(M.stype!="select"){M.stype="text"}M.defval=this.defval||"";M.surl=this.surl||"";M.sopt=this.editoptions||{};M.width=this.width;D.p.filterModel.push(M)}})}else{A.each(D.p.filterModel,function(){for(var L=0;L<K.length;L++){if(this.name==K[L].name){this.index=K[L].index||this.name;break}}if(!this.index){this.index=this.name}})}var F=function(){var P={},R=0,L,O=A(D.p.gridid)[0],M;O.p.searchdata={};A.isFunction(D.p.beforeSearch)&&D.p.beforeSearch();A.each(D.p.filterModel,function(){M=this.index;switch(this.stype){case"select":if(L=A("select[name="+M+"]",D).val()){P[M]=L;D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).addClass("dirty-cell");R++}else{D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).removeClass("dirty-cell");try{delete O.p.postData[this.index]}catch(T){}}break;default:if(L=A("input[name="+M+"]",D).val()){P[M]=L;D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).addClass("dirty-cell");R++}else{D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).removeClass("dirty-cell");try{delete O.p.postData[this.index]}catch(S){}}}});var Q=R>0?true:false;A.extend(O.p.postData,P);var N;if(D.p.url){N=A(O).jqGrid("getGridParam","url");A(O).jqGrid("setGridParam",{url:D.p.url})}A(O).jqGrid("setGridParam",{search:Q}).trigger("reloadGrid",[{page:1}]);N&&A(O).jqGrid("setGridParam",{url:N});A.isFunction(D.p.afterSearch)&&D.p.afterSearch()},E=function(){var P={},R,L=0,O=A(D.p.gridid)[0],M;A.isFunction(D.p.beforeClear)&&D.p.beforeClear();A.each(D.p.filterModel,function(){M=this.index;R=this.defval?this.defval:"";if(!this.stype){this.stype="text"}switch(this.stype){case"select":var U;A("select[name="+M+"] option",D).each(function(V){if(V===0){this.selected=true}if(A(this).text()==R){this.selected=true;U=A(this).val();return false}});if(U){P[M]=U;D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).addClass("dirty-cell");L++}else{D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).removeClass("dirty-cell");try{delete O.p.postData[this.index]}catch(S){}}break;case"text":A("input[name="+M+"]",D).val(R);if(R){P[M]=R;D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).addClass("dirty-cell");L++}else{D.p.marksearched&&A("#jqgh_"+this.name,O.grid.hDiv).removeClass("dirty-cell");try{delete O.p.postData[this.index]}catch(T){}}break}});var Q=L>0?true:false;A.extend(O.p.postData,P);var N;if(D.p.url){N=A(O).jqGrid("getGridParam","url");A(O).jqGrid("setGridParam",{url:D.p.url})}A(O).jqGrid("setGridParam",{search:Q}).trigger("reloadGrid",[{page:1}]);N&&A(O).jqGrid("setGridParam",{url:N});A.isFunction(D.p.afterClear)&&D.p.afterClear()},I,J=A("<form name='SearchForm' style=display:inline;' class='"+this.p.formclass+"'></form>");I=A("<table class='"+this.p.tableclass+"' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>");A(J).append(I);(function(){var O=document.createElement("tr"),P,L,N,M;D.p.formtype=="horizontal"&&A(I).append(O);A.each(D.p.filterModel,function(V){N=document.createElement("td");A(N).append("<label for='"+this.name+"'>"+this.label+"</label>");M=document.createElement("td");var S=this;if(!this.stype){this.stype="text"}switch(this.stype){case"select":if(this.surl){A(M).load(this.surl,function(){S.defval&&A("select",this).val(S.defval);A("select",this).attr({name:S.index||S.name,id:"sg_"+S.name});S.sopt&&A("select",this).attr(S.sopt);D.p.gridToolbar===true&&S.width&&A("select",this).width(S.width);D.p.autosearch===true&&A("select",this).change(function(){F();return false})})}else{if(S.sopt.value){var U=S.sopt.value,R=document.createElement("select");A(R).attr({name:S.index||S.name,id:"sg_"+S.name}).attr(S.sopt);var T;if(typeof U==="string"){V=U.split(";");for(var Q=0;Q<V.length;Q++){U=V[Q].split(":");T=document.createElement("option");T.value=U[0];T.innerHTML=U[1];if(U[1]==S.defval){T.selected="selected"}R.appendChild(T)}}else{if(typeof U==="object"){for(Q in U){if(U.hasOwnProperty(Q)){V++;T=document.createElement("option");T.value=Q;T.innerHTML=U[Q];if(U[Q]==S.defval){T.selected="selected"}R.appendChild(T)}}}}D.p.gridToolbar===true&&S.width&&A(R).width(S.width);A(M).append(R);D.p.autosearch===true&&A(R).change(function(){F();return false})}}break;case"text":R=this.defval?this.defval:"";A(M).append("<input type='text' name='"+(this.index||this.name)+"' id='sg_"+this.name+"' value='"+R+"'/>");S.sopt&&A("input",M).attr(S.sopt);if(D.p.gridToolbar===true&&S.width){A.browser.msie?A("input",M).width(S.width-4):A("input",M).width(S.width-2)}D.p.autosearch===true&&A("input",M).keypress(function(W){if((W.charCode?W.charCode:W.keyCode?W.keyCode:0)==13){F();return false}return this});break}if(D.p.formtype=="horizontal"){D.p.gridToolbar===true&&D.p.gridNames===false?A(O).append(M):A(O).append(N).append(M);A(O).append(M)}else{P=document.createElement("tr");A(P).append(N).append(M);A(I).append(P)}});M=document.createElement("td");if(D.p.enableSearch===true){L="<input type='button' id='sButton' class='"+D.p.buttonclass+"' value='"+D.p.searchButton+"'/>";A(M).append(L);A("input#sButton",M).click(function(){F();return false})}if(D.p.enableClear===true){L="<input type='button' id='cButton' class='"+D.p.buttonclass+"' value='"+D.p.clearButton+"'/>";A(M).append(L);A("input#cButton",M).click(function(){E();return false})}if(D.p.enableClear===true||D.p.enableSearch===true){if(D.p.formtype=="horizontal"){A(O).append(M)}else{P=document.createElement("tr");A(P).append("<td>&#160;</td>").append(M);A(I).append(P)}}})();A(this).append(J);this.triggerSearch=F;this.clearSearch=E}else{alert("Could not get grid colModel")}}else{alert("No target grid is set!")}}})},filterToolbar:function(B){B=A.extend({autosearch:true,searchOnEnter:true,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:false,groupOp:"AND",defaultSearch:"bw"},B||{});return this.each(function(){function F(I,H){var J=A(I);J[0]&&jQuery.each(H,function(){this.data!==undefined?J.bind(this.type,this.data,this.fn):J.bind(this.type,this.fn)})}var C=this,G=function(){var N={},K=0,I,Q,O={};A.each(C.p.colModel,function(){Q=this.index||this.name;var S=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:B.defaultSearch;switch(this.stype){case"select":if(I=A("select[name="+Q+"]",C.grid.hDiv).val()){N[Q]=I;O[Q]=S;K++}else{try{delete C.p.postData[Q]}catch(T){}}break;case"text":if(I=A("input[name="+Q+"]",C.grid.hDiv).val()){N[Q]=I;O[Q]=S;K++}else{try{delete C.p.postData[Q]}catch(R){}}break}});var P=K>0?true:false;if(B.stringResult===true||C.p.datatype=="local"){var J='{"groupOp":"'+B.groupOp+'","rules":[',M=0;A.each(N,function(R,S){if(M>0){J+=","}J+='{"field":"'+R+'",';J+='"op":"'+O[R]+'",';J+='"data":"'+S+'"}';M++});J+="]}";A.extend(C.p.postData,{filters:J})}else{A.extend(C.p.postData,N)}var L;if(C.p.searchurl){L=C.p.url;A(C).jqGrid("setGridParam",{url:C.p.searchurl})}var H=false;if(A.isFunction(B.beforeSearch)){H=B.beforeSearch.call(C)}H||A(C).jqGrid("setGridParam",{search:P}).trigger("reloadGrid",[{page:1}]);L&&A(C).jqGrid("setGridParam",{url:L});A.isFunction(B.afterSearch)&&B.afterSearch()},D=A("<tr class='ui-search-toolbar' role='rowheader'></tr>"),E;A.each(C.p.colModel,function(){var M=this,J,H,P,N;H=A("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+C.p.direction+"'></th>");J=A("<div style='width:100%;position:relative;height:100%;padding-right:0.3em;'></div>");this.hidden===true&&A(H).css("display","none");this.search=this.search===false?false:true;if(typeof this.stype=="undefined"){this.stype="text"}P=A.extend({},this.searchoptions||{});if(this.search){switch(this.stype){case"select":if(N=this.surl||P.dataUrl){A.ajax(A.extend({url:N,dataType:"html",complete:function(Q){if(P.buildSelect!==undefined){(Q=P.buildSelect(Q))&&A(J).append(Q)}else{A(J).append(Q.responseText)}P.defaultValue&&A("select",J).val(P.defaultValue);A("select",J).attr({name:M.index||M.name,id:"gs_"+M.name});P.attr&&A("select",J).attr(P.attr);A("select",J).css({width:"100%"});P.dataInit!==undefined&&P.dataInit(A("select",J)[0]);P.dataEvents!==undefined&&F(A("select",J)[0],P.dataEvents);B.autosearch===true&&A("select",J).change(function(){G();return false});Q=null}},A.jgrid.ajaxOptions,C.p.ajaxSelectOptions||{}))}else{var O;if(M.searchoptions&&M.searchoptions.value){O=M.searchoptions.value}else{if(M.editoptions&&M.editoptions.value){O=M.editoptions.value}}if(O){N=document.createElement("select");N.style.width="100%";A(N).attr({name:M.index||M.name,id:"gs_"+M.name});var I,L;if(typeof O==="string"){O=O.split(";");for(var K=0;K<O.length;K++){I=O[K].split(":");L=document.createElement("option");L.value=I[0];L.innerHTML=I[1];N.appendChild(L)}}else{if(typeof O==="object"){for(I in O){if(O.hasOwnProperty(I)){L=document.createElement("option");L.value=I;L.innerHTML=O[I];N.appendChild(L)}}}}P.defaultValue&&A(N).val(P.defaultValue);P.attr&&A(N).attr(P.attr);P.dataInit!==undefined&&P.dataInit(N);P.dataEvents!==undefined&&F(N,P.dataEvents);A(J).append(N);B.autosearch===true&&A(N).change(function(){G();return false})}}break;case"text":N=P.defaultValue?P.defaultValue:"";A(J).append("<input type='text' style='width:95%;padding:0px;' name='"+(M.index||M.name)+"' id='gs_"+M.name+"' value='"+N+"'/>");P.attr&&A("input",J).attr(P.attr);P.dataInit!==undefined&&P.dataInit(A("input",J)[0]);P.dataEvents!==undefined&&F(A("input",J)[0],P.dataEvents);if(B.autosearch===true){B.searchOnEnter?A("input",J).keypress(function(Q){if((Q.charCode?Q.charCode:Q.keyCode?Q.keyCode:0)==13){G();return false}return this}):A("input",J).keydown(function(Q){switch(Q.which){case 13:return false;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:E&&clearTimeout(E);E=setTimeout(function(){G()},500)}})}break}}A(H).append(J);A(D).append(H)});A("table thead",C.grid.hDiv).append(D);this.triggerToolbar=G;this.clearToolbar=function(N){var K={},I,Q=0,O;N=typeof N!="boolean"?true:N;A.each(C.p.colModel,function(){I=this.searchoptions&&this.searchoptions.defaultValue?this.searchoptions.defaultValue:"";O=this.index||this.name;switch(this.stype){case"select":var S;A("select[name="+O+"] option",C.grid.hDiv).each(function(U){if(U===0){this.selected=true}if(A(this).text()==I){this.selected=true;S=A(this).val();return false}});if(S){K[O]=S;Q++}else{try{delete C.p.postData[O]}catch(T){}}break;case"text":A("input[name="+O+"]",C.grid.hDiv).val(I);if(I){K[O]=I;Q++}else{try{delete C.p.postData[O]}catch(R){}}break}});var P=Q>0?true:false;if(B.stringResult===true||C.p.datatype=="local"){var J='{"groupOp":"'+B.groupOp+'","rules":[',M=0;A.each(K,function(R,S){if(M>0){J+=","}J+='{"field":"'+R+'",';J+='"op":"eq",';J+='"data":"'+S+'"}';M++});J+="]}";A.extend(C.p.postData,{filters:J})}else{A.extend(C.p.postData,K)}var L;if(C.p.searchurl){L=C.p.url;A(C).jqGrid("setGridParam",{url:C.p.searchurl})}var H=false;if(A.isFunction(B.beforeClear)){H=B.beforeClear.call(C)}H||N&&A(C).jqGrid("setGridParam",{search:P}).trigger("reloadGrid",[{page:1}]);L&&A(C).jqGrid("setGridParam",{url:L});A.isFunction(B.afterClear)&&B.afterClear()};this.toggleToolbar=function(){var H=A("tr.ui-search-toolbar",C.grid.hDiv);H.css("display")=="none"?H.show():H.hide()}})}})})(jQuery);var showModal=function(A){A.w.show()},closeModal=function(A){A.w.hide().attr("aria-hidden","true");A.o&&A.o.remove()},hideModal=function(B,A){A=jQuery.extend({jqm:true,gb:""},A||{});if(A.onClose){var D=A.onClose(B);if(typeof D=="boolean"&&!D){return }}if(jQuery.fn.jqm&&A.jqm===true){jQuery(B).attr("aria-hidden","true").jqmHide()}else{if(A.gb!==""){try{jQuery(".jqgrid-overlay:first",A.gb).hide()}catch(C){}}jQuery(B).hide().attr("aria-hidden","true")}};function findPos(B){var A=0,C=0;if(B.offsetParent){do{A+=B.offsetLeft;C+=B.offsetTop}while(B=B.offsetParent)}return[A,C]}var createModal=function(M,L,K,I,H,G){var J=document.createElement("div"),F;F=jQuery(K.gbox).attr("dir")=="rtl"?true:false;J.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog";J.id=M.themodal;var E=document.createElement("div");E.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix";E.id=M.modalhead;jQuery(E).append("<span class='ui-jqdialog-title'>"+K.caption+"</span>");var D=jQuery("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'></a>").hover(function(){D.addClass("ui-state-hover")},function(){D.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'></span>");jQuery(E).append(D);if(F){J.dir="rtl";jQuery(".ui-jqdialog-title",E).css("float","right");jQuery(".ui-jqdialog-titlebar-close",E).css("left","0.3em")}else{J.dir="ltr";jQuery(".ui-jqdialog-title",E).css("float","left");jQuery(".ui-jqdialog-titlebar-close",E).css("right","0.3em")}var C=document.createElement("div");jQuery(C).addClass("ui-jqdialog-content ui-widget-content").attr("id",M.modalcontent);jQuery(C).append(L);J.appendChild(C);jQuery(J).prepend(E);G===true?jQuery("body").append(J):jQuery(J).insertBefore(I);if(typeof K.jqModal==="undefined"){K.jqModal=true}L={};if(jQuery.fn.jqm&&K.jqModal===true){if(K.left===0&&K.top===0){I=[];I=findPos(H);K.left=I[0]+4;K.top=I[1]+4}L.top=K.top+"px";L.left=K.left}else{if(K.left!==0||K.top!==0){L.left=K.left;L.top=K.top+"px"}}jQuery("a.ui-jqdialog-titlebar-close",E).click(function(){var O=jQuery("#"+M.themodal).data("onClose")||K.onClose,N=jQuery("#"+M.themodal).data("gbox")||K.gbox;hideModal("#"+M.themodal,{gb:N,jqm:K.jqModal,onClose:O});return false});if(K.width===0||!K.width){K.width=300}if(K.height===0||!K.height){K.height=200}if(!K.zIndex){K.zIndex=950}H=0;if(F&&L.left&&!G){H=jQuery(K.gbox).width()-(!isNaN(K.width)?parseInt(K.width,10):0)-8;L.left=parseInt(L.left,10)+parseInt(H,10)}if(L.left){L.left+="px"}jQuery(J).css(jQuery.extend({width:isNaN(K.width)?"auto":K.width+"px",height:isNaN(K.height)?"auto":K.height+"px",zIndex:K.zIndex,overflow:"hidden"},L)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":M.modalhead,"aria-hidden":"true"});if(typeof K.drag=="undefined"){K.drag=true}if(typeof K.resize=="undefined"){K.resize=true}if(K.drag){jQuery(E).css("cursor","move");if(jQuery.fn.jqDrag){jQuery(J).jqDrag(E)}else{try{jQuery(J).draggable({handle:jQuery("#"+E.id)})}catch(A){}}}if(K.resize){if(jQuery.fn.jqResize){jQuery(J).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se ui-icon-grip-diagonal-se'></div>");jQuery("#"+M.themodal).jqResize(".jqResize",M.scrollelm?"#"+M.scrollelm:false)}else{try{jQuery(J).resizable({handles:"se, sw",alsoResize:M.scrollelm?"#"+M.scrollelm:false})}catch(B){}}}K.closeOnEscape===true&&jQuery(J).keydown(function(N){if(N.which==27){N=jQuery("#"+M.themodal).data("onClose")||K.onClose;hideModal(this,{gb:K.gbox,jqm:K.jqModal,onClose:N})}})},viewModal=function(B,A){A=jQuery.extend({toTop:true,overlay:10,modal:false,onShow:showModal,onHide:closeModal,gbox:"",jqm:true,jqM:true},A||{});if(jQuery.fn.jqm&&A.jqm===true){A.jqM?jQuery(B).attr("aria-hidden","false").jqm(A).jqmShow():jQuery(B).attr("aria-hidden","false").jqmShow()}else{if(A.gbox!==""){jQuery(".jqgrid-overlay:first",A.gbox).show();jQuery(B).data("gbox",A.gbox)}jQuery(B).show().attr("aria-hidden","false");try{jQuery(":input:visible",B)[0].focus()}catch(C){}}};function info_dialog(I,H,G,E){var D={width:290,height:"auto",dataheight:"auto",drag:true,resize:false,caption:"<b>"+I+"</b>",left:250,top:170,zIndex:1000,jqModal:true,modal:false,closeOnEscape:true,align:"center",buttonalign:"center",buttons:[]};jQuery.extend(D,E||{});var C=D.jqModal;if(jQuery.fn.jqm&&!C){C=false}I="";if(D.buttons.length>0){for(E=0;E<D.buttons.length;E++){if(typeof D.buttons[E].id=="undefined"){D.buttons[E].id="info_button_"+E}I+="<a href='javascript:void(0)' id='"+D.buttons[E].id+"' class='fm-button ui-state-default ui-corner-all'>"+D.buttons[E].text+"</a>"}}E=isNaN(D.dataheight)?D.dataheight:D.dataheight+"px";var F="<div id='info_id'>";F+="<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+E+";"+("text-align:"+D.align+";")+"'>"+H+"</div>";F+=G?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+D.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+G+"</a>"+I+"</div>":I!==""?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+D.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+I+"</div>":"";F+="</div>";try{jQuery("#info_dialog").attr("aria-hidden")=="false"&&hideModal("#info_dialog",{jqm:C});jQuery("#info_dialog").remove()}catch(B){}createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},F,D,"","",true);I&&jQuery.each(D.buttons,function(J){jQuery("#"+this.id,"#info_id").bind("click",function(){D.buttons[J].onClick.call(jQuery("#info_dialog"));return false})});jQuery("#closedialog","#info_id").click(function(J){hideModal("#info_dialog",{jqm:C});return false});jQuery(".fm-button","#info_dialog").hover(function(){jQuery(this).addClass("ui-state-hover")},function(){jQuery(this).removeClass("ui-state-hover")});jQuery.isFunction(D.beforeOpen)&&D.beforeOpen();viewModal("#info_dialog",{onHide:function(J){J.w.hide().remove();J.o&&J.o.remove()},modal:D.modal,jqm:C});jQuery.isFunction(D.afterOpen)&&D.afterOpen();try{jQuery("#info_dialog").focus()}catch(A){}}function createEl(N,M,L,J,I){function H(P,O){if(jQuery.isFunction(O.dataInit)){P.id=O.id;O.dataInit(P);delete O.id;delete O.dataInit}if(O.dataEvents){jQuery.each(O.dataEvents,function(){this.data!==undefined?jQuery(P).bind(this.type,this.data,this.fn):jQuery(P).bind(this.type,this.fn)});delete O.dataEvents}return O}var K="";M.defaultValue&&delete M.defaultValue;switch(N){case"textarea":K=document.createElement("textarea");if(J){M.cols||jQuery(K).css({width:"98%"})}else{if(!M.cols){M.cols=20}}if(!M.rows){M.rows=2}if(L=="&nbsp;"||L=="&#160;"||L.length==1&&L.charCodeAt(0)==160){L=""}K.value=L;M=H(K,M);jQuery(K).attr(M).attr({role:"textbox",multiline:"true"});break;case"checkbox":K=document.createElement("input");K.type="checkbox";if(M.value){var G=M.value.split(":");if(L===G[0]){K.checked=true;K.defaultChecked=true}K.value=G[0];jQuery(K).attr("offval",G[1]);try{delete M.value}catch(F){}}else{G=L.toLowerCase();if(G.search(/(false|0|no|off|undefined)/i)<0&&G!==""){K.checked=true;K.defaultChecked=true;K.value=L}else{K.value="on"}jQuery(K).attr("offval","off")}M=H(K,M);jQuery(K).attr(M).attr("role","checkbox");break;case"select":K=document.createElement("select");K.setAttribute("role","select");var E,D=[];if(M.multiple===true){E=true;K.multiple="multiple";jQuery(K).attr("aria-multiselectable","true")}else{E=false}if(typeof M.dataUrl!="undefined"){jQuery.ajax(jQuery.extend({url:M.dataUrl,type:"GET",dataType:"html",success:function(P,O){try{delete M.dataUrl;delete M.value}catch(Q){}if(typeof M.buildSelect!="undefined"){P=M.buildSelect(P);P=jQuery(P).html();delete M.buildSelect}else{P=jQuery(P).html()}if(P){jQuery(K).append(P);M=H(K,M);if(typeof M.size==="undefined"){M.size=E?3:1}if(E){D=L.split(",");D=jQuery.map(D,function(R){return jQuery.trim(R)})}else{D[0]=jQuery.trim(L)}jQuery(K).attr(M);setTimeout(function(){jQuery("option",K).each(function(R){if(R===0){this.selected=""}jQuery(this).attr("role","option");if(jQuery.inArray(jQuery.trim(jQuery(this).text()),D)>-1||jQuery.inArray(jQuery.trim(jQuery(this).val()),D)>-1){this.selected="selected";if(!E){return false}}})},0)}}},I||{}))}else{if(M.value){if(E){D=L.split(",");D=jQuery.map(D,function(O){return jQuery.trim(O)});if(typeof M.size==="undefined"){M.size=3}}else{M.size=1}if(typeof M.value==="function"){M.value=M.value()}if(typeof M.value==="string"){J=M.value.split(";");for(G=0;G<J.length;G++){I=J[G].split(":");if(I.length>2){I[1]=jQuery.map(I,function(P,O){if(O>0){return P}}).join(":")}N=document.createElement("option");N.setAttribute("role","option");N.value=I[0];N.innerHTML=I[1];if(!E&&(jQuery.trim(I[0])==jQuery.trim(L)||jQuery.trim(I[1])==jQuery.trim(L))){N.selected="selected"}if(E&&(jQuery.inArray(jQuery.trim(I[1]),D)>-1||jQuery.inArray(jQuery.trim(I[0]),D)>-1)){N.selected="selected"}K.appendChild(N)}}else{if(typeof M.value==="object"){J=M.value;for(G in J){if(J.hasOwnProperty(G)){N=document.createElement("option");N.setAttribute("role","option");N.value=G;N.innerHTML=J[G];if(!E&&(jQuery.trim(G)==jQuery.trim(L)||jQuery.trim(J[G])==jQuery.trim(L))){N.selected="selected"}if(E&&(jQuery.inArray(jQuery.trim(J[G]),D)>-1||jQuery.inArray(jQuery.trim(G),D)>-1)){N.selected="selected"}K.appendChild(N)}}}}M=H(K,M);try{delete M.value}catch(A){}jQuery(K).attr(M)}}break;case"text":case"password":case"button":G=N=="button"?"button":"textbox";K=document.createElement("input");K.type=N;K.value=L;M=H(K,M);if(N!="button"){if(J){M.size||jQuery(K).css({width:"98%"})}else{if(!M.size){M.size=20}}}jQuery(K).attr(M).attr("role",G);break;case"image":case"file":K=document.createElement("input");K.type=N;M=H(K,M);jQuery(K).attr(M);break;case"custom":K=document.createElement("span");try{if(jQuery.isFunction(M.custom_element)){var B=M.custom_element.call(this,L,M);if(B){B=jQuery(B).addClass("customelement").attr({id:M.id,name:M.name});jQuery(K).empty().append(B)}else{throw"e2"}}else{throw"e1"}}catch(C){C=="e1"&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_element' "+jQuery.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);C=="e2"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_element' "+jQuery.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,typeof C==="string"?C:C.message,jQuery.jgrid.edit.bClose)}break}return K}function daysInFebruary(A){return A%4===0&&(A%100!==0||A%400===0)?29:28}function DaysArray(B){for(var A=1;A<=B;A++){this[A]=31;if(A==4||A==6||A==9||A==11){this[A]=30}if(A==2){this[A]=29}}return this}function checkDate(I,H){var G={},E;I=I.toLowerCase();E=I.indexOf("/")!=-1?"/":I.indexOf("-")!=-1?"-":I.indexOf(".")!=-1?".":"/";I=I.split(E);H=H.split(E);if(H.length!=3){return false}E=-1;for(var D,C=-1,F=-1,B=0;B<I.length;B++){D=isNaN(H[B])?0:parseInt(H[B],10);G[I[B]]=D;D=I[B];if(D.indexOf("y")!=-1){E=B}if(D.indexOf("m")!=-1){F=B}if(D.indexOf("d")!=-1){C=B}}D=I[E]=="y"||I[E]=="yyyy"?4:I[E]=="yy"?2:-1;B=DaysArray(12);var A;if(E===-1){return false}else{A=G[I[E]].toString();if(D==2&&A.length==1){D=1}if(A.length!=D||G[I[E]]===0&&H[E]!="00"){return false}}if(F===-1){return false}else{A=G[I[F]].toString();if(A.length<1||G[I[F]]<1||G[I[F]]>12){return false}}if(C===-1){return false}else{A=G[I[C]].toString();if(A.length<1||G[I[C]]<1||G[I[C]]>31||G[I[F]]==2&&G[I[C]]>daysInFebruary(G[I[E]])||G[I[C]]>B[G[I[F]]]){return false}}return true}function isEmpty(A){return A.match(/^\s+$/)||A===""?true:false}function checkTime(B){var A=/^(\d{1,2}):(\d{2})([ap]m)?$/;if(!isEmpty(B)){if(B=B.match(A)){if(B[3]){if(B[1]<1||B[1]>12){return false}}else{if(B[1]>23){return false}}if(B[2]>59){return false}}else{return false}}return true}function checkValues(B,A,H){var F,E,D,G;if(typeof A=="string"){E=0;for(G=H.p.colModel.length;E<G;E++){if(H.p.colModel[E].name==A){F=H.p.colModel[E].editrules;A=E;try{D=H.p.colModel[E].formoptions.label}catch(C){}break}}}else{if(A>=0){F=H.p.colModel[A].editrules}}if(F){D||(D=H.p.colNames[A]);if(F.required===true){if(isEmpty(B)){return[false,D+": "+jQuery.jgrid.edit.msg.required,""]}}E=F.required===false?false:true;if(F.number===true){if(!(E===false&&isEmpty(B))){if(isNaN(B)){return[false,D+": "+jQuery.jgrid.edit.msg.number,""]}}}if(typeof F.minValue!="undefined"&&!isNaN(F.minValue)){if(parseFloat(B)<parseFloat(F.minValue)){return[false,D+": "+jQuery.jgrid.edit.msg.minValue+" "+F.minValue,""]}}if(typeof F.maxValue!="undefined"&&!isNaN(F.maxValue)){if(parseFloat(B)>parseFloat(F.maxValue)){return[false,D+": "+jQuery.jgrid.edit.msg.maxValue+" "+F.maxValue,""]}}if(F.email===true){if(!(E===false&&isEmpty(B))){G=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i;if(!G.test(B)){return[false,D+": "+jQuery.jgrid.edit.msg.email,""]}}}if(F.integer===true){if(!(E===false&&isEmpty(B))){if(isNaN(B)){return[false,D+": "+jQuery.jgrid.edit.msg.integer,""]}if(B%1!==0||B.indexOf(".")!=-1){return[false,D+": "+jQuery.jgrid.edit.msg.integer,""]}}}if(F.date===true){if(!(E===false&&isEmpty(B))){A=H.p.colModel[A].formatoptions&&H.p.colModel[A].formatoptions.newformat?H.p.colModel[A].formatoptions.newformat:H.p.colModel[A].datefmt||"Y-m-d";if(!checkDate(A,B)){return[false,D+": "+jQuery.jgrid.edit.msg.date+" - "+A,""]}}}if(F.time===true){if(!(E===false&&isEmpty(B))){if(!checkTime(B)){return[false,D+": "+jQuery.jgrid.edit.msg.date+" - hh:mm (am/pm)",""]}}}if(F.url===true){if(!(E===false&&isEmpty(B))){G=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;if(!G.test(B)){return[false,D+": "+jQuery.jgrid.edit.msg.url,""]}}}if(F.custom===true){if(!(E===false&&isEmpty(B))){if(jQuery.isFunction(F.custom_func)){B=F.custom_func.call(H,B,D);return jQuery.isArray(B)?B:[false,jQuery.jgrid.edit.msg.customarray,""]}else{return[false,jQuery.jgrid.edit.msg.customfcheck,""]}}}}return[true,"",""]}(function(A){var B=null;A.jgrid.extend({searchGrid:function(C){C=A.extend({recreateFilter:false,drag:true,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:true,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,closeAfterSearch:false,closeAfterReset:false,closeOnEscape:false,multipleSearch:false,cloneSearchRowOnAdd:true,sopt:null,stringResult:undefined,onClose:null,useDataProxy:false,overlay:true},A.jgrid.search,C||{});return this.each(function(){function P(Q,X){X=Q.p.postData[X.sFilter];if(typeof X=="string"){X=A.jgrid.parse(X)}if(X){X.groupOp&&Q.SearchFilter.setGroupOp(X.groupOp);if(X.rules){var E,W=0,V=X.rules.length;for(E=false;W<V;W++){E=X.rules[W];if(E.field!==undefined&&E.op!==undefined&&E.data!==undefined){(E=Q.SearchFilter.setFilter({sfref:Q.SearchFilter.$.find(".sf:last"),filter:A.extend({},E)}))&&Q.SearchFilter.add()}}}}}function G(E){if(C.onClose){var Q=C.onClose(E);if(typeof Q=="boolean"&&!Q){return }}E.hide();C.overlay===true&&A(".jqgrid-overlay:first","#gbox_"+R.p.id).hide()}function D(){var Q=A(".ui-searchFilter").length;if(Q>1){var V=A("#"+L).css("zIndex");A("#"+L).css({zIndex:parseInt(V,10)+Q})}A("#"+L).show();C.overlay===true&&A(".jqgrid-overlay:first","#gbox_"+R.p.id).show();try{A(":input:visible","#"+L)[0].focus()}catch(E){}}function S(Q){var W=Q!==undefined,E=A("#"+R.p.id),V={};if(C.multipleSearch===false){V[C.sField]=Q.rules[0].field;V[C.sValue]=Q.rules[0].data;V[C.sOper]=Q.rules[0].op}else{V[C.sFilter]=Q}E[0].p.search=W;A.extend(E[0].p.postData,V);E.trigger("reloadGrid",[{page:1}]);C.closeAfterSearch&&G(A("#"+L))}function F(Q){Q=Q&&Q.hasOwnProperty("reload")?Q.reload:true;var V=A("#"+R.p.id),E={};V[0].p.search=false;if(C.multipleSearch===false){E[C.sField]=E[C.sValue]=E[C.sOper]=""}else{E[C.sFilter]=""}A.extend(V[0].p.postData,E);Q&&V.trigger("reloadGrid",[{page:1}]);C.closeAfterReset&&G(A("#"+L))}var R=this;if(R.grid){var L="fbox_"+R.p.id;if(A.fn.searchFilter){C.recreateFilter===true&&A("#"+L).remove();if(A("#"+L).html()!=null){A.isFunction(C.beforeShowSearch)&&C.beforeShowSearch(A("#"+L));D();A.isFunction(C.afterShowSearch)&&C.afterShowSearch(A("#"+L))}else{var H=[],U=A("#"+R.p.id).jqGrid("getGridParam","colNames"),O=A("#"+R.p.id).jqGrid("getGridParam","colModel"),J=["eq","ne","lt","le","gt","ge","bw","bn","in","ni","ew","en","cn","nc"],N,K,I,T=[];if(C.sopt!==null){for(N=I=0;N<C.sopt.length;N++){if((K=A.inArray(C.sopt[N],J))!=-1){T[I]={op:C.sopt[N],text:C.odata[K]};I++}}}else{for(N=0;N<J.length;N++){T[N]={op:J[N],text:C.odata[N]}}}A.each(O,function(Q,X){var E=typeof X.search==="undefined"?true:X.search,W=X.hidden===true;Q=A.extend({},{text:U[Q],itemval:X.index||X.name},this.searchoptions);X=Q.searchhidden===true;if(typeof Q.sopt!=="undefined"){I=0;Q.ops=[];if(Q.sopt.length>0){for(N=0;N<Q.sopt.length;N++){if((K=A.inArray(Q.sopt[N],J))!=-1){Q.ops[I]={op:Q.sopt[N],text:C.odata[K]};I++}}}}if(typeof this.stype==="undefined"){this.stype="text"}if(this.stype=="select"){if(Q.dataUrl===undefined){var V;if(Q.value){V=Q.value}else{if(this.editoptions){V=this.editoptions.value}}if(V){Q.dataValues=[];if(typeof V==="string"){V=V.split(";");var Y;for(N=0;N<V.length;N++){Y=V[N].split(":");Q.dataValues[N]={value:Y[0],text:Y[1]}}}else{if(typeof V==="object"){N=0;for(Y in V){if(V.hasOwnProperty(Y)){Q.dataValues[N]={value:Y,text:V[Y]};N++}}}}}}}if(X&&E||E&&!W){H.push(Q)}});if(H.length>0){A("<div id='"+L+"' role='dialog' tabindex='-1'></div>").insertBefore("#gview_"+R.p.id);if(C.stringResult===undefined){C.stringResult=C.multipleSearch}R.SearchFilter=A("#"+L).searchFilter(H,{groupOps:C.groupOps,operators:T,onClose:G,resetText:C.Reset,searchText:C.Find,windowTitle:C.caption,rulesText:C.rulesText,matchText:C.matchText,onSearch:S,onReset:F,stringResult:C.stringResult,ajaxSelectOptions:A.extend({},A.jgrid.ajaxOptions,R.p.ajaxSelectOptions||{}),clone:C.cloneSearchRowOnAdd});A(".ui-widget-overlay","#"+L).remove();R.p.direction=="rtl"&&A(".ui-closer","#"+L).css("float","left");if(C.drag===true){A("#"+L+" table thead tr:first td:first").css("cursor","move");if(jQuery.fn.jqDrag){A("#"+L).jqDrag(A("#"+L+" table thead tr:first td:first"))}else{try{A("#"+L).draggable({handle:A("#"+L+" table thead tr:first td:first")})}catch(M){}}}if(C.multipleSearch===false){A(".ui-del, .ui-add, .ui-del, .ui-add-last, .matchText, .rulesText","#"+L).hide();A("select[name='groupOp']","#"+L).hide()}C.multipleSearch===true&&C.loadDefaults===true&&P(R,C);A.isFunction(C.onInitializeSearch)&&C.onInitializeSearch(A("#"+L));A.isFunction(C.beforeShowSearch)&&C.beforeShowSearch(A("#"+L));D();A.isFunction(C.afterShowSearch)&&C.afterShowSearch(A("#"+L));C.closeOnEscape===true&&A("#"+L).keydown(function(E){E.which==27&&G(A("#"+L))})}}}}})},editGridRow:function(D,C){B=C=A.extend({top:0,left:0,width:300,height:"auto",dataheight:"auto",modal:false,drag:true,resize:true,url:null,mtype:"POST",clearAfterAdd:true,closeAfterEdit:false,reloadAfterSubmit:true,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:false,jqModal:true,closeOnEscape:false,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[false,13],navkeys:[false,38,40],checkOnSubmit:false,checkOnUpdate:false,_savedData:{},processing:false,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:true},A.jgrid.edit,C||{});return this.each(function(){function AC(){A(".FormElement","#"+AH).each(function(){var K=A(".customelement",this);if(K.length){var F=A(K[0]).attr("name");A.each(AK.p.colModel,function(){if(this.name==F&&this.editoptions&&A.isFunction(this.editoptions.custom_value)){try{AL[F]=this.editoptions.custom_value(A("#"+F,"#"+AH),"get");if(AL[F]===undefined){throw"e1"}}catch(M){M=="e1"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+A.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,M.message,jQuery.jgrid.edit.bClose)}return true}})}else{switch(A(this).get(0).type){case"checkbox":if(A(this).attr("checked")){AL[this.name]=A(this).val()}else{K=A(this).attr("offval");AL[this.name]=K}break;case"select-one":AL[this.name]=A("option:selected",this).val();f[this.name]=A("option:selected",this).text();break;case"select-multiple":AL[this.name]=A(this).val();AL[this.name]=AL[this.name]?AL[this.name].join(","):"";var E=[];A("option:selected",this).each(function(N,M){E[N]=A(M).text()});f[this.name]=E.join(",");break;case"password":case"text":case"textarea":case"button":AL[this.name]=A(this).val();break}if(AK.p.autoencode){AL[this.name]=A.jgrid.htmlEncode(AL[this.name])}}});return true}function y(O,E,h,F){for(var Z,Q,Y,V=0,U,P,g,N=[],c=false,K="",M=1;M<=F;M++){K+="<td class='CaptionTD ui-widget-content'>&#160;</td><td class='DataTD ui-widget-content' style='white-space:pre'>&#160;</td>"}if(O!="_empty"){c=A(E).jqGrid("getInd",O)}A(E.p.colModel).each(function(l){Z=this.name;P=(Q=this.editrules&&this.editrules.edithidden===true?false:this.hidden===true?true:false)?"style='display:none'":"";if(Z!=="cb"&&Z!=="subgrid"&&this.editable===true&&Z!=="rn"){if(c===false){U=""}else{if(Z==E.p.ExpandColumn&&E.p.treeGrid===true){U=A("td:eq("+l+")",E.rows[c]).text()}else{try{U=A.unformat(A("td:eq("+l+")",E.rows[c]),{rowId:O,colModel:this},l)}catch(k){U=A("td:eq("+l+")",E.rows[c]).html()}}}var j=A.extend({},this.editoptions||{},{id:Z,name:Z}),o=A.extend({},{elmprefix:"",elmsuffix:"",rowabove:false,rowcontent:""},this.formoptions||{}),n=parseInt(o.rowpos,10)||V+1,m=parseInt((parseInt(o.colpos,10)||1)*2,10);if(O=="_empty"&&j.defaultValue){U=A.isFunction(j.defaultValue)?j.defaultValue():j.defaultValue}if(!this.edittype){this.edittype="text"}if(AK.p.autoencode){U=A.jgrid.htmlDecode(U)}g=createEl(this.edittype,j,U,false,A.extend({},A.jgrid.ajaxOptions,E.p.ajaxSelectOptions||{}));if(U===""&&this.edittype=="checkbox"){U=A(g).attr("offval")}if(U===""&&this.edittype=="select"){U=A("option:eq(0)",g).text()}if(B.checkOnSubmit||B.checkOnUpdate){B._savedData[Z]=U}A(g).addClass("FormElement");Y=A(h).find("tr[rowpos="+n+"]");if(o.rowabove){j=A("<tr><td class='contentinfo' colspan='"+F*2+"'>"+o.rowcontent+"</td></tr>");A(h).append(j);j[0].rp=n}if(Y.length===0){Y=A("<tr "+P+" rowpos='"+n+"'></tr>").addClass("FormData").attr("id","tr_"+Z);A(Y).append(K);A(h).append(Y);Y[0].rp=n}A("td:eq("+(m-2)+")",Y[0]).html(typeof o.label==="undefined"?E.p.colNames[l]:o.label);A("td:eq("+(m-1)+")",Y[0]).append(o.elmprefix).append(g).append(o.elmsuffix);N[V]=l;V++}});if(V>0){M=A("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(F*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+E.p.id+"_id' value='"+O+"'/></td></tr>");M[0].rp=V+999;A(h).append(M);if(B.checkOnSubmit||B.checkOnUpdate){B._savedData[E.p.id+"_id"]=O}}return N}function e(M,E,Z){var F,V=0,O,U,Q,P,N;if(B.checkOnSubmit||B.checkOnUpdate){B._savedData={};B._savedData[E.p.id+"_id"]=M}var Y=E.p.colModel;if(M=="_empty"){A(Y).each(function(){F=this.name;Q=A.extend({},this.editoptions||{});U=A("#"+A.jgrid.jqID(F),"#"+Z);if(U[0]!=null){P="";if(Q.defaultValue){P=A.isFunction(Q.defaultValue)?Q.defaultValue():Q.defaultValue;if(U[0].type=="checkbox"){N=P.toLowerCase();if(N.search(/(false|0|no|off|undefined)/i)<0&&N!==""){U[0].checked=true;U[0].defaultChecked=true;U[0].value=P}else{U.attr({checked:"",defaultChecked:""})}}else{U.val(P)}}else{if(U[0].type=="checkbox"){U[0].checked=false;U[0].defaultChecked=false;P=A(U).attr("offval")}else{if(U[0].type&&U[0].type.substr(0,6)=="select"){U[0].selectedIndex=0}else{U.val(P)}}}if(B.checkOnSubmit===true||B.checkOnUpdate){B._savedData[F]=P}}});A("#id_g","#"+Z).val(M)}else{var K=A(E).jqGrid("getInd",M,true);if(K){A("td",K).each(function(j){F=Y[j].name;if(F!=="cb"&&F!=="subgrid"&&F!=="rn"&&Y[j].editable===true){if(F==E.p.ExpandColumn&&E.p.treeGrid===true){O=A(this).text()}else{try{O=A.unformat(A(this),{rowId:M,colModel:Y[j]},j)}catch(c){O=A(this).html()}}if(AK.p.autoencode){O=A.jgrid.htmlDecode(O)}if(B.checkOnSubmit===true||B.checkOnUpdate){B._savedData[F]=O}F=A.jgrid.jqID(F);switch(Y[j].edittype){case"password":case"text":case"button":case"image":A("#"+F,"#"+Z).val(O);break;case"textarea":if(O=="&nbsp;"||O=="&#160;"||O.length==1&&O.charCodeAt(0)==160){O=""}A("#"+F,"#"+Z).val(O);break;case"select":var h=O.split(",");h=A.map(h,function(k){return A.trim(k)});A("#"+F+" option","#"+Z).each(function(){this.selected=!Y[j].editoptions.multiple&&(h[0]==A.trim(A(this).text())||h[0]==A.trim(A(this).val()))?true:Y[j].editoptions.multiple?A.inArray(A.trim(A(this).text()),h)>-1||A.inArray(A.trim(A(this).val()),h)>-1?true:false:false});break;case"checkbox":O+="";if(Y[j].editoptions&&Y[j].editoptions.value){if(Y[j].editoptions.value.split(":")[0]==O){A("#"+F,"#"+Z).attr("checked",true);A("#"+F,"#"+Z).attr("defaultChecked",true)}else{A("#"+F,"#"+Z).attr("checked",false);A("#"+F,"#"+Z).attr("defaultChecked","")}}else{O=O.toLowerCase();if(O.search(/(false|0|no|off|undefined)/i)<0&&O!==""){A("#"+F,"#"+Z).attr("checked",true);A("#"+F,"#"+Z).attr("defaultChecked",true)}else{A("#"+F,"#"+Z).attr("checked",false);A("#"+F,"#"+Z).attr("defaultChecked","")}}break;case"custom":try{if(Y[j].editoptions&&A.isFunction(Y[j].editoptions.custom_value)){Y[j].editoptions.custom_value(A("#"+F,"#"+Z),"set",O)}else{throw"e1"}}catch(g){g=="e1"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+A.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,g.message,jQuery.jgrid.edit.bClose)}break}V++}});V>0&&A("#id_g","#"+AH).val(M)}}}function z(){var O=[true,"",""],M={},K=AK.p.prmNames,N,F;if(A.isFunction(B.beforeCheckValues)){var P=B.beforeCheckValues(AL,A("#"+AJ),AL[AK.p.id+"_id"]=="_empty"?K.addoper:K.editoper);if(P&&typeof P==="object"){AL=P}}for(var E in AL){if(AL.hasOwnProperty(E)){O=checkValues(AL[E],E,AK);if(O[0]===false){break}}}if(O[0]){if(A.isFunction(B.onclickSubmit)){M=B.onclickSubmit(B,AL)||{}}if(A.isFunction(B.beforeSubmit)){O=B.beforeSubmit(AL,A("#"+AJ))}}if(O[0]&&!B.processing){B.processing=true;A("#sData","#"+AH+"_2").addClass("ui-state-active");F=K.oper;N=K.id;AL[F]=A.trim(AL[AK.p.id+"_id"])=="_empty"?K.addoper:K.editoper;if(AL[F]!=K.addoper){AL[N]=AL[AK.p.id+"_id"]}else{if(AL[N]===undefined){AL[N]=AL[AK.p.id+"_id"]}}delete AL[AK.p.id+"_id"];AL=A.extend(AL,B.editData,M);M=A.extend({url:B.url?B.url:A(AK).jqGrid("getGridParam","editurl"),type:B.mtype,data:A.isFunction(B.serializeEditData)?B.serializeEditData(AL):AL,complete:function(U,Y){if(Y!="success"){O[0]=false;O[1]=A.isFunction(B.errorTextFormat)?B.errorTextFormat(U):Y+" Status: '"+U.statusText+"'. Error code: "+U.status}else{if(A.isFunction(B.afterSubmit)){O=B.afterSubmit(U,AL)}}if(O[0]===false){A("#FormError>td","#"+AH).html(O[1]);A("#FormError","#"+AH).show()}else{A.each(AK.p.colModel,function(){if(f[this.name]&&this.formatter&&this.formatter=="select"){try{delete f[this.name]}catch(Z){}}});AL=A.extend(AL,f);AK.p.autoencode&&A.each(AL,function(c,Z){AL[c]=A.jgrid.htmlDecode(Z)});B.reloadAfterSubmit=B.reloadAfterSubmit&&AK.p.datatype!="local";if(AL[F]==K.addoper){O[2]||(O[2]=parseInt(AK.p.records,10)+1+"");AL[N]=O[2];if(B.closeAfterAdd){if(B.reloadAfterSubmit){A(AK).trigger("reloadGrid")}else{A(AK).jqGrid("addRowData",O[2],AL,C.addedrow);A(AK).jqGrid("setSelection",O[2])}hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose})}else{if(B.clearAfterAdd){B.reloadAfterSubmit?A(AK).trigger("reloadGrid"):A(AK).jqGrid("addRowData",O[2],AL,C.addedrow);e("_empty",AK,AJ)}else{B.reloadAfterSubmit?A(AK).trigger("reloadGrid"):A(AK).jqGrid("addRowData",O[2],AL,C.addedrow)}}}else{if(B.reloadAfterSubmit){A(AK).trigger("reloadGrid");B.closeAfterEdit||setTimeout(function(){A(AK).jqGrid("setSelection",AL[N])},1000)}else{AK.p.treeGrid===true?A(AK).jqGrid("setTreeRow",AL[N],AL):A(AK).jqGrid("setRowData",AL[N],AL)}B.closeAfterEdit&&hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose})}if(A.isFunction(B.afterComplete)){AB=U;setTimeout(function(){B.afterComplete(AB,AL,A("#"+AJ));AB=null},500)}}B.processing=false;if(B.checkOnSubmit||B.checkOnUpdate){A("#"+AJ).data("disabled",false);if(B._savedData[AK.p.id+"_id"]!="_empty"){for(var Q in B._savedData){if(AL[Q]){B._savedData[Q]=AL[Q]}}}}A("#sData","#"+AH+"_2").removeClass("ui-state-active");try{A(":input:visible","#"+AJ)[0].focus()}catch(V){}},error:function(U,V,Q){A("#FormError>td","#"+AH).html(V+" : "+Q);A("#FormError","#"+AH).show();B.processing=false;A("#"+AJ).data("disabled",false);A("#sData","#"+AH+"_2").removeClass("ui-state-active")}},A.jgrid.ajaxOptions,B.ajaxEditOptions);if(!M.url&&!B.useDataProxy){if(A.isFunction(AK.p.dataProxy)){B.useDataProxy=true}else{O[0]=false;O[1]+=" "+A.jgrid.errors.nourl}}if(O[0]){B.useDataProxy?AK.p.dataProxy.call(AK,M,"set_"+AK.p.id):A.ajax(M)}}if(O[0]===false){A("#FormError>td","#"+AH).html(O[1]);A("#FormError","#"+AH).show()}}function d(M,F){var E=false,K;for(K in M){if(M[K]!=F[K]){E=true;break}}return E}function AI(){var E=true;A("#FormError","#"+AH).hide();if(B.checkOnUpdate){AL={};f={};AC();a=A.extend({},AL,f);if(J=d(a,B._savedData)){A("#"+AJ).data("disabled",true);A(".confirm","#"+AF.themodal).show();E=false}}return E}function AD(F,E){F===0?A("#pData","#"+AH+"_2").addClass("ui-state-disabled"):A("#pData","#"+AH+"_2").removeClass("ui-state-disabled");F==E?A("#nData","#"+AH+"_2").addClass("ui-state-disabled"):A("#nData","#"+AH+"_2").removeClass("ui-state-disabled")}function r(){var F=A(AK).jqGrid("getDataIDs"),E=A("#id_g","#"+AH).val();return[A.inArray(E,F),F]}var AK=this;if(AK.grid&&D){var AG=AK.p.id,AJ="FrmGrid_"+AG,AH="TblGrid_"+AG,AF={themodal:"editmod"+AG,modalhead:"edithd"+AG,modalcontent:"editcnt"+AG,scrollelm:AJ},x=A.isFunction(B.beforeShowForm)?B.beforeShowForm:false,R=A.isFunction(B.afterShowForm)?B.afterShowForm:false,AE=A.isFunction(B.beforeInitData)?B.beforeInitData:false,AA=A.isFunction(B.onInitializeForm)?B.onInitializeForm:false,AB=null,p=1,b=0,AL,f,a,J;if(D=="new"){D="_empty";C.caption=C.addCaption}else{C.caption=C.editCaption}C.recreateForm===true&&A("#"+AF.themodal).html()!=null&&A("#"+AF.themodal).remove();var W=true;if(C.checkOnUpdate&&C.jqModal&&!C.modal){W=false}if(A("#"+AF.themodal).html()!=null){A(".ui-jqdialog-title","#"+AF.modalhead).html(C.caption);A("#FormError","#"+AH).hide();if(B.topinfo){A(".topinfo","#"+AH+"_2").html(B.topinfo);A(".tinfo","#"+AH+"_2").show()}else{A(".tinfo","#"+AH+"_2").hide()}if(B.bottominfo){A(".bottominfo","#"+AH+"_2").html(B.bottominfo);A(".binfo","#"+AH+"_2").show()}else{A(".binfo","#"+AH+"_2").hide()}AE&&AE(A("#"+AJ));e(D,AK,AJ);D=="_empty"||!B.viewPagerButtons?A("#pData, #nData","#"+AH+"_2").hide():A("#pData, #nData","#"+AH+"_2").show();if(B.processing===true){B.processing=false;A("#sData","#"+AH+"_2").removeClass("ui-state-active")}if(A("#"+AJ).data("disabled")===true){A(".confirm","#"+AF.themodal).hide();A("#"+AJ).data("disabled",false)}x&&x(A("#"+AJ));A("#"+AF.themodal).data("onClose",B.onClose);viewModal("#"+AF.themodal,{gbox:"#gbox_"+AG,jqm:C.jqModal,jqM:false,closeoverlay:W,modal:C.modal});W||A(".jqmOverlay").click(function(){if(!AI()){return false}hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose});return false});R&&R(A("#"+AJ))}else{A(AK.p.colModel).each(function(){var E=this.formoptions;p=Math.max(p,E?E.colpos||0:0);b=Math.max(b,E?E.rowpos||0:0)});var T=isNaN(C.dataheight)?C.dataheight:C.dataheight+"px";T=A("<form name='FormPost' id='"+AJ+"' class='FormGrid' onSubmit='return false;' style='width:100%;overflow:auto;position:relative;height:"+T+";'></form>").data("disabled",false);var X=A("<table id='"+AH+"' class='EditTable' cellspacing='0' cellpading='0' border='0'><tbody></tbody></table>");A(T).append(X);var t=A("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+p*2+"'></td></tr>");t[0].rp=0;A(X).append(t);t=A("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+p*2+"'>"+B.topinfo+"</td></tr>");t[0].rp=0;A(X).append(t);AE&&AE(A("#"+AJ));t=(AE=AK.p.direction=="rtl"?true:false)?"nData":"pData";var I=AE?"pData":"nData";y(D,AK,X,p);t="<a href='javascript:void(0)' id='"+t+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></div>";I="<a href='javascript:void(0)' id='"+I+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></div>";var G="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+C.bSubmit+"</a>",L="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+C.bCancel+"</a>";t="<table border='0' class='EditTable' id='"+AH+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content'>"+(AE?I+t:t+I)+"</td><td class='EditButton ui-widget-content'>"+G+L+"</td></tr>";t+="<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+B.bottominfo+"</td></tr>";t+="</tbody></table>";if(b>0){var H=[];A.each(A(X)[0].rows,function(F,E){H[F]=E});H.sort(function(F,E){if(F.rp>E.rp){return 1}if(F.rp<E.rp){return -1}return 0});A.each(H,function(F,E){A("tbody",X).append(E)})}C.gbox="#gbox_"+AG;var S=false;if(C.closeOnEscape===true){C.closeOnEscape=false;S=true}T=A("<span></span>").append(T).append(t);createModal(AF,T,C,"#gview_"+AK.p.id,A("#gbox_"+AK.p.id)[0]);if(AE){A("#pData, #nData","#"+AH+"_2").css("float","right");A(".EditButton","#"+AH+"_2").css("text-align","left")}B.topinfo&&A(".tinfo","#"+AH+"_2").show();B.bottominfo&&A(".binfo","#"+AH+"_2").show();t=T=null;A("#"+AF.themodal).keydown(function(F){var E=F.target;if(A("#"+AJ).data("disabled")===true){return false}if(B.savekey[0]===true&&F.which==B.savekey[1]){if(E.tagName!="TEXTAREA"){A("#sData","#"+AH+"_2").trigger("click");return false}}if(F.which===27){if(!AI()){return false}S&&hideModal(this,{gb:C.gbox,jqm:C.jqModal,onClose:B.onClose});return false}if(B.navkeys[0]===true){if(A("#id_g","#"+AH).val()=="_empty"){return true}if(F.which==B.navkeys[1]){A("#pData","#"+AH+"_2").trigger("click");return false}if(F.which==B.navkeys[2]){A("#nData","#"+AH+"_2").trigger("click");return false}}});if(C.checkOnUpdate){A("a.ui-jqdialog-titlebar-close span","#"+AF.themodal).removeClass("jqmClose");A("a.ui-jqdialog-titlebar-close","#"+AF.themodal).unbind("click").click(function(){if(!AI()){return false}hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose});return false})}C.saveicon=A.extend([true,"left","ui-icon-disk"],C.saveicon);C.closeicon=A.extend([true,"left","ui-icon-close"],C.closeicon);if(C.saveicon[0]===true){A("#sData","#"+AH+"_2").addClass(C.saveicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+C.saveicon[2]+"'></span>")}if(C.closeicon[0]===true){A("#cData","#"+AH+"_2").addClass(C.closeicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+C.closeicon[2]+"'></span>")}if(B.checkOnSubmit||B.checkOnUpdate){G="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+C.bYes+"</a>";I="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+C.bNo+"</a>";L="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+C.bExit+"</a>";T=C.zIndex||999;T++;A("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+T+";display:none;'>&#160;"+(A.browser.msie&&A.browser.version==6?'<iframe style="display:block;position:absolute;z-index:-1;filter:Alpha(Opacity=\'0\');" src="javascript:false;"></iframe>':"")+"</div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(T+1)+"'>"+C.saveData+"<br/><br/>"+G+I+L+"</div>").insertAfter("#"+AJ);A("#sNew","#"+AF.themodal).click(function(){z();A("#"+AJ).data("disabled",false);A(".confirm","#"+AF.themodal).hide();return false});A("#nNew","#"+AF.themodal).click(function(){A(".confirm","#"+AF.themodal).hide();A("#"+AJ).data("disabled",false);setTimeout(function(){A(":input","#"+AJ)[0].focus()},0);return false});A("#cNew","#"+AF.themodal).click(function(){A(".confirm","#"+AF.themodal).hide();A("#"+AJ).data("disabled",false);hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose});return false})}AA&&AA(A("#"+AJ));D=="_empty"||!B.viewPagerButtons?A("#pData,#nData","#"+AH+"_2").hide():A("#pData,#nData","#"+AH+"_2").show();x&&x(A("#"+AJ));A("#"+AF.themodal).data("onClose",B.onClose);viewModal("#"+AF.themodal,{gbox:"#gbox_"+AG,jqm:C.jqModal,closeoverlay:W,modal:C.modal});W||A(".jqmOverlay").click(function(){if(!AI()){return false}hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose});return false});R&&R(A("#"+AJ));A(".fm-button","#"+AF.themodal).hover(function(){A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});A("#sData","#"+AH+"_2").click(function(){AL={};f={};A("#FormError","#"+AH).hide();AC();if(AL[AK.p.id+"_id"]=="_empty"){z()}else{if(C.checkOnSubmit===true){a=A.extend({},AL,f);if(J=d(a,B._savedData)){A("#"+AJ).data("disabled",true);A(".confirm","#"+AF.themodal).show()}else{z()}}else{z()}}return false});A("#cData","#"+AH+"_2").click(function(){if(!AI()){return false}hideModal("#"+AF.themodal,{gb:"#gbox_"+AG,jqm:C.jqModal,onClose:B.onClose});return false});A("#nData","#"+AH+"_2").click(function(){if(!AI()){return false}A("#FormError","#"+AH).hide();var E=r();E[0]=parseInt(E[0],10);if(E[0]!=-1&&E[1][E[0]+1]){A.isFunction(C.onclickPgButtons)&&C.onclickPgButtons("next",A("#"+AJ),E[1][E[0]]);e(E[1][E[0]+1],AK,AJ);A(AK).jqGrid("setSelection",E[1][E[0]+1]);A.isFunction(C.afterclickPgButtons)&&C.afterclickPgButtons("next",A("#"+AJ),E[1][E[0]+1]);AD(E[0]+1,E[1].length-1)}return false});A("#pData","#"+AH+"_2").click(function(){if(!AI()){return false}A("#FormError","#"+AH).hide();var E=r();if(E[0]!=-1&&E[1][E[0]-1]){A.isFunction(C.onclickPgButtons)&&C.onclickPgButtons("prev",A("#"+AJ),E[1][E[0]]);e(E[1][E[0]-1],AK,AJ);A(AK).jqGrid("setSelection",E[1][E[0]-1]);A.isFunction(C.afterclickPgButtons)&&C.afterclickPgButtons("prev",A("#"+AJ),E[1][E[0]-1]);AD(E[0]-1,E[1].length-1)}return false})}x=r();AD(x[0],x[1].length-1)}})},viewGridRow:function(D,C){C=A.extend({top:0,left:0,width:0,height:"auto",dataheight:"auto",modal:false,drag:true,resize:true,jqModal:true,closeOnEscape:false,labelswidth:"30%",closeicon:[],navkeys:[false,38,40],onClose:null,beforeShowForm:null,viewPagerButtons:true},A.jgrid.view,C||{});return this.each(function(){function T(){if(C.closeOnEscape===true||C.navkeys[0]===true){setTimeout(function(){A(".ui-jqdialog-titlebar-close","#"+X.modalhead).focus()},0)}}function O(AB,q,k,Q){for(var h,g,j,v=0,K,E,d=[],F=false,f="<td class='CaptionTD form-view-label ui-widget-content' width='"+C.labelswidth+"'>&#160;</td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;</td>",AA="",w=["integer","number","currency"],s=0,y=0,o,l,n,m=1;m<=Q;m++){AA+=m==1?f:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;</td><td class='DataTD form-view-data ui-widget-content'>&#160;</td>"}A(q.p.colModel).each(function(){g=this.editrules&&this.editrules.edithidden===true?false:this.hidden===true?true:false;if(!g&&this.align==="right"){if(this.formatter&&A.inArray(this.formatter,w)!==-1){s=Math.max(s,parseInt(this.width,10))}else{y=Math.max(y,parseInt(this.width,10))}}});o=s!==0?s:y!==0?y:0;F=A(q).jqGrid("getInd",AB);A(q.p.colModel).each(function(t){h=this.name;l=false;E=(g=this.editrules&&this.editrules.edithidden===true?false:this.hidden===true?true:false)?"style='display:none'":"";n=typeof this.viewable!="boolean"?true:this.viewable;if(h!=="cb"&&h!=="subgrid"&&h!=="rn"&&n){K=F===false?"":h==q.p.ExpandColumn&&q.p.treeGrid===true?A("td:eq("+t+")",q.rows[F]).text():A("td:eq("+t+")",q.rows[F]).html();l=this.align==="right"&&o!==0?true:false;A.extend({},this.editoptions||{},{id:h,name:h});var c=A.extend({},{rowabove:false,rowcontent:""},this.formoptions||{}),r=parseInt(c.rowpos,10)||v+1,p=parseInt((parseInt(c.colpos,10)||1)*2,10);if(c.rowabove){var e=A("<tr><td class='contentinfo' colspan='"+Q*2+"'>"+c.rowcontent+"</td></tr>");A(k).append(e);e[0].rp=r}j=A(k).find("tr[rowpos="+r+"]");if(j.length===0){j=A("<tr "+E+" rowpos='"+r+"'></tr>").addClass("FormData").attr("id","trv_"+h);A(j).append(AA);A(k).append(j);j[0].rp=r}A("td:eq("+(p-2)+")",j[0]).html("<b>"+(typeof c.label==="undefined"?q.p.colNames[t]:c.label)+"</b>");A("td:eq("+(p-1)+")",j[0]).append("<span>"+K+"</span>").attr("id","v_"+h);l&&A("td:eq("+(p-1)+") span",j[0]).css({"text-align":"right",width:o+"px"});d[v]=t;v++}});if(v>0){AB=A("<tr class='FormData' style='display:none'><td class='CaptionTD'></td><td colspan='"+(Q*2-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+AB+"'/></td></tr>");AB[0].rp=v+99;A(k).append(AB)}return d}function J(f,F){var e,E,Q=0,K,d;if(d=A(F).jqGrid("getInd",f,true)){A("td",d).each(function(c){e=F.p.colModel[c].name;E=F.p.colModel[c].editrules&&F.p.colModel[c].editrules.edithidden===true?false:F.p.colModel[c].hidden===true?true:false;if(e!=="cb"&&e!=="subgrid"&&e!=="rn"){K=e==F.p.ExpandColumn&&F.p.treeGrid===true?A(this).text():A(this).html();A.extend({},F.p.colModel[c].editoptions||{});e=A.jgrid.jqID("v_"+e);A("#"+e+" span","#"+b).html(K);E&&A("#"+e,"#"+b).parents("tr:first").hide();Q++}});Q>0&&A("#id_g","#"+b).val(f)}}function P(F,E){F===0?A("#pData","#"+b+"_2").addClass("ui-state-disabled"):A("#pData","#"+b+"_2").removeClass("ui-state-disabled");F==E?A("#nData","#"+b+"_2").addClass("ui-state-disabled"):A("#nData","#"+b+"_2").removeClass("ui-state-disabled")}function I(){var F=A(Z).jqGrid("getDataIDs"),E=A("#id_g","#"+b).val();return[A.inArray(E,F),F]}var Z=this;if(Z.grid&&D){if(!C.imgpath){C.imgpath=Z.p.imgpath}var U=Z.p.id,M="ViewGrid_"+U,b="ViewTbl_"+U,X={themodal:"viewmod"+U,modalhead:"viewhd"+U,modalcontent:"viewcnt"+U,scrollelm:M},a=1,Y=0;if(A("#"+X.themodal).html()!=null){A(".ui-jqdialog-title","#"+X.modalhead).html(C.caption);A("#FormError","#"+b).hide();J(D,Z);A.isFunction(C.beforeShowForm)&&C.beforeShowForm(A("#"+M));viewModal("#"+X.themodal,{gbox:"#gbox_"+U,jqm:C.jqModal,jqM:false,modal:C.modal});T()}else{A(Z.p.colModel).each(function(){var E=this.formoptions;a=Math.max(a,E?E.colpos||0:0);Y=Math.max(Y,E?E.rowpos||0:0)});var W=isNaN(C.dataheight)?C.dataheight:C.dataheight+"px",N=A("<form name='FormPost' id='"+M+"' class='FormGrid' style='width:100%;overflow:auto;position:relative;height:"+W+";'></form>"),G=A("<table id='"+b+"' class='EditTable' cellspacing='1' cellpading='2' border='0' style='table-layout:fixed'><tbody></tbody></table>");A(N).append(G);O(D,Z,G,a);W=Z.p.direction=="rtl"?true:false;var V="<a href='javascript:void(0)' id='"+(W?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'></span></div>",R="<a href='javascript:void(0)' id='"+(W?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'></span></div>",S="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+C.bClose+"</a>";if(Y>0){var L=[];A.each(A(G)[0].rows,function(F,E){L[F]=E});L.sort(function(F,E){if(F.rp>E.rp){return 1}if(F.rp<E.rp){return -1}return 0});A.each(L,function(F,E){A("tbody",G).append(E)})}C.gbox="#gbox_"+U;var H=false;if(C.closeOnEscape===true){C.closeOnEscape=false;H=true}N=A("<span></span>").append(N).append("<table border='0' class='EditTable' id='"+b+"_2'><tbody><tr id='Act_Buttons'><td class='navButton ui-widget-content' width='"+C.labelswidth+"'>"+(W?R+V:V+R)+"</td><td class='EditButton ui-widget-content'>"+S+"</td></tr></tbody></table>");createModal(X,N,C,"#gview_"+Z.p.id,A("#gview_"+Z.p.id)[0]);if(W){A("#pData, #nData","#"+b+"_2").css("float","right");A(".EditButton","#"+b+"_2").css("text-align","left")}C.viewPagerButtons||A("#pData, #nData","#"+b+"_2").hide();N=null;A("#"+X.themodal).keydown(function(E){if(E.which===27){H&&hideModal(this,{gb:C.gbox,jqm:C.jqModal,onClose:C.onClose});return false}if(C.navkeys[0]===true){if(E.which===C.navkeys[1]){A("#pData","#"+b+"_2").trigger("click");return false}if(E.which===C.navkeys[2]){A("#nData","#"+b+"_2").trigger("click");return false}}});C.closeicon=A.extend([true,"left","ui-icon-close"],C.closeicon);if(C.closeicon[0]===true){A("#cData","#"+b+"_2").addClass(C.closeicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+C.closeicon[2]+"'></span>")}A.isFunction(C.beforeShowForm)&&C.beforeShowForm(A("#"+M));viewModal("#"+X.themodal,{gbox:"#gbox_"+U,jqm:C.jqModal,modal:C.modal});A(".fm-button:not(.ui-state-disabled)","#"+b+"_2").hover(function(){A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});T();A("#cData","#"+b+"_2").click(function(){hideModal("#"+X.themodal,{gb:"#gbox_"+U,jqm:C.jqModal,onClose:C.onClose});return false});A("#nData","#"+b+"_2").click(function(){A("#FormError","#"+b).hide();var E=I();E[0]=parseInt(E[0],10);if(E[0]!=-1&&E[1][E[0]+1]){A.isFunction(C.onclickPgButtons)&&C.onclickPgButtons("next",A("#"+M),E[1][E[0]]);J(E[1][E[0]+1],Z);A(Z).jqGrid("setSelection",E[1][E[0]+1]);A.isFunction(C.afterclickPgButtons)&&C.afterclickPgButtons("next",A("#"+M),E[1][E[0]+1]);P(E[0]+1,E[1].length-1)}T();return false});A("#pData","#"+b+"_2").click(function(){A("#FormError","#"+b).hide();var E=I();if(E[0]!=-1&&E[1][E[0]-1]){A.isFunction(C.onclickPgButtons)&&C.onclickPgButtons("prev",A("#"+M),E[1][E[0]]);J(E[1][E[0]-1],Z);A(Z).jqGrid("setSelection",E[1][E[0]-1]);A.isFunction(C.afterclickPgButtons)&&C.afterclickPgButtons("prev",A("#"+M),E[1][E[0]-1]);P(E[0]-1,E[1].length-1)}T();return false})}W=I();P(W[0],W[1].length-1)}})},delGridRow:function(D,C){B=C=A.extend({top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:false,drag:true,resize:true,url:"",mtype:"POST",reloadAfterSubmit:true,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:true,closeOnEscape:false,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:false,serializeDelData:null,useDataProxy:false},A.jgrid.del,C||{});return this.each(function(){var H=this;if(H.grid){if(D){var F=typeof C.beforeShowForm==="function"?true:false,P=typeof C.afterShowForm==="function"?true:false,G=H.p.id,O={},L="DelTbl_"+G,I,Q,N,J,M={themodal:"delmod"+G,modalhead:"delhd"+G,modalcontent:"delcnt"+G,scrollelm:L};if(jQuery.isArray(D)){D=D.join()}if(A("#"+M.themodal).html()!=null){A("#DelData>td","#"+L).text(D);A("#DelError","#"+L).hide();if(B.processing===true){B.processing=false;A("#dData","#"+L).removeClass("ui-state-active")}F&&C.beforeShowForm(A("#"+L));viewModal("#"+M.themodal,{gbox:"#gbox_"+G,jqm:C.jqModal,jqM:false,modal:C.modal})}else{var K=isNaN(C.dataheight)?C.dataheight:C.dataheight+"px";K="<div id='"+L+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+K+";'>";K+="<table class='DelTable'><tbody>";K+="<tr id='DelError' style='display:none'><td class='ui-state-error'></td></tr>";K+="<tr id='DelData' style='display:none'><td >"+D+"</td></tr>";K+='<tr><td class="delmsg" style="white-space:pre;">'+C.msg+"</td></tr><tr><td >&#160;</td></tr>";K+="</tbody></table></div>";K+="<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+L+"_2'><tbody><tr><td class='DataTD ui-widget-content'></td></tr><tr style='display:block;height:3px;'><td></td></tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+C.bSubmit+"</a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+C.bCancel+"</a>")+"</td></tr></tbody></table>";C.gbox="#gbox_"+G;createModal(M,K,C,"#gview_"+H.p.id,A("#gview_"+H.p.id)[0]);A(".fm-button","#"+L+"_2").hover(function(){A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});C.delicon=A.extend([true,"left","ui-icon-scissors"],C.delicon);C.cancelicon=A.extend([true,"left","ui-icon-cancel"],C.cancelicon);if(C.delicon[0]===true){A("#dData","#"+L+"_2").addClass(C.delicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+C.delicon[2]+"'></span>")}if(C.cancelicon[0]===true){A("#eData","#"+L+"_2").addClass(C.cancelicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+C.cancelicon[2]+"'></span>")}A("#dData","#"+L+"_2").click(function(){var E=[true,""];O={};var R=A("#DelData>td","#"+L).text();if(typeof C.onclickSubmit==="function"){O=C.onclickSubmit(B,R)||{}}if(typeof C.beforeSubmit==="function"){E=C.beforeSubmit(R)}if(E[0]&&!B.processing){B.processing=true;A(this).addClass("ui-state-active");N=H.p.prmNames;I=A.extend({},B.delData,O);J=N.oper;I[J]=N.deloper;Q=N.id;I[Q]=R;var S=A.extend({url:B.url?B.url:A(H).jqGrid("getGridParam","editurl"),type:C.mtype,data:A.isFunction(C.serializeDelData)?C.serializeDelData(I):I,complete:function(U,W){if(W!="success"){E[0]=false;E[1]=A.isFunction(B.errorTextFormat)?B.errorTextFormat(U):W+" Status: '"+U.statusText+"'. Error code: "+U.status}else{if(typeof B.afterSubmit==="function"){E=B.afterSubmit(U,I)}}if(E[0]===false){A("#DelError>td","#"+L).html(E[1]);A("#DelError","#"+L).show()}else{if(B.reloadAfterSubmit&&H.p.datatype!="local"){A(H).trigger("reloadGrid")}else{W=[];W=R.split(",");if(H.p.treeGrid===true){try{A(H).jqGrid("delTreeNode",W[0])}catch(T){}}else{for(var V=0;V<W.length;V++){A(H).jqGrid("delRowData",W[V])}}H.p.selrow=null;H.p.selarrrow=[]}A.isFunction(B.afterComplete)&&setTimeout(function(){B.afterComplete(U,R)},500)}B.processing=false;A("#dData","#"+L+"_2").removeClass("ui-state-active");E[0]&&hideModal("#"+M.themodal,{gb:"#gbox_"+G,jqm:C.jqModal,onClose:B.onClose})},error:function(U,V,T){A("#DelError>td","#"+L).html(V+" : "+T);A("#DelError","#"+L).show();B.processing=false;A("#dData","#"+L+"_2").removeClass("ui-state-active")}},A.jgrid.ajaxOptions,C.ajaxDelOptions);if(!S.url&&!B.useDataProxy){if(A.isFunction(H.p.dataProxy)){B.useDataProxy=true}else{E[0]=false;E[1]+=" "+A.jgrid.errors.nourl}}if(E[0]){B.useDataProxy?H.p.dataProxy.call(H,S,"del_"+H.p.id):A.ajax(S)}}if(E[0]===false){A("#DelError>td","#"+L).html(E[1]);A("#DelError","#"+L).show()}return false});A("#eData","#"+L+"_2").click(function(){hideModal("#"+M.themodal,{gb:"#gbox_"+G,jqm:C.jqModal,onClose:B.onClose});return false});F&&C.beforeShowForm(A("#"+L));viewModal("#"+M.themodal,{gbox:"#gbox_"+G,jqm:C.jqModal,modal:C.modal})}P&&C.afterShowForm(A("#"+L));C.closeOnEscape===true&&setTimeout(function(){A(".ui-jqdialog-titlebar-close","#"+M.modalhead).focus()},0)}}})},navGrid:function(G,D,I,H,F,J,E){D=A.extend({edit:true,editicon:"ui-icon-pencil",add:true,addicon:"ui-icon-plus",del:true,delicon:"ui-icon-trash",search:true,searchicon:"ui-icon-search",refresh:true,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:false,viewicon:"ui-icon-document",position:"left",closeOnEscape:true,beforeRefresh:null,afterRefresh:null,cloneToTop:false},A.jgrid.nav,D||{});return this.each(function(){var M={themodal:"alertmod",modalhead:"alerthd",modalcontent:"alertcnt"},Q=this,P,O,K;if(!(!Q.grid||typeof G!="string")){if(A("#"+M.themodal).html()===null){if(typeof window.innerWidth!="undefined"){P=window.innerWidth;O=window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!==0){P=document.documentElement.clientWidth;O=document.documentElement.clientHeight}else{P=1024;O=768}}createModal(M,"<div>"+D.alerttext+"</div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'></span></span>",{gbox:"#gbox_"+Q.p.id,jqModal:true,drag:true,resize:true,caption:D.alertcap,top:O/2-25,left:P/2-100,width:200,height:"auto",closeOnEscape:D.closeOnEscape},"","",true)}P=1;if(D.cloneToTop&&Q.p.toppager){P=2}for(O=0;O<P;O++){var N=A("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr></tr></tbody></table>"),L,C;if(O===0){L=G;C=Q.p.id;if(L==Q.p.toppager){C+="_top";P=1}}else{L=Q.p.toppager;C=Q.p.id+"_top"}Q.p.direction=="rtl"&&A(N).attr("dir","rtl").css("float","right");if(D.add){H=H||{};K=A("<td class='ui-pg-button ui-corner-all'></td>");A(K).append("<div class='ui-pg-div'><span class='ui-icon "+D.addicon+"'></span>"+D.addtext+"</div>");A("tr",N).append(K);A(K,N).attr({title:D.addtitle||"",id:H.id||"add_"+C}).click(function(){A(this).hasClass("ui-state-disabled")||(typeof D.addfunc=="function"?D.addfunc():A(Q).jqGrid("editGridRow","new",H));return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});K=null}if(D.edit){K=A("<td class='ui-pg-button ui-corner-all'></td>");I=I||{};A(K).append("<div class='ui-pg-div'><span class='ui-icon "+D.editicon+"'></span>"+D.edittext+"</div>");A("tr",N).append(K);A(K,N).attr({title:D.edittitle||"",id:I.id||"edit_"+C}).click(function(){if(!A(this).hasClass("ui-state-disabled")){var R=Q.p.selrow;if(R){typeof D.editfunc=="function"?D.editfunc(R):A(Q).jqGrid("editGridRow",R,I)}else{viewModal("#"+M.themodal,{gbox:"#gbox_"+Q.p.id,jqm:true});A("#jqg_alrt").focus()}}return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});K=null}if(D.view){K=A("<td class='ui-pg-button ui-corner-all'></td>");E=E||{};A(K).append("<div class='ui-pg-div'><span class='ui-icon "+D.viewicon+"'></span>"+D.viewtext+"</div>");A("tr",N).append(K);A(K,N).attr({title:D.viewtitle||"",id:E.id||"view_"+C}).click(function(){if(!A(this).hasClass("ui-state-disabled")){var R=Q.p.selrow;if(R){A(Q).jqGrid("viewGridRow",R,E)}else{viewModal("#"+M.themodal,{gbox:"#gbox_"+Q.p.id,jqm:true});A("#jqg_alrt").focus()}}return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});K=null}if(D.del){K=A("<td class='ui-pg-button ui-corner-all'></td>");F=F||{};A(K).append("<div class='ui-pg-div'><span class='ui-icon "+D.delicon+"'></span>"+D.deltext+"</div>");A("tr",N).append(K);A(K,N).attr({title:D.deltitle||"",id:F.id||"del_"+C}).click(function(){if(!A(this).hasClass("ui-state-disabled")){var R;if(Q.p.multiselect){R=Q.p.selarrrow;if(R.length===0){R=null}}else{R=Q.p.selrow}if(R){"function"==typeof D.delfunc?D.delfunc(R):A(Q).jqGrid("delGridRow",R,F)}else{viewModal("#"+M.themodal,{gbox:"#gbox_"+Q.p.id,jqm:true});A("#jqg_alrt").focus()}}return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});K=null}if(D.add||D.edit||D.del||D.view){A("tr",N).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>")}if(D.search){K=A("<td class='ui-pg-button ui-corner-all'></td>");J=J||{};A(K).append("<div class='ui-pg-div'><span class='ui-icon "+D.searchicon+"'></span>"+D.searchtext+"</div>");A("tr",N).append(K);A(K,N).attr({title:D.searchtitle||"",id:J.id||"search_"+C}).click(function(){A(this).hasClass("ui-state-disabled")||A(Q).jqGrid("searchGrid",J);return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});K=null}if(D.refresh){K=A("<td class='ui-pg-button ui-corner-all'></td>");A(K).append("<div class='ui-pg-div'><span class='ui-icon "+D.refreshicon+"'></span>"+D.refreshtext+"</div>");A("tr",N).append(K);A(K,N).attr({title:D.refreshtitle||"",id:"refresh_"+C}).click(function(){if(!A(this).hasClass("ui-state-disabled")){A.isFunction(D.beforeRefresh)&&D.beforeRefresh();Q.p.search=false;try{A("#fbox_"+Q.p.id).searchFilter().reset({reload:false});A.isFunction(Q.clearToolbar)&&Q.clearToolbar(false)}catch(R){}switch(D.refreshstate){case"firstpage":A(Q).trigger("reloadGrid",[{page:1}]);break;case"current":A(Q).trigger("reloadGrid",[{current:true}]);break}A.isFunction(D.afterRefresh)&&D.afterRefresh()}return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});K=null}K=A(".ui-jqgrid").css("font-size")||"11px";A("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+K+";visibility:hidden;' ></div>");K=A(N).clone().appendTo("#testpg2").width();A("#testpg2").remove();A(L+"_"+D.position,L).append(N);if(Q.p._nvtd){if(K>Q.p._nvtd[0]){A(L+"_"+D.position,L).width(K);Q.p._nvtd[0]=K}Q.p._nvtd[1]=K}N=K=K=null}}})},navButtonAdd:function(D,C){C=A.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},C||{});return this.each(function(){if(this.grid){if(D.indexOf("#")!==0){D="#"+D}var G=A(".navtable",D)[0],F=this;if(G){var E=A("<td></td>");C.buttonicon.toString().toUpperCase()=="NONE"?A(E).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+C.caption+"</div>"):A(E).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+C.buttonicon+"'></span>"+C.caption+"</div>");C.id&&A(E).attr("id",C.id);if(C.position=="first"){G.rows[0].cells.length===0?A("tr",G).append(E):A("tr td:eq(0)",G).before(E)}else{A("tr",G).append(E)}A(E,G).attr("title",C.title||"").click(function(H){A(this).hasClass("ui-state-disabled")||A.isFunction(C.onClickButton)&&C.onClickButton.call(F,H);return false}).hover(function(){A(this).hasClass("ui-state-disabled")||A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")})}}})},navSeparatorAdd:function(D,C){C=A.extend({sepclass:"ui-separator",sepcontent:""},C||{});return this.each(function(){if(this.grid){if(D.indexOf("#")!==0){D="#"+D}var F=A(".navtable",D)[0];if(F){var E="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+C.sepclass+"'></span>"+C.sepcontent+"</td>";A("tr",F).append(E)}}})},GridToForm:function(D,C){return this.each(function(){var G=this;if(G.grid){var F=A(G).jqGrid("getRowData",D);if(F){for(var E in F){A("[name="+E+"]",C).is("input:radio")||A("[name="+E+"]",C).is("input:checkbox")?A("[name="+E+"]",C).each(function(){A(this).val()==F[E]?A(this).attr("checked","checked"):A(this).attr("checked","")}):A("[name="+E+"]",C).val(F[E])}}}})},FormToGrid:function(E,D,G,F){return this.each(function(){var H=this;if(H.grid){G||(G="set");F||(F="first");var I=A(D).serializeArray(),C={};A.each(I,function(J,K){C[K.name]=K.value});if(G=="add"){A(H).jqGrid("addRowData",E,C,F)}else{G=="set"&&A(H).jqGrid("setRowData",E,C)}}})}})})(jQuery);jQuery.fn.searchFilter=function(A,C){function B(a,Y,M){this.$=a;this.add=function(D){D==null?a.find(".ui-add-last").click():a.find(".sf:eq("+D+") .ui-add").click();return this};this.del=function(D){D==null?a.find(".sf:last .ui-del").click():a.find(".sf:eq("+D+") .ui-del").click();return this};this.search=function(){a.find(".ui-search").click();return this};this.reset=function(D){if(D===undefined){D=false}a.find(".ui-reset").trigger("click",[D]);return this};this.close=function(){a.find(".ui-closer").click();return this};if(Y!=null){function S(){jQuery(this).toggleClass("ui-state-hover");return false}function R(D){jQuery(this).toggleClass("ui-state-active",D.type=="mousedown");return false}function X(E,D){return"<option value='"+E+"'>"+D+"</option>"}function K(E,D,F){return"<select class='"+E+"'"+(F?" style='display:none;'":"")+">"+D+"</select>"}function P(E,D){E=a.find("tr.sf td.data "+E);E[0]!=null&&D(E)}function N(E,D){var F=a.find("tr.sf td.data "+E);F[0]!=null&&jQuery.each(D,function(){this.data!=null?F.bind(this.type,this.data,this.fn):F.bind(this.type,this.fn)})}var Z=jQuery.extend({},jQuery.fn.searchFilter.defaults,M),W=-1,T="";jQuery.each(Z.groupOps,function(){T+=X(this.op,this.text)});T="<select name='groupOp'>"+T+"</select>";a.html("").addClass("ui-searchFilter").append("<div class='ui-widget-overlay' style='z-index: -1'>&#160;</div><table class='ui-widget-content ui-corner-all'><thead><tr><td colspan='5' class='ui-widget-header ui-corner-all' style='line-height: 18px;'><div class='ui-closer ui-state-default ui-corner-all ui-helper-clearfix' style='float: right;'><span class='ui-icon ui-icon-close'></span></div>"+Z.windowTitle+"</td></tr></thead><tbody><tr class='sf'><td class='fields'></td><td class='ops'></td><td class='data'></td><td><div class='ui-del ui-state-default ui-corner-all'><span class='ui-icon ui-icon-minus'></span></div></td><td><div class='ui-add ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plus'></span></div></td></tr><tr><td colspan='5' class='divider'><div>&#160;</div></td></tr></tbody><tfoot><tr><td colspan='3'><span class='ui-reset ui-state-default ui-corner-all' style='display: inline-block; float: left;'><span class='ui-icon ui-icon-arrowreturnthick-1-w' style='float: left;'></span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+Z.resetText+"</span></span><span class='ui-search ui-state-default ui-corner-all' style='display: inline-block; float: right;'><span class='ui-icon ui-icon-search' style='float: left;'></span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+Z.searchText+"</span></span><span class='matchText'>"+Z.matchText+"</span> "+T+" <span class='rulesText'>"+Z.rulesText+"</span></td><td>&#160;</td><td><div class='ui-add-last ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plusthick'></span></div></td></tr></tfoot></table>");var J=a.find("tr.sf"),L=J.find("td.fields"),I=J.find("td.ops"),V=J.find("td.data"),Q="";jQuery.each(Z.operators,function(){Q+=X(this.op,this.text)});Q=K("default",Q,true);I.append(Q);V.append("<input type='text' class='default' style='display:none;' />");var O="",H=false,U=false;jQuery.each(Y,function(E){O+=X(this.itemval,this.text);if(this.ops!=null){H=true;var D="";jQuery.each(this.ops,function(){D+=X(this.op,this.text)});D=K("field"+E,D,true);I.append(D)}if(this.dataUrl!=null){if(E>W){W=E}U=true;var e=this.dataEvents,f=this.dataInit,G=this.buildSelect;jQuery.ajax(jQuery.extend({url:this.dataUrl,complete:function(b){b=G!=null?jQuery("<div />").append(G(b)):jQuery("<div />").append(b.responseText);b.find("select").addClass("field"+E).hide();V.append(b.html());f&&P(".field"+E,f);e&&N(".field"+E,e);E==W&&a.find("tr.sf td.fields select[name='field']").change()}},Z.ajaxSelectOptions))}else{if(this.dataValues!=null){U=true;var F="";jQuery.each(this.dataValues,function(){F+=X(this.value,this.text)});F=K("field"+E,F,true);V.append(F)}else{if(this.dataEvents!=null||this.dataInit!=null){U=true;F="<input type='text' class='field"+E+"' />";V.append(F)}}}this.dataInit!=null&&E!=W&&P(".field"+E,this.dataInit);this.dataEvents!=null&&E!=W&&N(".field"+E,this.dataEvents)});O="<select name='field'>"+O+"</select>";L.append(O);Y=L.find("select[name='field']");H?Y.change(function(E){var D=E.target.selectedIndex;E=jQuery(E.target).parents("tr.sf").find("td.ops");E.find("select").removeAttr("name").hide();D=E.find(".field"+D);if(D[0]==null){D=E.find(".default")}D.attr("name","op").show();return false}):I.find(".default").attr("name","op").show();U?Y.change(function(E){var D=E.target.selectedIndex;E=jQuery(E.target).parents("tr.sf").find("td.data");E.find("select,input").removeClass("vdata").hide();D=E.find(".field"+D);if(D[0]==null){D=E.find(".default")}D.show().addClass("vdata");return false}):V.find(".default").show().addClass("vdata");if(H||U){Y.change()}a.find(".ui-state-default").hover(S,S).mousedown(R).mouseup(R);a.find(".ui-closer").click(function(){Z.onClose(jQuery(a.selector));return false});a.find(".ui-del").click(function(D){D=jQuery(D.target).parents(".sf");if(D.siblings(".sf").length>0){Z.datepickerFix===true&&jQuery.fn.datepicker!==undefined&&D.find(".hasDatepicker").datepicker("destroy");D.remove()}else{D.find("select[name='field']")[0].selectedIndex=0;D.find("select[name='op']")[0].selectedIndex=0;D.find(".data input").val("");D.find(".data select").each(function(){this.selectedIndex=0});D.find("select[name='field']").change(function(E){E.stopPropagation()})}return false});a.find(".ui-add").click(function(E){E=jQuery(E.target).parents(".sf");var D=E.clone(true).insertAfter(E);D.find(".ui-state-default").removeClass("ui-state-hover ui-state-active");if(Z.clone){D.find("select[name='field']")[0].selectedIndex=E.find("select[name='field']")[0].selectedIndex;if(D.find("select[name='op']")[0]!=null){D.find("select[name='op']").focus()[0].selectedIndex=E.find("select[name='op']")[0].selectedIndex}var F=D.find("select.vdata");if(F[0]!=null){F[0].selectedIndex=E.find("select.vdata")[0].selectedIndex}}else{D.find(".data input").val("");D.find("select[name='field']").focus()}Z.datepickerFix===true&&jQuery.fn.datepicker!==undefined&&E.find(".hasDatepicker").each(function(){var G=jQuery.data(this,"datepicker").settings;D.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(G)});D.find("select[name='field']").change(function(G){G.stopPropagation()});return false});a.find(".ui-search").click(function(){var E=jQuery(a.selector),D,F=E.find("select[name='groupOp'] :selected").val();D=Z.stringResult?'{"groupOp":"'+F+'","rules":[':{groupOp:F,rules:[]};E.find(".sf").each(function(e){var d=jQuery(this).find("select[name='field'] :selected").val(),G=jQuery(this).find("select[name='op'] :selected").val(),b=jQuery(this).find("input.vdata,select.vdata :selected").val();b+="";b=b.replace(/\\/g,"\\\\").replace(/\"/g,'\\"');if(Z.stringResult){if(e>0){D+=","}D+='{"field":"'+d+'",';D+='"op":"'+G+'",';D+='"data":"'+b+'"}'}else{D.rules.push({field:d,op:G,data:b})}});if(Z.stringResult){D+="]}"}Z.onSearch(D);return false});a.find(".ui-reset").click(function(E,D){E=jQuery(a.selector);E.find(".ui-del").click();E.find("select[name='groupOp']")[0].selectedIndex=0;Z.onReset(D);return false});a.find(".ui-add-last").click(function(){var E=jQuery(a.selector+" .sf:last"),D=E.clone(true).insertAfter(E);D.find(".ui-state-default").removeClass("ui-state-hover ui-state-active");D.find(".data input").val("");D.find("select[name='field']").focus();Z.datepickerFix===true&&jQuery.fn.datepicker!==undefined&&E.find(".hasDatepicker").each(function(){var F=jQuery.data(this,"datepicker").settings;D.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(F)});D.find("select[name='field']").change(function(F){F.stopPropagation()});return false});this.setGroupOp=function(E){selDOMobj=a.find("select[name='groupOp']")[0];var D={},F=selDOMobj.options.length,G;for(G=0;G<F;G++){D[selDOMobj.options[G].value]=G}selDOMobj.selectedIndex=D[E];jQuery(selDOMobj).change(function(b){b.stopPropagation()})};this.setFilter=function(o){var n=o.sfref;o=o.filter;var l=[],m,k,e,f,G={};selDOMobj=n.find("select[name='field']")[0];m=0;for(e=selDOMobj.options.length;m<e;m++){G[selDOMobj.options[m].value]={index:m,ops:{}};l.push(selDOMobj.options[m].value)}m=0;for(e=l.length;m<e;m++){if(selDOMobj=n.find(".ops > select[class='field"+m+"']")[0]){k=0;for(f=selDOMobj.options.length;k<f;k++){G[l[m]].ops[selDOMobj.options[k].value]=k}}if(selDOMobj=n.find(".data > select[class='field"+m+"']")[0]){G[l[m]].data={};k=0;for(f=selDOMobj.options.length;k<f;k++){G[l[m]].data[selDOMobj.options[k].value]=k}}}var p,D,F,E;l=o.field;if(G[l]){p=G[l].index}if(p!=null){D=G[l].ops[o.op];if(D===undefined){m=0;for(e=M.operators.length;m<e;m++){if(M.operators[m].op==o.op){D=m;break}}}F=o.data;E=G[l].data==null?-1:G[l].data[F]}if(p!=null&&D!=null&&E!=null){n.find("select[name='field']")[0].selectedIndex=p;n.find("select[name='field']").change();n.find("select[name='op']")[0].selectedIndex=D;n.find("input.vdata").val(F);if(n=n.find("select.vdata")[0]){n.selectedIndex=E}return true}else{return false}}}}return new B(this,A,C)};jQuery.fn.searchFilter.version="1.2.9";jQuery.fn.searchFilter.defaults={clone:true,datepickerFix:true,onReset:function(A){alert("Reset Clicked. Data Returned: "+A)},onSearch:function(A){alert("Search Clicked. Data Returned: "+A)},onClose:function(A){A.hide()},groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operators:[{op:"eq",text:"is equal to"},{op:"ne",text:"is not equal to"},{op:"lt",text:"is less than"},{op:"le",text:"is less or equal to"},{op:"gt",text:"is greater than"},{op:"ge",text:"is greater or equal to"},{op:"in",text:"is in"},{op:"ni",text:"is not in"},{op:"bw",text:"begins with"},{op:"bn",text:"does not begin with"},{op:"ew",text:"ends with"},{op:"en",text:"does not end with"},{op:"cn",text:"contains"},{op:"nc",text:"does not contain"}],matchText:"match",rulesText:"rules",resetText:"Reset",searchText:"Search",stringResult:true,windowTitle:"Search Rules",ajaxSelectOptions:{}};(function(A){A.jgrid.extend({editRow:function(G,I,E,D,C,B,J,H,F){return this.each(function(){var K=this,M,L,N=0,R=null,Q={},O,P;if(K.grid){O=A(K).jqGrid("getInd",G,true);if(O!==false){if((A(O).attr("editable")||"0")=="0"&&!A(O).hasClass("not-editable-row")){P=K.p.colModel;A("td",O).each(function(U){M=P[U].name;var T=K.p.treeGrid===true&&M==K.p.ExpandColumn;if(T){L=A("span:first",this).html()}else{try{L=A.unformat(this,{rowId:G,colModel:P[U]},U)}catch(S){L=A(this).html()}}if(M!="cb"&&M!="subgrid"&&M!="rn"){if(K.p.autoencode){L=A.jgrid.htmlDecode(L)}Q[M]=L;if(P[U].editable===true){if(R===null){R=U}T?A("span:first",this).html(""):A(this).html("");var V=A.extend({},P[U].editoptions||{},{id:G+"_"+M,name:M});if(!P[U].edittype){P[U].edittype="text"}V=createEl(P[U].edittype,V,L,true,A.extend({},A.jgrid.ajaxOptions,K.p.ajaxSelectOptions||{}));A(V).addClass("editable");T?A("span:first",this).append(V):A(this).append(V);P[U].edittype=="select"&&P[U].editoptions.multiple===true&&A.browser.msie&&A(V).width(A(V).width());N++}}});if(N>0){Q.id=G;K.p.savedRow.push(Q);A(O).attr("editable","1");A("td:eq("+R+") input",O).focus();I===true&&A(O).bind("keydown",function(S){S.keyCode===27&&A(K).jqGrid("restoreRow",G,F);if(S.keyCode===13){if(S.target.tagName=="TEXTAREA"){return true}A(K).jqGrid("saveRow",G,D,C,B,J,H,F);return false}S.stopPropagation()});A.isFunction(E)&&E.call(K,G)}}}}})},saveRow:function(G,B,C,H,F,E,D){return this.each(function(){var Q=this,P,R={},L={},K,T,J,I;if(Q.grid){I=A(Q).jqGrid("getInd",G,true);if(I!==false){K=A(I).attr("editable");C=C?C:Q.p.editurl;if(K==="1"){var N;A("td",I).each(function(V){N=Q.p.colModel[V];P=N.name;if(P!="cb"&&P!="subgrid"&&N.editable===true&&P!="rn"){switch(N.edittype){case"checkbox":var X=["Yes","No"];if(N.editoptions){X=N.editoptions.value.split(":")}R[P]=A("input",this).attr("checked")?X[0]:X[1];break;case"text":case"password":case"textarea":case"button":R[P]=A("input, textarea",this).val();break;case"select":if(N.editoptions.multiple){X=A("select",this);var U=[];R[P]=A(X).val();R[P]=R[P]?R[P].join(","):"";A("select > option:selected",this).each(function(Z,Y){U[Z]=A(Y).text()});L[P]=U.join(",")}else{R[P]=A("select>option:selected",this).val();L[P]=A("select>option:selected",this).text()}if(N.formatter&&N.formatter=="select"){L={}}break;case"custom":try{if(N.editoptions&&A.isFunction(N.editoptions.custom_value)){R[P]=N.editoptions.custom_value.call(Q,A(".customelement",this),"get");if(R[P]===undefined){throw"e2"}}else{throw"e1"}}catch(W){W=="e1"&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+A.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);W=="e2"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+A.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,W.message,jQuery.jgrid.edit.bClose)}break}J=checkValues(R[P],V,Q);if(J[0]===false){J[1]=R[P]+" "+J[1];return false}if(Q.p.autoencode){R[P]=A.jgrid.htmlEncode(R[P])}}});if(J[0]===false){try{var O=findPos(A("#"+A.jgrid.jqID(G),Q.grid.bDiv)[0]);info_dialog(A.jgrid.errors.errcap,J[1],A.jgrid.edit.bClose,{left:O[0],top:O[1]})}catch(M){alert(J[1])}}else{if(R){var S;O=Q.p.prmNames;S=O.oper;K=O.id;R[S]=O.editoper;R[K]=G;if(typeof Q.p.inlineData=="undefined"){Q.p.inlineData={}}if(typeof H=="undefined"){H={}}R=A.extend({},R,Q.p.inlineData,H)}if(C=="clientArray"){R=A.extend({},R,L);Q.p.autoencode&&A.each(R,function(U,V){R[U]=A.jgrid.htmlDecode(V)});K=A(Q).jqGrid("setRowData",G,R);A(I).attr("editable","0");for(O=0;O<Q.p.savedRow.length;O++){if(Q.p.savedRow[O].id==G){T=O;break}}T>=0&&Q.p.savedRow.splice(T,1);A.isFunction(F)&&F.call(Q,G,K)}else{A("#lui_"+Q.p.id).show();A.ajax(A.extend({url:C,data:A.isFunction(Q.p.serializeRowData)?Q.p.serializeRowData.call(Q,R):R,type:"POST",complete:function(U,V){A("#lui_"+Q.p.id).hide();if(V==="success"){if((A.isFunction(B)?B.call(Q,U):true)===true){Q.p.autoencode&&A.each(R,function(W,X){R[W]=A.jgrid.htmlDecode(X)});R=A.extend({},R,L);A(Q).jqGrid("setRowData",G,R);A(I).attr("editable","0");for(V=0;V<Q.p.savedRow.length;V++){if(Q.p.savedRow[V].id==G){T=V;break}}T>=0&&Q.p.savedRow.splice(T,1);A.isFunction(F)&&F.call(Q,G,U)}else{A.isFunction(E)&&E.call(Q,G,U,V);A(Q).jqGrid("restoreRow",G,D)}}},error:function(U,V){A("#lui_"+Q.p.id).hide();A.isFunction(E)?E.call(Q,G,U,V):alert("Error Row: "+G+" Result: "+U.status+":"+U.statusText+" Status: "+V);A(Q).jqGrid("restoreRow",G,D)}},A.jgrid.ajaxOptions,Q.p.ajaxRowOptions||{}))}A(I).unbind("keydown")}}}}})},restoreRow:function(C,B){return this.each(function(){var D=this,I,G,F={};if(D.grid){G=A(D).jqGrid("getInd",C,true);if(G!==false){for(var E=0;E<D.p.savedRow.length;E++){if(D.p.savedRow[E].id==C){I=E;break}}if(I>=0){if(A.isFunction(A.fn.datepicker)){try{A("input.hasDatepicker","#"+A.jgrid.jqID(G.id)).datepicker("hide")}catch(H){}}A.each(D.p.colModel,function(){if(this.editable===true&&this.name in D.p.savedRow[I]){F[this.name]=D.p.savedRow[I][this.name]}});A(D).jqGrid("setRowData",C,F);A(G).attr("editable","0").unbind("keydown");D.p.savedRow.splice(I,1)}A.isFunction(B)&&B.call(D,C)}}})}})})(jQuery);(function(A){A.jgrid.extend({editCell:function(D,C,B){return this.each(function(){var K=this,H,J,I;if(!(!K.grid||K.p.cellEdit!==true)){C=parseInt(C,10);K.p.selrow=K.rows[D].id;K.p.knv||A(K).jqGrid("GridNav");if(K.p.savedRow.length>0){if(B===true){if(D==K.p.iRow&&C==K.p.iCol){return }}A(K).jqGrid("saveCell",K.p.savedRow[0].id,K.p.savedRow[0].ic)}else{window.setTimeout(function(){A("#"+K.p.knv).attr("tabindex","-1").focus()},0)}H=K.p.colModel[C].name;if(!(H=="subgrid"||H=="cb"||H=="rn")){I=A("td:eq("+C+")",K.rows[D]);if(K.p.colModel[C].editable===true&&B===true&&!I.hasClass("not-editable-cell")){if(parseInt(K.p.iCol,10)>=0&&parseInt(K.p.iRow,10)>=0){A("td:eq("+K.p.iCol+")",K.rows[K.p.iRow]).removeClass("edit-cell ui-state-highlight");A(K.rows[K.p.iRow]).removeClass("selected-row ui-state-hover")}A(I).addClass("edit-cell ui-state-highlight");A(K.rows[D]).addClass("selected-row ui-state-hover");try{J=A.unformat(I,{rowId:K.rows[D].id,colModel:K.p.colModel[C]},C)}catch(E){J=A(I).html()}if(K.p.autoencode){J=A.jgrid.htmlDecode(J)}if(!K.p.colModel[C].edittype){K.p.colModel[C].edittype="text"}K.p.savedRow.push({id:D,ic:C,name:H,v:J});if(A.isFunction(K.p.formatCell)){var F=K.p.formatCell.call(K,K.rows[D].id,H,J,D,C);if(F!==undefined){J=F}}F=A.extend({},K.p.colModel[C].editoptions||{},{id:D+"_"+H,name:H});var G=createEl(K.p.colModel[C].edittype,F,J,true,A.extend({},A.jgrid.ajaxOptions,K.p.ajaxSelectOptions||{}));A.isFunction(K.p.beforeEditCell)&&K.p.beforeEditCell.call(K,K.rows[D].id,H,J,D,C);A(I).html("").append(G).attr("tabindex","0");window.setTimeout(function(){A(G).focus()},0);A("input, select, textarea",I).bind("keydown",function(L){if(L.keyCode===27){if(A("input.hasDatepicker",I).length>0){A(".ui-datepicker").is(":hidden")?A(K).jqGrid("restoreCell",D,C):A("input.hasDatepicker",I).datepicker("hide")}else{A(K).jqGrid("restoreCell",D,C)}}L.keyCode===13&&A(K).jqGrid("saveCell",D,C);if(L.keyCode==9){if(K.grid.hDiv.loading){return false}else{L.shiftKey?A(K).jqGrid("prevCell",D,C):A(K).jqGrid("nextCell",D,C)}}L.stopPropagation()});A.isFunction(K.p.afterEditCell)&&K.p.afterEditCell.call(K,K.rows[D].id,H,J,D,C)}else{if(parseInt(K.p.iCol,10)>=0&&parseInt(K.p.iRow,10)>=0){A("td:eq("+K.p.iCol+")",K.rows[K.p.iRow]).removeClass("edit-cell ui-state-highlight");A(K.rows[K.p.iRow]).removeClass("selected-row ui-state-hover")}I.addClass("edit-cell ui-state-highlight");A(K.rows[D]).addClass("selected-row ui-state-hover");if(A.isFunction(K.p.onSelectCell)){J=I.html().replace(/\&#160\;/ig,"");K.p.onSelectCell.call(K,K.rows[D].id,H,J,D,C)}}K.p.iCol=C;K.p.iRow=D}}})},saveCell:function(C,B){return this.each(function(){var P=this,O;if(!(!P.grid||P.p.cellEdit!==true)){O=P.p.savedRow.length>=1?0:null;if(O!==null){var L=A("td:eq("+B+")",P.rows[C]),N,M,I=P.p.colModel[B],J=I.name,K=A.jgrid.jqID(J);switch(I.edittype){case"select":if(I.editoptions.multiple){K=A("#"+C+"_"+K,P.rows[C]);var H=[];if(N=A(K).val()){N.join(",")}else{N=""}A("option:selected",K).each(function(S,T){H[S]=A(T).text()});M=H.join(",")}else{N=A("#"+C+"_"+K+">option:selected",P.rows[C]).val();M=A("#"+C+"_"+K+">option:selected",P.rows[C]).text()}if(I.formatter){M=N}break;case"checkbox":var G=["Yes","No"];if(I.editoptions){G=I.editoptions.value.split(":")}M=N=A("#"+C+"_"+K,P.rows[C]).attr("checked")?G[0]:G[1];break;case"password":case"text":case"textarea":case"button":M=N=A("#"+C+"_"+K,P.rows[C]).val();break;case"custom":try{if(I.editoptions&&A.isFunction(I.editoptions.custom_value)){N=I.editoptions.custom_value.call(P,A(".customelement",L),"get");if(N===undefined){throw"e2"}else{M=N}}else{throw"e1"}}catch(E){E=="e1"&&info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+A.jgrid.edit.msg.nodefined,jQuery.jgrid.edit.bClose);E=="e2"?info_dialog(jQuery.jgrid.errors.errcap,"function 'custom_value' "+A.jgrid.edit.msg.novalue,jQuery.jgrid.edit.bClose):info_dialog(jQuery.jgrid.errors.errcap,E.message,jQuery.jgrid.edit.bClose)}break}if(M!=P.p.savedRow[O].v){if(A.isFunction(P.p.beforeSaveCell)){if(O=P.p.beforeSaveCell.call(P,P.rows[C].id,J,N,C,B)){N=O}}var D=checkValues(N,B,P);if(D[0]===true){O={};if(A.isFunction(P.p.beforeSubmitCell)){(O=P.p.beforeSubmitCell.call(P,P.rows[C].id,J,N,C,B))||(O={})}A("input.hasDatepicker",L).length>0&&A("input.hasDatepicker",L).datepicker("hide");if(P.p.cellsubmit=="remote"){if(P.p.cellurl){var F={};if(P.p.autoencode){N=A.jgrid.htmlEncode(N)}F[J]=N;G=P.p.prmNames;I=G.id;K=G.oper;F[I]=P.rows[C].id;F[K]=G.editoper;F=A.extend(O,F);A("#lui_"+P.p.id).show();P.grid.hDiv.loading=true;A.ajax(A.extend({url:P.p.cellurl,data:A.isFunction(P.p.serializeCellData)?P.p.serializeCellData.call(P,F):F,type:"POST",complete:function(S,T){A("#lui_"+P.p.id).hide();P.grid.hDiv.loading=false;if(T=="success"){if(A.isFunction(P.p.afterSubmitCell)){S=P.p.afterSubmitCell.call(P,S,F.id,J,N,C,B);if(S[0]===true){A(L).empty();A(P).jqGrid("setCell",P.rows[C].id,B,M,false,false,true);A(L).addClass("dirty-cell");A(P.rows[C]).addClass("edited");A.isFunction(P.p.afterSaveCell)&&P.p.afterSaveCell.call(P,P.rows[C].id,J,N,C,B);P.p.savedRow.splice(0,1)}else{info_dialog(A.jgrid.errors.errcap,S[1],A.jgrid.edit.bClose);A(P).jqGrid("restoreCell",C,B)}}else{A(L).empty();A(P).jqGrid("setCell",P.rows[C].id,B,M,false,false,true);A(L).addClass("dirty-cell");A(P.rows[C]).addClass("edited");A.isFunction(P.p.afterSaveCell)&&P.p.afterSaveCell.call(P,P.rows[C].id,J,N,C,B);P.p.savedRow.splice(0,1)}}},error:function(S,T){A("#lui_"+P.p.id).hide();P.grid.hDiv.loading=false;A.isFunction(P.p.errorCell)?P.p.errorCell.call(P,S,T):info_dialog(A.jgrid.errors.errcap,S.status+" : "+S.statusText+"<br/>"+T,A.jgrid.edit.bClose);A(P).jqGrid("restoreCell",C,B)}},A.jgrid.ajaxOptions,P.p.ajaxCellOptions||{}))}else{try{info_dialog(A.jgrid.errors.errcap,A.jgrid.errors.nourl,A.jgrid.edit.bClose);A(P).jqGrid("restoreCell",C,B)}catch(R){}}}if(P.p.cellsubmit=="clientArray"){A(L).empty();A(P).jqGrid("setCell",P.rows[C].id,B,M,false,false,true);A(L).addClass("dirty-cell");A(P.rows[C]).addClass("edited");A.isFunction(P.p.afterSaveCell)&&P.p.afterSaveCell.call(P,P.rows[C].id,J,N,C,B);P.p.savedRow.splice(0,1)}}else{try{window.setTimeout(function(){info_dialog(A.jgrid.errors.errcap,N+" "+D[1],A.jgrid.edit.bClose)},100);A(P).jqGrid("restoreCell",C,B)}catch(Q){}}}else{A(P).jqGrid("restoreCell",C,B)}}A.browser.opera?A("#"+P.p.knv).attr("tabindex","-1").focus():window.setTimeout(function(){A("#"+P.p.knv).attr("tabindex","-1").focus()},0)}})},restoreCell:function(C,B){return this.each(function(){var D=this,G;if(!(!D.grid||D.p.cellEdit!==true)){G=D.p.savedRow.length>=1?0:null;if(G!==null){var E=A("td:eq("+B+")",D.rows[C]);if(A.isFunction(A.fn.datepicker)){try{A("input.hasDatepicker",E).datepicker("hide")}catch(F){}}A(E).empty().attr("tabindex","-1");A(D).jqGrid("setCell",D.rows[C].id,B,D.p.savedRow[G].v,false,false,true);A.isFunction(D.p.afterRestoreCell)&&D.p.afterRestoreCell.call(D,D.rows[C].id,D.p.savedRow[G].v,C,B);D.p.savedRow.splice(0,1)}window.setTimeout(function(){A("#"+D.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(C,B){return this.each(function(){var D=this,F=false;if(!(!D.grid||D.p.cellEdit!==true)){for(var E=B+1;E<D.p.colModel.length;E++){if(D.p.colModel[E].editable===true){F=E;break}}if(F!==false){A(D).jqGrid("editCell",C,F,true)}else{D.p.savedRow.length>0&&A(D).jqGrid("saveCell",C,B)}}})},prevCell:function(C,B){return this.each(function(){var D=this,F=false;if(!(!D.grid||D.p.cellEdit!==true)){for(var E=B-1;E>=0;E--){if(D.p.colModel[E].editable===true){F=E;break}}if(F!==false){A(D).jqGrid("editCell",C,F,true)}else{D.p.savedRow.length>0&&A(D).jqGrid("saveCell",C,B)}}})},GridNav:function(){return this.each(function(){function F(L,I,J){if(J.substr(0,1)=="v"){var K=A(B.grid.bDiv)[0].clientHeight,H=A(B.grid.bDiv)[0].scrollTop,N=B.rows[L].offsetTop+B.rows[L].clientHeight,M=B.rows[L].offsetTop;if(J=="vd"){if(N>=K){A(B.grid.bDiv)[0].scrollTop=A(B.grid.bDiv)[0].scrollTop+B.rows[L].clientHeight}}if(J=="vu"){if(M<H){A(B.grid.bDiv)[0].scrollTop=A(B.grid.bDiv)[0].scrollTop-B.rows[L].clientHeight}}}if(J=="h"){J=A(B.grid.bDiv)[0].clientWidth;K=A(B.grid.bDiv)[0].scrollLeft;H=B.rows[L].cells[I].offsetLeft;if(B.rows[L].cells[I].offsetLeft+B.rows[L].cells[I].clientWidth>=J+parseInt(K,10)){A(B.grid.bDiv)[0].scrollLeft=A(B.grid.bDiv)[0].scrollLeft+B.rows[L].cells[I].clientWidth}else{if(H<K){A(B.grid.bDiv)[0].scrollLeft=A(B.grid.bDiv)[0].scrollLeft-B.rows[L].cells[I].clientWidth}}}}function E(K,H){var I,J;if(H=="lft"){I=K+1;for(J=K;J>=0;J--){if(B.p.colModel[J].hidden!==true){I=J;break}}}if(H=="rgt"){I=K-1;for(J=K;J<B.p.colModel.length;J++){if(B.p.colModel[J].hidden!==true){I=J;break}}}return I}var B=this;if(!(!B.grid||B.p.cellEdit!==true)){B.p.knv=B.p.id+"_kn";var G=A("<span style='width:0px;height:0px;background-color:black;' tabindex='0'><span tabindex='-1' style='width:0px;height:0px;background-color:grey' id='"+B.p.knv+"'></span></span>"),C,D;A(G).insertBefore(B.grid.cDiv);A("#"+B.p.knv).focus().keydown(function(H){D=H.keyCode;if(B.p.direction=="rtl"){if(D==37){D=39}else{if(D==39){D=37}}}switch(D){case 38:if(B.p.iRow-1>0){F(B.p.iRow-1,B.p.iCol,"vu");A(B).jqGrid("editCell",B.p.iRow-1,B.p.iCol,false)}break;case 40:if(B.p.iRow+1<=B.rows.length-1){F(B.p.iRow+1,B.p.iCol,"vd");A(B).jqGrid("editCell",B.p.iRow+1,B.p.iCol,false)}break;case 37:if(B.p.iCol-1>=0){C=E(B.p.iCol-1,"lft");F(B.p.iRow,C,"h");A(B).jqGrid("editCell",B.p.iRow,C,false)}break;case 39:if(B.p.iCol+1<=B.p.colModel.length-1){C=E(B.p.iCol+1,"rgt");F(B.p.iRow,C,"h");A(B).jqGrid("editCell",B.p.iRow,C,false)}break;case 13:parseInt(B.p.iCol,10)>=0&&parseInt(B.p.iRow,10)>=0&&A(B).jqGrid("editCell",B.p.iRow,B.p.iCol,true);break}return false})}})},getChangedCells:function(C){var B=[];C||(C="all");this.each(function(){var D=this,E;!D.grid||D.p.cellEdit!==true||A(D.rows).each(function(F){var G={};if(A(this).hasClass("edited")){A("td",this).each(function(J){E=D.p.colModel[J].name;if(E!=="cb"&&E!=="subgrid"){if(C=="dirty"){if(A(this).hasClass("dirty-cell")){try{G[E]=A.unformat(this,{rowId:D.rows[F].id,colModel:D.p.colModel[J]},J)}catch(H){G[E]=A.jgrid.htmlDecode(A(this).html())}}}else{try{G[E]=A.unformat(this,{rowId:D.rows[F].id,colModel:D.p.colModel[J]},J)}catch(I){G[E]=A.jgrid.htmlDecode(A(this).html())}}}});G.id=this.id;B.push(G)}})});return B}})})(jQuery);(function(J){J.fn.jqm=function(L){var M={overlay:50,closeoverlay:true,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:I,ajaxText:"",target:I,modal:I,toTop:I,onShow:I,onHide:I,onLoad:I};return this.each(function(){if(this._jqm){return H[this._jqm].c=J.extend({},H[this._jqm].c,L)}F++;this._jqm=F;H[F]={c:J.extend(M,J.jqm.params,L),a:I,w:J(this).addClass("jqmID"+F),s:F};M.trigger&&J(this).jqmAddTrigger(M.trigger)})};J.fn.jqmAddClose=function(L){return D(this,L,"jqmHide")};J.fn.jqmAddTrigger=function(L){return D(this,L,"jqmShow")};J.fn.jqmShow=function(L){return this.each(function(){J.jqm.open(this._jqm,L)})};J.fn.jqmHide=function(L){return this.each(function(){J.jqm.close(this._jqm,L)})};J.jqm={hash:{},open:function(M,Q){var S=H[M],R=S.c,O="."+R.closeClass,P=parseInt(S.w.css("z-index"));P=P>0?P:3000;var N=J("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":P-1,opacity:R.overlay/100});if(S.a){return I}S.t=Q;S.a=true;S.w.css("z-index",P);if(R.modal){G[0]||setTimeout(function(){C("bind")},1);G.push(M)}else{if(R.overlay>0){R.closeoverlay&&S.w.jqmAddClose(N)}else{N=I}}S.o=N?N.addClass(R.overlayClass).prependTo("body"):I;if(B){J("html,body").css({height:"100%",width:"100%"});if(N){N=N.css({position:"absolute"})[0];for(var L in {Top:1,Left:1}){N.style.setExpression(L.toLowerCase(),"(_=(document.documentElement.scroll"+L+" || document.body.scroll"+L+"))+'px'")}}}if(R.ajax){M=R.target||S.w;P=R.ajax;M=typeof M=="string"?J(M,S.w):J(M);P=P.substr(0,1)=="@"?J(Q).attr(P.substring(1)):P;M.html(R.ajaxText).load(P,function(){R.onLoad&&R.onLoad.call(this,S);O&&S.w.jqmAddClose(J(O,S.w));A(S)})}else{O&&S.w.jqmAddClose(J(O,S.w))}R.toTop&&S.o&&S.w.before('<span id="jqmP'+S.w[0]._jqm+'"></span>').insertAfter(S.o);R.onShow?R.onShow(S):S.w.show();A(S);return I},close:function(L){L=H[L];if(!L.a){return I}L.a=I;if(G[0]){G.pop();G[0]||C("unbind")}L.c.toTop&&L.o&&J("#jqmP"+L.w[0]._jqm).after(L.w).remove();if(L.c.onHide){L.c.onHide(L)}else{L.w.hide();L.o&&L.o.remove()}return I},params:{}};var F=0,H=J.jqm.hash,G=[],B=J.browser.msie&&J.browser.version=="6.0",I=false,A=function(L){var M=J('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0});if(B){if(L.o){L.o.html('<p style="width:100%;height:100%"/>').prepend(M)}else{J("iframe.jqm",L.w)[0]||L.w.prepend(M)}}K(L)},K=function(L){try{J(":input:visible",L.w)[0].focus()}catch(M){}},C=function(L){J(document)[L]("keypress",E)[L]("keydown",E)[L]("mousedown",E)},E=function(L){var M=H[G[G.length-1]];(L=!J(L.target).parents(".jqmID"+M.s)[0])&&K(M);return !L},D=function(L,M,N){return L.each(function(){var O=this._jqm;J(M).each(function(){if(!this[N]){this[N]=[];J(this).click(function(){for(var P in {jqmShow:1,jqmHide:1}){for(var Q in this[P]){H[this[P][Q]]&&H[this[P][Q]].w[P](this)}}return I})}this[N].push(O)})})}})(jQuery);(function(A){A.fn.jqDrag=function(H){return B(this,H,"d")};A.fn.jqResize=function(H,I){return B(this,H,"r",I)};A.jqDnR={dnr:{},e:0,drag:function(H){if(G.k=="d"){F.css({left:G.X+H.pageX-G.pX,top:G.Y+H.pageY-G.pY})}else{F.css({width:Math.max(H.pageX-G.pX+G.W,0),height:Math.max(H.pageY-G.pY+G.H,0)});M1&&E.css({width:Math.max(H.pageX-M1.pX+M1.W,0),height:Math.max(H.pageY-M1.pY+M1.H,0)})}return false},stop:function(){A(document).unbind("mousemove",D.drag).unbind("mouseup",D.stop)}};var D=A.jqDnR,G=D.dnr,F=D.e,E,B=function(I,J,K,H){return I.each(function(){J=J?A(J,I):I;J.bind("mousedown",{e:I,k:K},function(N){var L=N.data,M={};F=L.e;E=H?A(H):false;if(F.css("position")!="relative"){try{F.position(M)}catch(P){}}G={X:M.left||C("left")||0,Y:M.top||C("top")||0,W:C("width")||F[0].scrollWidth||0,H:C("height")||F[0].scrollHeight||0,pX:N.pageX,pY:N.pageY,k:L.k};M1=E&&L.k!="d"?{X:M.left||f1("left")||0,Y:M.top||f1("top")||0,W:E[0].offsetWidth||f1("width")||0,H:E[0].offsetHeight||f1("height")||0,pX:N.pageX,pY:N.pageY,k:L.k}:false;try{A("input.hasDatepicker",F[0]).datepicker("hide")}catch(O){}A(document).mousemove(A.jqDnR.drag).mouseup(A.jqDnR.stop);return false})})},C=function(H){return parseInt(F.css(H))||false};f1=function(H){return parseInt(E.css(H))||false}})(jQuery);(function(A){A.jgrid.extend({setSubGrid:function(){return this.each(function(){var B=this;B.p.colNames.unshift("");B.p.colModel.unshift({name:"subgrid",width:A.browser.safari?B.p.subGridWidth+B.p.cellLayout:B.p.subGridWidth,sortable:false,resizable:false,hidedlg:true,search:false,fixed:true});B=B.p.subGridModel;if(B[0]){B[0].align=A.extend([],B[0].align||[]);for(var C=0;C<B[0].name.length;C++){B[0].align[C]=B[0].align[C]||"left"}}})},addSubGridCell:function(C,F){var B="",E,D;this.each(function(){B=this.formatCol(C,F);E=this.p.gridview;D=this.p.id});return E===false?'<td role="grid" aria-describedby="'+D+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+B+"><a href='javascript:void(0);'><span class='ui-icon ui-icon-plus'></span></a></td>":'<td role="grid" aria-describedby="'+D+'_subgrid" '+B+"></td>"},addSubGrid:function(B,C){return this.each(function(){var I=this;if(I.grid){var G=function(Q,P,R){P=A("<td align='"+I.p.subGridModel[0].align[R]+"'></td>").html(P);A(Q).append(P)},F=function(T,Q){var U,V,S,R=A("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),P=A("<tr></tr>");for(V=0;V<I.p.subGridModel[0].name.length;V++){U=A("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+I.p.direction+"'></th>");A(U).html(I.p.subGridModel[0].name[V]);A(U).width(I.p.subGridModel[0].width[V]);A(P).append(U)}A(R).append(P);if(T){S=I.p.xmlReader.subgrid;A(S.root+" "+S.row,T).each(function(){P=A("<tr class='ui-widget-content ui-subtblcell'></tr>");if(S.repeatitems===true){A(S.cell,this).each(function(X){G(P,A(this).text()||"&#160;",X)})}else{var W=I.p.subGridModel[0].mapping||I.p.subGridModel[0].name;if(W){for(V=0;V<W.length;V++){G(P,A(W[V],this).text()||"&#160;",V)}}}A(R).append(P)})}T=A("table:first",I.grid.bDiv).attr("id")+"_";A("#"+T+Q).append(R);I.grid.hDiv.loading=false;A("#load_"+I.p.id).hide();return false},M=function(V,S){var W,X,U,T,R=A("<table cellspacing='0' cellpadding='0' border='0'><tbody></tbody></table>"),Q=A("<tr></tr>");for(X=0;X<I.p.subGridModel[0].name.length;X++){W=A("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+I.p.direction+"'></th>");A(W).html(I.p.subGridModel[0].name[X]);A(W).width(I.p.subGridModel[0].width[X]);A(Q).append(W)}A(R).append(Q);if(V){W=I.p.jsonReader.subgrid;V=V[W.root];if(typeof V!=="undefined"){for(X=0;X<V.length;X++){U=V[X];Q=A("<tr class='ui-widget-content ui-subtblcell'></tr>");if(W.repeatitems===true){if(W.cell){U=U[W.cell]}for(T=0;T<U.length;T++){G(Q,U[T]||"&#160;",T)}}else{var P=I.p.subGridModel[0].mapping||I.p.subGridModel[0].name;if(P.length){for(T=0;T<P.length;T++){G(Q,U[P[T]]||"&#160;",T)}}}A(R).append(Q)}}}X=A("table:first",I.grid.bDiv).attr("id")+"_";A("#"+X+S).append(R);I.grid.hDiv.loading=false;A("#load_"+I.p.id).hide();return false},J=function(R){var P,S,T,Q;P=A(R).attr("id");S={nd_:(new Date).getTime()};S[I.p.prmNames.subgridid]=P;if(!I.p.subGridModel[0]){return false}if(I.p.subGridModel[0].params){for(Q=0;Q<I.p.subGridModel[0].params.length;Q++){for(T=0;T<I.p.colModel.length;T++){if(I.p.colModel[T].name==I.p.subGridModel[0].params[Q]){S[I.p.colModel[T].name]=A("td:eq("+T+")",R).text().replace(/\&#160\;/ig,"")}}}}if(!I.grid.hDiv.loading){I.grid.hDiv.loading=true;A("#load_"+I.p.id).show();if(!I.p.subgridtype){I.p.subgridtype=I.p.datatype}if(A.isFunction(I.p.subgridtype)){I.p.subgridtype.call(I,S)}else{I.p.subgridtype=I.p.subgridtype.toLowerCase()}switch(I.p.subgridtype){case"xml":case"json":A.ajax(A.extend({type:I.p.mtype,url:I.p.subGridUrl,dataType:I.p.subgridtype,data:A.isFunction(I.p.serializeSubGridData)?I.p.serializeSubGridData(I,S):S,complete:function(U){I.p.subgridtype=="xml"?F(U.responseXML,P):M(A.jgrid.parse(U.responseText),P)}},A.jgrid.ajaxOptions,I.p.ajaxSubgridOptions||{}));break}}return false},D,H,O,L,N,K,E;A("td:eq("+C+")",B).click(function(){if(A(this).hasClass("sgcollapsed")){O=I.p.id;D=A(this).parent();L=C>=1?"<td colspan='"+C+"'>&#160;</td>":"";H=A(D).attr("id");E=true;if(A.isFunction(I.p.subGridBeforeExpand)){E=I.p.subGridBeforeExpand.call(I,O+"_"+H,H)}if(E===false){return false}N=0;A.each(I.p.colModel,function(){if(this.hidden===true||this.name=="rn"||this.name=="cb"){N++}});K="<tr role='row' class='ui-subgrid'>"+L+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon ui-icon-carat-1-sw'/></td><td colspan='"+parseInt(I.p.colNames.length-1-N,10)+"' class='ui-widget-content subgrid-data'><div id="+O+"_"+H+" class='tablediv'>";A(this).parent().after(K+"</div></td></tr>");A.isFunction(I.p.subGridRowExpanded)?I.p.subGridRowExpanded.call(I,O+"_"+H,H):J(D);A(this).html("<a href='javascript:void(0);'><span class='ui-icon ui-icon-minus'></span></a>").removeClass("sgcollapsed").addClass("sgexpanded")}else{if(A(this).hasClass("sgexpanded")){E=true;if(A.isFunction(I.p.subGridRowColapsed)){D=A(this).parent();H=A(D).attr("id");E=I.p.subGridRowColapsed.call(I,O+"_"+H,H)}if(E===false){return false}A(this).parent().next().remove(".ui-subgrid");A(this).html("<a href='javascript:void(0);'><span class='ui-icon ui-icon-plus'></span></a>").removeClass("sgexpanded").addClass("sgcollapsed")}}return false});I.subGridXml=function(Q,P){F(Q,P)};I.subGridJson=function(Q,P){M(Q,P)}}})},expandSubGridRow:function(B){return this.each(function(){var C=this;if(C.grid||B){if(C.p.subGrid===true){if(C=A(this).jqGrid("getInd",B,true)){(C=A("td.sgcollapsed",C)[0])&&A(C).trigger("click")}}}})},collapseSubGridRow:function(B){return this.each(function(){var C=this;if(C.grid||B){if(C.p.subGrid===true){if(C=A(this).jqGrid("getInd",B,true)){(C=A("td.sgexpanded",C)[0])&&A(C).trigger("click")}}}})},toggleSubGridRow:function(B){return this.each(function(){var D=this;if(D.grid||B){if(D.p.subGrid===true){if(D=A(this).jqGrid("getInd",B,true)){var C=A("td.sgcollapsed",D)[0];if(C){A(C).trigger("click")}else{(C=A("td.sgexpanded",D)[0])&&A(C).trigger("click")}}}}})}})})(jQuery);(function(A){A.jgrid.extend({groupingSetup:function(){return this.each(function(){var B=this,G=B.p.groupingView;if(G!==null&&(typeof G==="object"||A.isFunction(G))){if(G.groupField.length){for(var C=0;C<G.groupField.length;C++){G.groupOrder[C]||(G.groupOrder[C]="asc");G.groupText[C]||(G.groupText[C]="{0}");if(typeof G.groupColumnShow[C]!="boolean"){G.groupColumnShow[C]=true}if(typeof G.groupSummary[C]!="boolean"){G.groupSummary[C]=false}G.groupColumnShow[C]===true?A(B).jqGrid("showCol",G.groupField[C]):A(B).jqGrid("hideCol",G.groupField[C]);G.sortitems[C]=[];G.sortnames[C]=[];G.summaryval[C]=[];if(G.groupSummary[C]){G.summary[C]=[];for(var F=B.p.colModel,E=0,D=F.length;E<D;E++){F[E].summaryType&&G.summary[C].push({nm:F[E].name,st:F[E].summaryType,v:""})}}}B.p.scroll=false;B.p.rownumbers=false;B.p.subGrid=false;B.p.treeGrid=false;B.p.gridview=true}else{B.p.grouping=false}}else{B.p.grouping=false}})},groupingPrepare:function(B,E,C,D){this.each(function(){var H=E[0]?E[0].split(" ").join(""):"",G=this.p.groupingView,F=this;if(C.hasOwnProperty(H)){C[H].push(B)}else{C[H]=[];C[H].push(B);G.sortitems[0].push(H);G.sortnames[0].push(A.trim(E[0]));G.summaryval[0][H]=A.extend(true,{},G.summary[0])}G.groupSummary[0]&&A.each(G.summaryval[0][H],function(){this.v=A.isFunction(this.st)?this.st.call(F,this.v,this.nm,D):A(F).jqGrid("groupingCalculations."+this.st,this.v,this.nm,D)})});return C},groupingToggle:function(B){this.each(function(){var G=this.p.groupingView,C=B.lastIndexOf("_"),F=B.substring(0,C+1);C=parseInt(B.substring(C+1),10)+1;var E=G.minusicon,D=G.plusicon;if(A("#"+B+" span").hasClass(E)){G.showSummaryOnHide&&G.groupSummary[0]?A("#"+B).nextUntil(".jqfoot").hide():A("#"+B).nextUntil("#"+F+String(C)).hide();A("#"+B+" span").removeClass(E).addClass(D)}else{A("#"+B).nextUntil("#"+F+String(C)).show();A("#"+B+" span").removeClass(D).addClass(E)}});return false},groupingRender:function(B,C){return this.each(function(){var E=this,I=E.p.groupingView,H="",G="",F,D="";if(!I.groupDataSorted){I.sortitems[0].sort();I.sortnames[0].sort();I.groupOrder[0].toLowerCase()=="desc"&&I.sortitems[0].reverse()}D=I.groupCollapse?I.plusicon:I.minusicon;D+=" tree-wrap-"+E.p.direction;A.each(I.sortitems[0],function(M,K){F=E.p.id+"ghead_"+M;G="<span style='cursor:pointer;' class='ui-icon "+D+"' onclick=\"jQuery('#"+E.p.id+"').jqGrid('groupingToggle','"+F+"');return false;\"></span>";H+='<tr id="'+F+'" role="row" class= "ui-widget-content jqgroup ui-row-'+E.p.direction+'"><td colspan="'+C+'">'+G+A.jgrid.format(I.groupText[0],I.sortnames[0][M],B[K].length)+"</td></tr>";for(M=0;M<B[K].length;M++){H+=B[K][M].join("")}if(I.groupSummary[0]){M="";if(I.groupCollapse&&!I.showSummaryOnHide){M=' style="display:none;"'}H+="<tr"+M+' role="row" class="ui-widget-content jqfoot ui-row-'+E.p.direction+'">';M=I.summaryval[0][K];for(var J=E.p.colModel,Q,P=B[K].length,L=0;L<C;L++){var O="<td "+E.formatCol(L,1,"")+">&#160;</td>",N="{0}";A.each(M,function(){if(this.nm==J[L].name){if(J[L].summaryTpl){N=J[L].summaryTpl}if(this.st=="avg"){if(this.v&&P>0){this.v/=P}}try{Q=E.formatter("",this.v,L,this)}catch(R){Q=this.v}O="<td "+E.formatCol(L,1,"")+">"+A.jgrid.format(N,Q)+"</td>";return false}});H+=O}H+="</tr>"}});A("#"+E.p.id+" tbody:first").append(H);H=null})},groupingGroupBy:function(B,C){return this.each(function(){var D=this;if(typeof B=="string"){B=[B]}var F=D.p.groupingView;D.p.grouping=true;for(var E=0;E<F.groupField.length;E++){F.groupColumnShow[E]||A(D).jqGrid("showCol",F.groupField[E])}D.p.groupingView=A.extend(D.p.groupingView,C||{});F.groupField=B;A(D).trigger("reloadGrid")})},groupingRemove:function(B){return this.each(function(){var C=this;if(typeof B=="undefined"){B=true}C.p.grouping=false;B===true?A("tr.jqgroup, tr.jqfoot","#"+C.p.id+" tbody:first").remove():A(C).trigger("reloadGrid")})},groupingCalculations:{sum:function(B,D,C){return parseFloat(B||0)+parseFloat(C[D]||0)},min:function(B,D,C){if(B===""){return parseFloat(C[D]||0)}return Math.min(parseFloat(B),parseFloat(C[D]||0))},max:function(B,D,C){if(B===""){return parseFloat(C[D]||0)}return Math.max(parseFloat(B),parseFloat(C[D]||0))},count:function(B,D,C){if(B===""){B=0}return C.hasOwnProperty(D)?B+1:0},avg:function(B,D,C){return parseFloat(B||0)+parseFloat(C[D]||0)}}})})(jQuery);(function(A){A.jgrid.extend({setTreeNode:function(B,C){return this.each(function(){var D=this;if(D.grid&&D.p.treeGrid){var I=D.p.expColInd,J=D.p.treeReader.expanded_field,E=D.p.treeReader.leaf_field,F=D.p.treeReader.level_field;C.level=B[F];if(D.p.treeGridModel=="nested"){var G=B[D.p.treeReader.left_field],H=B[D.p.treeReader.right_field];B[E]||(B[E]=parseInt(H,10)===parseInt(G,10)+1?"true":"false")}H=parseInt(B[F],10);if(D.p.tree_root_level===0){G=H+1;H=H}else{G=H;H=H-1}G="<div class='tree-wrap tree-wrap-"+D.p.direction+"' style='width:"+G*18+"px;'>";G+="<div style='"+(D.p.direction=="rtl"?"right:":"left:")+H*18+"px;' class='ui-icon ";if(B[E]=="true"||B[E]===true){G+=D.p.treeIcons.leaf+" tree-leaf'";B[E]=true;B[J]=false}else{if(B[J]=="true"||B[J]===true){G+=D.p.treeIcons.minus+" tree-minus treeclick'";B[J]=true}else{G+=D.p.treeIcons.plus+" tree-plus treeclick'";B[J]=false}B[E]=false}G+="</div></div>";if(!D.p.loadonce){B[D.p.localReader.id]=C.id;D.p.data.push(B);D.p._index[C.id]=D.p.data.length-1}if(parseInt(B[F],10)!==parseInt(D.p.tree_root_level,10)){A(D).jqGrid("isVisibleNode",B)||A(C).css("display","none")}A("td:eq("+I+")",C).wrapInner("<span></span>").prepend(G);A(".treeclick",C).bind("click",function(L){L=A(L.target||L.srcElement,D.rows).closest("tr.jqgrow")[0].id;L=D.p._index[L];var K=D.p.treeReader.expanded_field;if(!D.p.data[L][D.p.treeReader.leaf_field]){if(D.p.data[L][K]){A(D).jqGrid("collapseRow",D.p.data[L]);A(D).jqGrid("collapseNode",D.p.data[L])}else{A(D).jqGrid("expandRow",D.p.data[L]);A(D).jqGrid("expandNode",D.p.data[L])}}return false});D.p.ExpandColClick===true&&A("span",C).css("cursor","pointer").bind("click",function(M){M=A(M.target||M.srcElement,D.rows).closest("tr.jqgrow")[0].id;var L=D.p._index[M],K=D.p.treeReader.expanded_field;if(!D.p.data[L][D.p.treeReader.leaf_field]){if(D.p.data[L][K]){A(D).jqGrid("collapseRow",D.p.data[L]);A(D).jqGrid("collapseNode",D.p.data[L])}else{A(D).jqGrid("expandRow",D.p.data[L]);A(D).jqGrid("expandNode",D.p.data[L])}}A(D).jqGrid("setSelection",M);return false})}})},setTreeGrid:function(){return this.each(function(){var B=this,D=0;if(B.p.treeGrid){B.p.treedatatype||A.extend(B.p,{treedatatype:B.p.datatype});B.p.subGrid=false;B.p.altRows=false;B.p.pgbuttons=false;B.p.pginput=false;B.p.multiselect=false;B.p.rowList=[];B.p.treeIcons=A.extend({plus:"ui-icon-triangle-1-"+(B.p.direction=="rtl"?"w":"e"),minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},B.p.treeIcons||{});if(B.p.treeGridModel=="nested"){B.p.treeReader=A.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded"},B.p.treeReader)}else{if(B.p.treeGridModel=="adjacency"){B.p.treeReader=A.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded"},B.p.treeReader)}}for(var C in B.p.colModel){if(B.p.colModel.hasOwnProperty(C)){if(B.p.colModel[C].name==B.p.ExpandColumn){B.p.expColInd=D;break}D++}}if(!B.p.expColInd){B.p.expColInd=0}A.each(B.p.treeReader,function(E,F){if(F){B.p.colNames.push(F);B.p.colModel.push({name:F,width:1,hidden:true,sortable:false,resizable:false,hidedlg:true,editable:true,search:false})}})}})},expandRow:function(B){this.each(function(){var E=this;if(E.grid&&E.p.treeGrid){var C=A(E).jqGrid("getNodeChildren",B),D=E.p.treeReader.expanded_field;A(C).each(function(){var F=A.jgrid.getAccessor(this,E.p.localReader.id);A("#"+F,E.grid.bDiv).css("display","");this[D]&&A(E).jqGrid("expandRow",this)})}})},collapseRow:function(B){this.each(function(){var E=this;if(E.grid&&E.p.treeGrid){var C=A(E).jqGrid("getNodeChildren",B),D=E.p.treeReader.expanded_field;A(C).each(function(){var F=A.jgrid.getAccessor(this,E.p.localReader.id);A("#"+F,E.grid.bDiv).css("display","none");this[D]&&A(E).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var B=[];this.each(function(){var E=this;if(E.grid&&E.p.treeGrid){switch(E.p.treeGridModel){case"nested":var C=E.p.treeReader.level_field;A(E.p.data).each(function(){parseInt(this[C],10)===parseInt(E.p.tree_root_level,10)&&B.push(this)});break;case"adjacency":var D=E.p.treeReader.parent_id_field;A(E.p.data).each(function(){if(this[D]===null||String(this[D]).toLowerCase()=="null"){B.push(this)}});break}}});return B},getNodeDepth:function(B){var C=null;this.each(function(){if(this.grid&&this.p.treeGrid){var D=this;switch(D.p.treeGridModel){case"nested":C=parseInt(B[D.p.treeReader.level_field],10)-parseInt(D.p.tree_root_level,10);break;case"adjacency":C=A(D).jqGrid("getNodeAncestors",B).length;break}}});return C},getNodeParent:function(B){var C=null;this.each(function(){var L=this;if(L.grid&&L.p.treeGrid){switch(L.p.treeGridModel){case"nested":var J=L.p.treeReader.left_field,K=L.p.treeReader.right_field,E=L.p.treeReader.level_field,F=parseInt(B[J],10),G=parseInt(B[K],10),H=parseInt(B[E],10);A(this.p.data).each(function(){if(parseInt(this[E],10)===H-1&&parseInt(this[J],10)<F&&parseInt(this[K],10)>G){C=this;return false}});break;case"adjacency":var I=L.p.treeReader.parent_id_field,D=L.p.localReader.id;A(this.p.data).each(function(){if(this[D]==B[I]){C=this;return false}});break}}});return C},getNodeChildren:function(B){var C=[];this.each(function(){var L=this;if(L.grid&&L.p.treeGrid){switch(L.p.treeGridModel){case"nested":var J=L.p.treeReader.left_field,K=L.p.treeReader.right_field,E=L.p.treeReader.level_field,F=parseInt(B[J],10),G=parseInt(B[K],10),H=parseInt(B[E],10);A(this.p.data).each(function(){parseInt(this[E],10)===H+1&&parseInt(this[J],10)>F&&parseInt(this[K],10)<G&&C.push(this)});break;case"adjacency":var I=L.p.treeReader.parent_id_field,D=L.p.localReader.id;A(this.p.data).each(function(){this[I]==B[D]&&C.push(this)});break}}});return C},getFullTreeNode:function(B){var C=[];this.each(function(){var M=this,K;if(M.grid&&M.p.treeGrid){switch(M.p.treeGridModel){case"nested":var L=M.p.treeReader.left_field,F=M.p.treeReader.right_field,G=M.p.treeReader.level_field,H=parseInt(B[L],10),I=parseInt(B[F],10),J=parseInt(B[G],10);A(this.p.data).each(function(){parseInt(this[G],10)>=J&&parseInt(this[L],10)>=H&&parseInt(this[L],10)<=I&&C.push(this)});break;case"adjacency":C.push(B);var E=M.p.treeReader.parent_id_field,D=M.p.localReader.id;A(this.p.data).each(function(N){K=C.length;for(N=0;N<K;N++){if(C[N][D]==this[E]){C.push(this);break}}});break}}});return C},getNodeAncestors:function(B){var C=[];this.each(function(){if(this.grid&&this.p.treeGrid){for(var D=A(this).jqGrid("getNodeParent",B);D;){C.push(D);D=A(this).jqGrid("getNodeParent",D)}}});return C},isVisibleNode:function(B){var C=true;this.each(function(){var D=this;if(D.grid&&D.p.treeGrid){var E=A(D).jqGrid("getNodeAncestors",B),F=D.p.treeReader.expanded_field;A(E).each(function(){C=C&&this[F];if(!C){return false}})}});return C},isNodeLoaded:function(B){var C;this.each(function(){var D=this;if(D.grid&&D.p.treeGrid){var E=D.p.treeReader.leaf_field;C=B.loaded!==undefined?B.loaded:B[E]||A(D).jqGrid("getNodeChildren",B).length>0?true:false}});return C},expandNode:function(B){return this.each(function(){if(this.grid&&this.p.treeGrid){var F=this.p.treeReader.expanded_field;if(!B[F]){var C=A.jgrid.getAccessor(B,this.p.localReader.id),D=A("#"+C,this.grid.bDiv)[0],E=this.p._index[C];if(A(this).jqGrid("isNodeLoaded",this.p.data[E])){B[F]=true;A("div.treeclick",D).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")}else{B[F]=true;A("div.treeclick",D).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus");this.p.treeANode=D.rowIndex;this.p.datatype=this.p.treedatatype;this.p.treeGridModel=="nested"?A(this).jqGrid("setGridParam",{postData:{nodeid:C,n_left:B.lft,n_right:B.rgt,n_level:B.level}}):A(this).jqGrid("setGridParam",{postData:{nodeid:C,parentid:B.parent_id,n_level:B.level}});A(this).trigger("reloadGrid");this.p.treeGridModel=="nested"?A(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):A(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}})}}}})},collapseNode:function(B){return this.each(function(){if(this.grid&&this.p.treeGrid){if(B.expanded){B.expanded=false;var C=A.jgrid.getAccessor(B,this.p.localReader.id);C=A("#"+C,this.grid.bDiv)[0];A("div.treeclick",C).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus")}}})},SortTree:function(B,E,C,D){return this.each(function(){if(this.grid&&this.p.treeGrid){var K,F,G,H=[],I=this,J;K=A(this).jqGrid("getRootNodes");K=A.jgrid.from(K);K.orderBy(B,E,C,D);J=K.select();K=0;for(F=J.length;K<F;K++){G=J[K];H.push(G);A(this).jqGrid("collectChildrenSortTree",H,G,B,E,C,D)}A.each(H,function(M){var L=A.jgrid.getAccessor(this,I.p.localReader.id);if(M===0){M=A("#"+L,I.grid.bDiv);A("td",M).each(function(N){A(this).css("width",I.grid.headers[N].width+"px")});I.grid.cols=M[0].cells}A("tbody",I.grid.bDiv).append(A("#"+L,I.grid.bDiv))});H=J=K=null}})},collectChildrenSortTree:function(B,G,C,E,F,D){return this.each(function(){if(this.grid&&this.p.treeGrid){var H,I,J,K;H=A(this).jqGrid("getNodeChildren",G);H=A.jgrid.from(H);H.orderBy(C,E,F,D);K=H.select();H=0;for(I=K.length;H<I;H++){J=K[H];B.push(J);A(this).jqGrid("collectChildrenSortTree",B,J,C,E,F,D)}}})},setTreeRow:function(B,D){var C=false;this.each(function(){var E=this;if(E.grid&&E.p.treeGrid){C=A(E).jqGrid("setRowData",B,D)}});return C},delTreeNode:function(B){return this.each(function(){var F=this;if(F.grid&&F.p.treeGrid){var C=A(F).jqGrid("getInd",B,true);if(C){var D=A(F).jqGrid("getNodeChildren",C);if(D.length>0){for(var E=0;E<D.length;E++){A(F).jqGrid("delRowData",D[E].id)}}A(F).jqGrid("delRowData",C.id)}}})}})})(jQuery);(function(A){A.jgrid.extend({jqGridImport:function(B){B=A.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},B||{});return this.each(function(){var E=this,F=function(K,I){var J=A(I.xmlGrid.config,K)[0];I=A(I.xmlGrid.data,K)[0];var G;if(xmlJsonClass.xml2json&&A.jgrid.parse){J=xmlJsonClass.xml2json(J," ");J=A.jgrid.parse(J);for(var H in J){if(J.hasOwnProperty(H)){G=J[H]}}if(I){H=J.grid.datatype;J.grid.datatype="xmlstring";J.grid.datastr=K;A(E).jqGrid(G).jqGrid("setGridParam",{datatype:H})}else{A(E).jqGrid(G)}}else{alert("xml2json or parse are not present")}},D=function(I,G){if(I&&typeof I=="string"){var H=A.jgrid.parse(I);I=H[G.jsonGrid.config];if(G=H[G.jsonGrid.data]){H=I.datatype;I.datatype="jsonstring";I.datastr=G;A(E).jqGrid(I).jqGrid("setGridParam",{datatype:H})}else{A(E).jqGrid(I)}}};switch(B.imptype){case"xml":A.ajax(A.extend({url:B.impurl,type:B.mtype,data:B.impData,dataType:"xml",complete:function(H,G){if(G=="success"){F(H.responseXML,B);A.isFunction(B.importComplete)&&B.importComplete(H)}}},B.ajaxOptions));break;case"xmlstring":if(B.impstring&&typeof B.impstring=="string"){var C=A.jgrid.stringToDoc(B.impstring);if(C){F(C,B);A.isFunction(B.importComplete)&&B.importComplete(C);B.impstring=null}C=null}break;case"json":A.ajax(A.extend({url:B.impurl,type:B.mtype,data:B.impData,dataType:"json",complete:function(H,G){if(G=="success"){D(H.responseText,B);A.isFunction(B.importComplete)&&B.importComplete(H)}}},B.ajaxOptions));break;case"jsonstring":if(B.impstring&&typeof B.impstring=="string"){D(B.impstring,B);A.isFunction(B.importComplete)&&B.importComplete(B.impstring);B.impstring=null}break}})},jqGridExport:function(B){B=A.extend({exptype:"xmlstring",root:"grid",ident:"\t"},B||{});var C=null;this.each(function(){if(this.grid){var E=A.extend({},A(this).jqGrid("getGridParam"));if(E.rownumbers){E.colNames.splice(0,1);E.colModel.splice(0,1)}if(E.multiselect){E.colNames.splice(0,1);E.colModel.splice(0,1)}if(E.subGrid){E.colNames.splice(0,1);E.colModel.splice(0,1)}E.knv=null;if(E.treeGrid){for(var D in E.treeReader){if(E.treeReader.hasOwnProperty(D)){E.colNames.splice(E.colNames.length-1);E.colModel.splice(E.colModel.length-1)}}}switch(B.exptype){case"xmlstring":C="<"+B.root+">"+xmlJsonClass.json2xml(E,B.ident)+"</"+B.root+">";break;case"jsonstring":C="{"+xmlJsonClass.toJson(E,B.root,B.ident)+"}";if(E.postData.filters!==undefined){C=C.replace(/filters":"/,'filters":');C=C.replace(/}]}"/,"}]}")}break}}});return C},excelExport:function(B){B=A.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},B||{});return this.each(function(){if(this.grid){var C;if(B.exptype=="remote"){C=A.extend({},this.p.postData);C[B.oper]=B.tag;C=jQuery.param(C);C=B.url.indexOf("?")!=-1?B.url+"&"+C:B.url+"?"+C;window.location=C}}})}})})(jQuery);var xmlJsonClass={xml2json:function(B,A){if(B.nodeType===9){B=B.documentElement}B=this.toJson(this.toObj(this.removeWhite(B)),B.nodeName,"\t");return"{\n"+A+(A?B.replace(/\t/g,A):B.replace(/\t|\n/g,""))+"\n}"},json2xml:function(B,A){var C=function(K,L,H){var I="",G,J;if(K instanceof Array){if(K.length===0){I+=H+"<"+L+">__EMPTY_ARRAY_</"+L+">\n"}else{G=0;for(J=K.length;G<J;G+=1){var F=H+C(K[G],L,H+"\t")+"\n";I+=F}}}else{if(typeof K==="object"){G=false;I+=H+"<"+L;for(J in K){if(K.hasOwnProperty(J)){if(J.charAt(0)==="@"){I+=" "+J.substr(1)+'="'+K[J].toString()+'"'}else{G=true}}}I+=G?">":"/>";if(G){for(J in K){if(K.hasOwnProperty(J)){if(J==="#text"){I+=K[J]}else{if(J==="#cdata"){I+="<![CDATA["+K[J]+"]]>"}else{if(J.charAt(0)!=="@"){I+=C(K[J],J,H+"\t")}}}}}I+=(I.charAt(I.length-1)==="\n"?H:"")+"</"+L+">"}}else{I+=typeof K==="function"?H+"<"+L+"><![CDATA["+K+"]]></"+L+">":K.toString()==='""'||K.toString().length===0?H+"<"+L+">__EMPTY_STRING_</"+L+">":H+"<"+L+">"+K.toString()+"</"+L+">"}}return I},E="",D;for(D in B){if(B.hasOwnProperty(D)){E+=C(B[D],D,"")}}return A?E.replace(/\t/g,A):E.replace(/\t|\n/g,"")},toObj:function(B){var A={},C=/function/i;if(B.nodeType===1){if(B.attributes.length){var E;for(E=0;E<B.attributes.length;E+=1){A["@"+B.attributes[E].nodeName]=(B.attributes[E].nodeValue||"").toString()}}if(B.firstChild){var D=E=0,F=false,G;for(G=B.firstChild;G;G=G.nextSibling){if(G.nodeType===1){F=true}else{if(G.nodeType===3&&G.nodeValue.match(/[^ \f\n\r\t\v]/)){E+=1}else{if(G.nodeType===4){D+=1}}}}if(F){if(E<2&&D<2){this.removeWhite(B);for(G=B.firstChild;G;G=G.nextSibling){if(G.nodeType===3){A["#text"]=this.escape(G.nodeValue)}else{if(G.nodeType===4){if(C.test(G.nodeValue)){A[G.nodeName]=[A[G.nodeName],G.nodeValue]}else{A["#cdata"]=this.escape(G.nodeValue)}}else{if(A[G.nodeName]){if(A[G.nodeName] instanceof Array){A[G.nodeName][A[G.nodeName].length]=this.toObj(G)}else{A[G.nodeName]=[A[G.nodeName],this.toObj(G)]}}else{A[G.nodeName]=this.toObj(G)}}}}}else{if(B.attributes.length){A["#text"]=this.escape(this.innerXml(B))}else{A=this.escape(this.innerXml(B))}}}else{if(E){if(B.attributes.length){A["#text"]=this.escape(this.innerXml(B))}else{A=this.escape(this.innerXml(B));if(A==="__EMPTY_ARRAY_"){A="[]"}else{if(A==="__EMPTY_STRING_"){A=""}}}}else{if(D){if(D>1){A=this.escape(this.innerXml(B))}else{for(G=B.firstChild;G;G=G.nextSibling){if(C.test(B.firstChild.nodeValue)){A=B.firstChild.nodeValue;break}else{A["#cdata"]=this.escape(G.nodeValue)}}}}}}}if(!B.attributes.length&&!B.firstChild){A=null}}else{if(B.nodeType===9){A=this.toObj(B.documentElement)}else{alert("unhandled node type: "+B.nodeType)}}return A},toJson:function(B,A,C){var E=A?'"'+A+'"':"";if(B==="[]"){E+=A?":[]":"[]"}else{if(B instanceof Array){var D,F,G=[];F=0;for(D=B.length;F<D;F+=1){G[F]=this.toJson(B[F],"",C+"\t")}E+=(A?":[":"[")+(G.length>1?"\n"+C+"\t"+G.join(",\n"+C+"\t")+"\n"+C:G.join(""))+"]"}else{if(B===null){E+=(A&&":")+"null"}else{if(typeof B==="object"){D=[];for(F in B){if(B.hasOwnProperty(F)){D[D.length]=this.toJson(B[F],F,C+"\t")}}E+=(A?":{":"{")+(D.length>1?"\n"+C+"\t"+D.join(",\n"+C+"\t")+"\n"+C:D.join(""))+"}"}else{if(typeof B==="string"){C=/function/i;D=B.toString();E+=/(^-?\d+\.?\d*$)/.test(D)||C.test(D)||D==="false"||D==="true"?(A&&":")+D:(A&&":")+'"'+B+'"'}else{E+=(A&&":")+B.toString()}}}}}return E},innerXml:function(B){var A="";if("innerHTML" in B){A=B.innerHTML}else{var C=function(E){var D="",F;if(E.nodeType===1){D+="<"+E.nodeName;for(F=0;F<E.attributes.length;F+=1){D+=" "+E.attributes[F].nodeName+'="'+(E.attributes[F].nodeValue||"").toString()+'"'}if(E.firstChild){D+=">";for(F=E.firstChild;F;F=F.nextSibling){D+=C(F)}D+="</"+E.nodeName+">"}else{D+="/>"}}else{if(E.nodeType===3){D+=E.nodeValue}else{if(E.nodeType===4){D+="<![CDATA["+E.nodeValue+"]]>"}}}return D};for(B=B.firstChild;B;B=B.nextSibling){A+=C(B)}}return A},escape:function(A){return A.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(B){B.normalize();var A;for(A=B.firstChild;A;){if(A.nodeType===3){if(A.nodeValue.match(/[^ \f\n\r\t\v]/)){A=A.nextSibling}else{var C=A.nextSibling;B.removeChild(A);A=C}}else{A.nodeType===1&&this.removeWhite(A);A=A.nextSibling}}return B}};(function(A){A.jgrid.extend({setColumns:function(B){B=A.extend({top:0,left:0,width:200,height:"auto",dataheight:"auto",modal:false,drag:true,beforeShowForm:null,afterShowForm:null,afterSubmitForm:null,closeOnEscape:true,ShrinkToFit:false,jqModal:false,saveicon:[true,"left","ui-icon-disk"],closeicon:[true,"left","ui-icon-close"],onClose:null,colnameview:true,closeAfterSubmit:true,updateAfterCheck:false,recreateForm:false},A.jgrid.col,B||{});return this.each(function(){var J=this;if(J.grid){var E=typeof B.beforeShowForm==="function"?true:false,D=typeof B.afterShowForm==="function"?true:false,C=typeof B.afterSubmitForm==="function"?true:false,H=J.p.id,I="ColTbl_"+H,G={themodal:"colmod"+H,modalhead:"colhd"+H,modalcontent:"colcnt"+H,scrollelm:I};B.recreateForm===true&&A("#"+G.themodal).html()!=null&&A("#"+G.themodal).remove();if(A("#"+G.themodal).html()!=null){E&&B.beforeShowForm(A("#"+I));viewModal("#"+G.themodal,{gbox:"#gbox_"+H,jqm:B.jqModal,jqM:false,modal:B.modal})}else{var F=isNaN(B.dataheight)?B.dataheight:B.dataheight+"px";F="<div id='"+I+"' class='formdata' style='width:100%;overflow:auto;position:relative;height:"+F+";'>";F+="<table class='ColTable' cellspacing='1' cellpading='2' border='0'><tbody>";for(i=0;i<this.p.colNames.length;i++){J.p.colModel[i].hidedlg||(F+="<tr><td style='white-space: pre;'><input type='checkbox' style='margin-right:5px;' id='col_"+this.p.colModel[i].name+"' class='cbox' value='T' "+(this.p.colModel[i].hidden===false?"checked":"")+"/><label for='col_"+this.p.colModel[i].name+"'>"+this.p.colNames[i]+(B.colnameview?" ("+this.p.colModel[i].name+")":"")+"</label></td></tr>")}F+="</tbody></table></div>";F+="<table border='0' class='EditTable' id='"+I+"_2'><tbody><tr style='display:block;height:3px;'><td></td></tr><tr><td class='DataTD ui-widget-content'></td></tr><tr><td class='ColButton EditButton'>"+(!B.updateAfterCheck?"<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+B.bSubmit+"</a>":"")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+B.bCancel+"</a>")+"</td></tr></tbody></table>";B.gbox="#gbox_"+H;createModal(G,F,B,"#gview_"+J.p.id,A("#gview_"+J.p.id)[0]);if(B.saveicon[0]==true){A("#dData","#"+I+"_2").addClass(B.saveicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+B.saveicon[2]+"'></span>")}if(B.closeicon[0]==true){A("#eData","#"+I+"_2").addClass(B.closeicon[1]=="right"?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+B.closeicon[2]+"'></span>")}B.updateAfterCheck?A(":input","#"+I).click(function(){var K=this.id.substr(4);if(K){this.checked?A(J).jqGrid("showCol",K):A(J).jqGrid("hideCol",K);B.ShrinkToFit===true&&A(J).jqGrid("setGridWidth",J.grid.width-0.001,true)}return this}):A("#dData","#"+I+"_2").click(function(){for(i=0;i<J.p.colModel.length;i++){if(!J.p.colModel[i].hidedlg){var K=J.p.colModel[i].name.replace(/\./g,"\\.");if(A("#col_"+K,"#"+I).attr("checked")){A(J).jqGrid("showCol",J.p.colModel[i].name);A("#col_"+K,"#"+I).attr("defaultChecked",true)}else{A(J).jqGrid("hideCol",J.p.colModel[i].name);A("#col_"+K,"#"+I).attr("defaultChecked","")}}}B.ShrinkToFit===true&&A(J).jqGrid("setGridWidth",J.grid.width-0.001,true);B.closeAfterSubmit&&hideModal("#"+G.themodal,{gb:"#gbox_"+H,jqm:B.jqModal,onClose:B.onClose});C&&B.afterSubmitForm(A("#"+I));return false});A("#eData","#"+I+"_2").click(function(){hideModal("#"+G.themodal,{gb:"#gbox_"+H,jqm:B.jqModal,onClose:B.onClose});return false});A("#dData, #eData","#"+I+"_2").hover(function(){A(this).addClass("ui-state-hover")},function(){A(this).removeClass("ui-state-hover")});E&&B.beforeShowForm(A("#"+I));viewModal("#"+G.themodal,{gbox:"#gbox_"+H,jqm:B.jqModal,jqM:true,modal:B.modal})}D&&B.afterShowForm(A("#"+I))}})}})})(jQuery);(function(A){A.jgrid.extend({getPostData:function(){var B=this[0];if(B.grid){return B.p.postData}},setPostData:function(C){var B=this[0];if(B.grid){if(typeof C==="object"){B.p.postData=C}else{alert("Error: cannot add a non-object postData value. postData unchanged.")}}},appendPostData:function(C){var B=this[0];if(B.grid){typeof C==="object"?A.extend(B.p.postData,C):alert("Error: cannot append a non-object postData value. postData unchanged.")}},setPostDataItem:function(C,B){var D=this[0];if(D.grid){D.p.postData[C]=B}},getPostDataItem:function(C){var B=this[0];if(B.grid){return B.p.postData[C]}},removePostDataItem:function(C){var B=this[0];B.grid&&delete B.p.postData[C]},getUserData:function(){var B=this[0];if(B.grid){return B.p.userData}},getUserDataItem:function(C){var B=this[0];if(B.grid){return B.p.userData[C]}}})})(jQuery);function tableToGrid(B,A){jQuery(B).each(function(){if(!this.grid){jQuery(this).width("99%");var K=jQuery(this).width(),H=jQuery("input[type=checkbox]:first",jQuery(this)),J=jQuery("input[type=radio]:first",jQuery(this));H=H.length>0;J=!H&&J.length>0;var C=H||J,I=[],F=[];jQuery("th",jQuery(this)).each(function(){if(I.length===0&&C){I.push({name:"__selection__",index:"__selection__",width:0,hidden:true});F.push("__selection__")}else{I.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150});F.push(jQuery(this).html())}});var G=[],E=[],D=[];jQuery("tbody > tr",jQuery(this)).each(function(){var L={},M=0;jQuery("td",jQuery(this)).each(function(){if(M===0&&C){var O=jQuery("input",jQuery(this)),N=O.attr("value");E.push(N||G.length);O.attr("checked")&&D.push(N);L[I[M].name]=O.attr("value")}else{L[I[M].name]=jQuery(this).html()}M++});M>0&&G.push(L)});jQuery(this).empty();jQuery(this).addClass("scroll");jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:K,colNames:F,colModel:I,multiselect:H},A||{}));for(K=0;K<G.length;K++){J=null;if(E.length>0){if((J=E[K])&&J.replace){J=encodeURIComponent(J).replace(/[.\-%]/g,"_")}}if(J===null){J=K+1}jQuery(this).jqGrid("addRowData",J,G[K])}for(K=0;K<D.length;K++){jQuery(this).jqGrid("setSelection",D[K])}}})}(function(a){if(a.browser.msie&&a.browser.version==8){a.expr[":"].hidden=function(b){return b.offsetWidth===0||b.offsetHeight===0||b.style.display=="none"}}a.jgrid._multiselect=false;if(a.ui){if(a.ui.multiselect){if(a.ui.multiselect.prototype._setSelected){var q=a.ui.multiselect.prototype._setSelected;a.ui.multiselect.prototype._setSelected=function(b,j){b=q.call(this,b,j);if(j&&this.selectedList){var c=this.element;this.selectedList.find("li").each(function(){a(this).data("optionLink")&&a(this).data("optionLink").remove().appendTo(c)})}return b}}if(a.ui.multiselect.prototype.destroy){a.ui.multiselect.prototype.destroy=function(){this.element.show();this.container.remove();a.Widget===undefined?a.widget.prototype.destroy.apply(this,arguments):a.Widget.prototype.destroy.apply(this,arguments)}}a.jgrid._multiselect=true}}a.jgrid.extend({sortableColumns:function(b){return this.each(function(){function j(){c.p.disableClick=true}var c=this,g={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_cb,#jqgh_rn,#jqgh_subgrid),:hidden)",placeholder:{element:function(e){return a(document.createElement(e[0].nodeName)).addClass(e[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(e,h){h.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));h.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}},update:function(e,h){e=a(h.item).parent();e=a(">th",e);var i={};a.each(c.p.colModel,function(m){i[this.name]=m});var l=[];e.each(function(){var m=a(">div",this).get(0).id.replace(/^jqgh_/,"");m in i&&l.push(i[m])});a(c).jqGrid("remapColumns",l,true,true);a.isFunction(c.p.sortable.update)&&c.p.sortable.update(l);setTimeout(function(){c.p.disableClick=false},50)}};if(c.p.sortable.options){a.extend(g,c.p.sortable.options)}else{if(a.isFunction(c.p.sortable)){c.p.sortable={update:c.p.sortable}}}if(g.start){var d=g.start;g.start=function(e,h){j();d.call(this,e,h)}}else{g.start=j}if(c.p.sortable.exclude){g.items+=":not("+c.p.sortable.exclude+")"}b.sortable(g).data("sortable").floating=true})},columnChooser:function(b){function j(f,k,p){if(k>=0){var o=f.slice(),r=o.splice(k,Math.max(f.length-k,k));if(k>f.length){k=f.length}o[k]=p;return o.concat(r)}}function c(f,k){if(f){if(typeof f=="string"){a.fn[f]&&a.fn[f].apply(k,a.makeArray(arguments).slice(2))}else{a.isFunction(f)&&f.apply(k,a.makeArray(arguments).slice(2))}}}var g=this;if(!a("#colchooser_"+g[0].p.id).length){var d=a('<div id="colchooser_'+g[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"></select></div></div>'),e=a("select",d);b=a.extend({width:420,height:240,classname:null,done:function(f){f&&g.jqGrid("remapColumns",f,true)},msel:"multiselect",dlog:"dialog",dlog_opts:function(f){var k={};k[f.bSubmit]=function(){f.apply_perm();f.cleanup(false)};k[f.bCancel]=function(){f.cleanup(true)};return{buttons:k,close:function(){f.cleanup(true)},modal:false,resizable:false,width:f.width+20}},apply_perm:function(){a("option",e).each(function(){this.selected?g.jqGrid("showCol",h[this.value].name):g.jqGrid("hideCol",h[this.value].name)});var f=[];a("option[selected]",e).each(function(){f.push(parseInt(this.value,10))});a.each(f,function(){delete l[h[parseInt(this,10)].name]});a.each(l,function(){var k=parseInt(this,10);f=j(f,k,k)});b.done&&b.done.call(g,f)},cleanup:function(f){c(b.dlog,d,"destroy");c(b.msel,e,"destroy");d.remove();f&&b.done&&b.done.call(g)},msel_opts:{}},a.jgrid.col,b||{});if(a.ui){if(a.ui.multiselect){if(b.msel=="multiselect"){if(!a.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return }b.msel_opts=a.extend(a.ui.multiselect.defaults,b.msel_opts)}}}b.caption&&d.attr("title",b.caption);if(b.classname){d.addClass(b.classname);e.addClass(b.classname)}if(b.width){a(">div",d).css({width:b.width,margin:"0 auto"});e.css("width",b.width)}if(b.height){a(">div",d).css("height",b.height);e.css("height",b.height-10)}var h=g.jqGrid("getGridParam","colModel"),i=g.jqGrid("getGridParam","colNames"),l={},m=[];e.empty();a.each(h,function(f){l[this.name]=f;if(this.hidedlg){this.hidden||m.push(f)}else{e.append("<option value='"+f+"' "+(this.hidden?"":"selected='selected'")+">"+i[f]+"</option>")}});var n=a.isFunction(b.dlog_opts)?b.dlog_opts.call(g,b):b.dlog_opts;c(b.dlog,d,n);n=a.isFunction(b.msel_opts)?b.msel_opts.call(g,b):b.msel_opts;c(b.msel,e,n)}},sortableRows:function(b){return this.each(function(){var j=this;if(j.grid){if(!j.p.treeGrid){if(a.fn.sortable){b=a.extend({cursor:"move",axis:"y",items:".jqgrow"},b||{});if(b.start&&a.isFunction(b.start)){b._start_=b.start;delete b.start}else{b._start_=false}if(b.update&&a.isFunction(b.update)){b._update_=b.update;delete b.update}else{b._update_=false}b.start=function(c,g){a(g.item).css("border-width","0px");a("td",g.item).each(function(h){this.style.width=j.grid.cols[h].style.width});if(j.p.subGrid){var d=a(g.item).attr("id");try{a(j).jqGrid("collapseSubGridRow",d)}catch(e){}}b._start_&&b._start_.apply(this,[c,g])};b.update=function(c,g){a(g.item).css("border-width","");j.p.rownumbers===true&&a("td.jqgrid-rownum",j.rows).each(function(d){a(this).html(d+1)});b._update_&&b._update_.apply(this,[c,g])};a("tbody:first",j).sortable(b);a("tbody:first",j).disableSelection()}}}})},gridDnD:function(b){return this.each(function(){function j(){var d=a.data(c,"dnd");a("tr.jqgrow:not(.ui-draggable)",c).draggable(a.isFunction(d.drag)?d.drag.call(a(c),d):d.drag)}var c=this;if(c.grid){if(!c.p.treeGrid){if(a.fn.draggable&&a.fn.droppable){a("#jqgrid_dnd").html()===null&&a("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'></table>");if(typeof b=="string"&&b=="updateDnD"&&c.p.jqgdnd===true){j()}else{b=a.extend({drag:function(d){return a.extend({start:function(e,h){if(c.p.subGrid){var i=a(h.helper).attr("id");try{a(c).jqGrid("collapseSubGridRow",i)}catch(l){}}for(i=0;i<a.data(c,"dnd").connectWith.length;i++){a(a.data(c,"dnd").connectWith[i]).jqGrid("getGridParam","reccount")=="0"&&a(a.data(c,"dnd").connectWith[i]).jqGrid("addRowData","jqg_empty_row",{})}h.helper.addClass("ui-state-highlight");a("td",h.helper).each(function(m){this.style.width=c.grid.headers[m].width+"px"});d.onstart&&a.isFunction(d.onstart)&&d.onstart.call(a(c),e,h)},stop:function(e,h){if(h.helper.dropped){var i=a(h.helper).attr("id");a(c).jqGrid("delRowData",i)}for(i=0;i<a.data(c,"dnd").connectWith.length;i++){a(a.data(c,"dnd").connectWith[i]).jqGrid("delRowData","jqg_empty_row")}d.onstop&&a.isFunction(d.onstop)&&d.onstop.call(a(c),e,h)}},d.drag_opts||{})},drop:function(d){return a.extend({accept:function(e){var h=a(e).closest("table.ui-jqgrid-btable");if(a.data(h[0],"dnd")!==undefined){e=a.data(h[0],"dnd").connectWith;return a.inArray("#"+this.id,e)!=-1?true:false}return e},drop:function(e,h){var i=a(h.draggable).attr("id");i=a("#"+c.id).jqGrid("getRowData",i);if(!d.dropbyname){var l=0,m={},n,f=a("#"+this.id).jqGrid("getGridParam","colModel");try{for(var k in i){if(i.hasOwnProperty(k)&&f[l]){n=f[l].name;m[n]=i[k]}l++}i=m}catch(p){}}h.helper.dropped=true;if(d.beforedrop&&a.isFunction(d.beforedrop)){n=d.beforedrop.call(this,e,h,i,a("#"+c.id),a(this));if(typeof n!="undefined"&&n!==null&&typeof n=="object"){i=n}}if(h.helper.dropped){var o;if(d.autoid){if(a.isFunction(d.autoid)){o=d.autoid.call(this,i)}else{o=Math.ceil(Math.random()*1000);o=d.autoidprefix+o}}a("#"+this.id).jqGrid("addRowData",o,i,d.droppos)}d.ondrop&&a.isFunction(d.ondrop)&&d.ondrop.call(this,e,h,i)}},d.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5000},dropbyname:false,droppos:"first",autoid:true,autoidprefix:"dnd_"},b||{});if(b.connectWith){b.connectWith=b.connectWith.split(",");b.connectWith=a.map(b.connectWith,function(d){return a.trim(d)});a.data(c,"dnd",b);c.p.reccount!="0"&&!c.p.jqgdnd&&j();c.p.jqgdnd=true;for(var g=0;g<b.connectWith.length;g++){a(b.connectWith[g]).droppable(a.isFunction(b.drop)?b.drop.call(a(c),b):b.drop)}}}}}}})},gridResize:function(b){return this.each(function(){var j=this;if(j.grid&&a.fn.resizable){b=a.extend({},b||{});if(b.alsoResize){b._alsoResize_=b.alsoResize;delete b.alsoResize}else{b._alsoResize_=false}if(b.stop&&a.isFunction(b.stop)){b._stop_=b.stop;delete b.stop}else{b._stop_=false}b.stop=function(c,g){a(j).jqGrid("setGridParam",{height:a("#gview_"+j.p.id+" .ui-jqgrid-bdiv").height()});a(j).jqGrid("setGridWidth",g.size.width,b.shrinkToFit);b._stop_&&b._stop_.call(j,c,g)};b.alsoResize=b._alsoResize_?eval("("+("{'#gview_"+j.p.id+" .ui-jqgrid-bdiv':true,'"+b._alsoResize_+"':true}")+")"):a(".ui-jqgrid-bdiv","#gview_"+j.p.id);delete b._alsoResize_;a("#gbox_"+j.p.id).resizable(b)}})}})})(jQuery);"use strict";(function(A){A.vakata={};A.vakata.css={get_css:function(F,C,D){F=F.toLowerCase();var E=D.cssRules||D.rules,B=0;do{if(E.length&&B>E.length+5){return false}if(E[B].selectorText&&E[B].selectorText.toLowerCase()==F){if(C===true){if(D.removeRule){D.removeRule(B)}if(D.deleteRule){D.deleteRule(B)}return true}else{return E[B]}}}while(E[++B]);return false},add_css:function(C,B){if(A.jstree.css.get_css(C,false,B)){return false}if(B.insertRule){B.insertRule(C+" { }",0)}else{B.addRule(C,null,0)}return A.vakata.css.get_css(C)},remove_css:function(C,B){return A.vakata.css.get_css(C,true,B)},add_sheet:function(C){var B;if(C.str){B=document.createElement("style");B.setAttribute("type","text/css");if(B.styleSheet){document.getElementsByTagName("head")[0].appendChild(B);B.styleSheet.cssText=C.str}else{B.appendChild(document.createTextNode(C.str));document.getElementsByTagName("head")[0].appendChild(B)}return B.sheet||B.styleSheet}if(C.url){if(document.createStyleSheet){try{B=document.createStyleSheet(C.url)}catch(D){}}else{B=document.createElement("link");B.rel="stylesheet";B.type="text/css";B.media="all";B.href=C.url;document.getElementsByTagName("head")[0].appendChild(B);return B.styleSheet}}}}})(jQuery);(function(E){var F=[],C=-1,B={},A={},D=false;E.fn.jstree=function(J){var G=(typeof J=="string"),H=Array.prototype.slice.call(arguments,1),I=this;if(!G&&E.meta){H.push(E.metadata.get(this).jstree)}J=!G&&H.length?E.extend.apply(null,[true,J].concat(H)):J;if(G&&J.substring(0,1)=="_"){return I}if(G){this.each(function(){var K=F[E.data(this,"jstree-instance-id")],L=(K&&E.isFunction(K[J]))?K[J].apply(K,H):K;if(typeof L!=="undefined"&&(J.indexOf("is_"===0)||(L!==true&&L!==false))){I=L;return false}})}else{this.each(function(){var L=E.data(this,"jstree-instance-id"),K=false;if(typeof L!=="undefined"&&F[L]){F[L].destroy()}L=parseInt(F.push({}),10)-1;E.data(this,"jstree-instance-id",L);if(!J){J={}}J.plugins=E.isArray(J.plugins)?J.plugins:E.jstree.defaults.plugins;if(E.inArray("core",J.plugins)===-1){J.plugins.unshift("core")}K=E.extend(true,{},E.jstree.defaults,J);K.plugins=J.plugins;E.each(B,function(M,N){if(E.inArray(M,K.plugins)===-1){K[M]=null;delete K[M]}});F[L]=new E.jstree._instance(L,E(this).addClass("jstree jstree-"+L),K);E.each(F[L]._get_settings().plugins,function(M,N){F[L].data[N]={}});E.each(F[L]._get_settings().plugins,function(M,N){if(B[N]){B[N].__init.apply(F[L])}});F[L].init()})}return I};E.jstree={defaults:{plugins:[]},_focused:function(){return F[C]||null},_reference:function(G){if(F[G]){return F[G]}var H=E(G);if(!H.length&&typeof G==="string"){H=E("#"+G)}if(!H.length){return null}return F[H.closest(".jstree").data("jstree-instance-id")]||null},_instance:function(H,G,I){this.data={core:{}};this.get_settings=function(){return E.extend(true,{},I)};this._get_settings=function(){return I};this.get_index=function(){return H};this.get_container=function(){return G};this._set_settings=function(J){I=E.extend(true,{},I,J)}},_fn:{},plugin:function(G,H){H=E.extend({},{__init:E.noop,__destroy:E.noop,_fn:{},defaults:false},H);B[G]=H;E.jstree.defaults[G]=H.defaults;E.each(H._fn,function(I,J){J.plugin=G;J.old=E.jstree._fn[I];E.jstree._fn[I]=function(){var K,M=J,L=Array.prototype.slice.call(arguments),O=new E.Event("before.jstree"),N=false;do{if(M&&M.plugin&&E.inArray(M.plugin,this._get_settings().plugins)!==-1){break}M=M.old}while(M);if(!M){return }K=this.get_container().triggerHandler(O,{func:I,inst:this,args:L});if(K===false){return }if(typeof K!=="undefined"){L=K}if(I.indexOf("_")===0){K=M.apply(this,L)}else{K=M.apply(E.extend({},this,{__callback:function(P){this.get_container().triggerHandler(I+".jstree",{inst:this,args:L,rslt:P,rlbk:N})},__rollback:function(){N=this.get_rollback();return N},__call_old:function(P){return M.old.apply(this,(P?Array.prototype.slice.call(arguments,1):L))}}),L)}return K};E.jstree._fn[I].old=J.old;E.jstree._fn[I].plugin=G})},rollback:function(G){if(G){if(!E.isArray(G)){G=[G]}E.each(G,function(H,I){F[I.i].set_rollback(I.h,I.d)})}}};E.jstree._fn=E.jstree._instance.prototype={};E(function(){var I=navigator.userAgent.toLowerCase(),H=(I.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],G=".jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } .jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; } .jstree-rtl li { margin-left:0; margin-right:18px; } .jstree > ul > li { margin-left:0px; } .jstree-rtl > ul > li { margin-right:0px; } .jstree ins { display:inline-block; text-decoration:none; width:18px; height:18px; margin:0 0 0 0; padding:0; } .jstree a { display:inline-block; line-height:16px; height:16px; color:black; white-space:nowrap; text-decoration:none; padding:1px 2px; margin:0; } .jstree a:focus { outline: none; } .jstree a > ins { height:16px; width:16px; } .jstree a > .jstree-icon { margin-right:3px; } .jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } li.jstree-open > ul { display:block; } li.jstree-closed > ul { display:none; } ";if(/msie/.test(I)&&parseInt(H,10)==6){D=true;G+=".jstree li { height:18px; margin-left:0; margin-right:0; } .jstree li li { margin-left:18px; } .jstree-rtl li li { margin-left:0px; margin-right:18px; } li.jstree-open ul { display:block; } li.jstree-closed ul { display:none !important; } .jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } .jstree li a ins { height:16px; width:16px; margin-right:3px; } .jstree-rtl li a ins { margin-right:0px; margin-left:3px; } "}if(/msie/.test(I)&&parseInt(H,10)==7){G+=".jstree li a { border-width:0 !important; padding:0px 2px !important; } "}E.vakata.css.add_sheet({str:G})});E.jstree.plugin("core",{__init:function(){this.data.core.to_open=E.map(E.makeArray(this.get_settings().core.initially_open),function(G){return"#"+G.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")})},defaults:{html_titles:false,animation:500,initially_open:[],rtl:false,strings:{loading:"Loading ...",new_node:"New node"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass("jstree-rtl").css("direction","rtl")}this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_settings().core.strings.loading+"</a></li></ul>");this.data.core.li_height=this.get_container().find("ul li.jstree-closed, ul li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",E.proxy(function(H){var G=E(H.target);if(G.is("ins")&&H.pageY-G.offset().top<this.data.core.li_height){this.toggle_node(G)}},this)).bind("mousedown.jstree",E.proxy(function(){this.set_focus()},this)).bind("dblclick.jstree",function(H){var I;if(document.selection&&document.selection.empty){document.selection.empty()}else{if(window.getSelection){I=window.getSelection();try{I.removeAllRanges();I.collapse()}catch(G){}}}});this.__callback();this.load_node(-1,function(){this.loaded();this.reopen()})},destroy:function(){var G,J=this.get_index(),H=this._get_settings(),I=this;E.each(H.plugins,function(K,M){try{B[M].__destroy.apply(I)}catch(L){}});this.__callback();if(this.is_focused()){for(G in F){if(F.hasOwnProperty(G)&&G!=J){F[G].set_focus();break}}}if(J===C){C=-1}this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree-instance-id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")});F[J]=null;delete F[J]},save_opened:function(){var G=this;this.data.core.to_open=[];this.get_container().find(".jstree-open").each(function(){G.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(G.data.core.to_open)},reopen:function(H){var K=this,G=true,J=[],I=[];if(!H){this.data.core.reopen=false;this.data.core.refreshing=true}if(this.data.core.to_open.length){E.each(this.data.core.to_open,function(L,M){if(M=="#"){return true}if(E(M).length&&E(M).is(".jstree-closed")){J.push(M)}else{I.push(M)}});if(J.length){this.data.core.to_open=I;E.each(J,function(L,M){K.open_node(M,function(){K.reopen(true)},true)});G=false}}if(G){if(this.data.core.reopen){clearTimeout(this.data.core.reopen)}this.data.core.reopen=setTimeout(function(){K.__callback({},K)},50);this.data.core.refreshing=false}},refresh:function(G){var H=this;this.save_opened();if(!G){G=-1}G=this._get_node(G);if(!G){G=-1}if(G!==-1){G.children("UL").remove()}this.load_node(G,function(){H.__callback({obj:G});H.reopen()})},loaded:function(){this.__callback()},set_focus:function(){var G=E.jstree._focused();if(G&&G!==this){G.get_container().removeClass("jstree-focused")}if(G!==this){this.get_container().addClass("jstree-focused");C=this.get_index()}this.__callback()},is_focused:function(){return C==this.get_index()},_get_node:function(G){var H=E(G,this.get_container());if(H.is(".jstree")||G==-1){return -1}H=H.closest("li",this.get_container());return H.length?H:false},_get_next:function(H,G){H=this._get_node(H);if(H===-1){return this.get_container().find("> ul > li:first-child")}if(!H.length){return false}if(G){return(H.nextAll("li").size()>0)?H.nextAll("li:eq(0)"):false}if(H.hasClass("jstree-open")){return H.find("li:eq(0)")}else{if(H.nextAll("li").size()>0){return H.nextAll("li:eq(0)")}else{return H.parentsUntil(".jstree","li").next("li").eq(0)}}},_get_prev:function(H,G){H=this._get_node(H);if(H===-1){return this.get_container().find("> ul > li:last-child")}if(!H.length){return false}if(G){return(H.prevAll("li").length>0)?H.prevAll("li:eq(0)"):false}if(H.prev("li").length){H=H.prev("li").eq(0);while(H.hasClass("jstree-open")){H=H.children("ul:eq(0)").children("li:last")}return H}else{var I=H.parentsUntil(".jstree","li:eq(0)");return I.length?I:false}},_get_parent:function(G){G=this._get_node(G);if(G==-1||!G.length){return false}var H=G.parentsUntil(".jstree","li:eq(0)");return H.length?H:-1},_get_children:function(G){G=this._get_node(G);if(G===-1){return this.get_container().children("ul:eq(0)").children("li")}if(!G.length){return false}return G.children("ul:eq(0)").children("li")},get_path:function(I,G){var H=[],J=this;I=this._get_node(I);if(I===-1||!I||!I.length){return false}I.parentsUntil(".jstree","li").each(function(){H.push(G?this.id:J.get_text(this))});H.reverse();H.push(G?I.attr("id"):this.get_text(I));return H},is_open:function(G){G=this._get_node(G);return G&&G!==-1&&G.hasClass("jstree-open")},is_closed:function(G){G=this._get_node(G);return G&&G!==-1&&G.hasClass("jstree-closed")},is_leaf:function(G){G=this._get_node(G);return G&&G!==-1&&G.hasClass("jstree-leaf")},open_node:function(J,K,H){J=this._get_node(J);if(!J.length){return false}if(!J.hasClass("jstree-closed")){if(K){K.call()}return false}var I=H||D?0:this._get_settings().core.animation,G=this;if(!this._is_loaded(J)){J.children("a").addClass("jstree-loading");this.load_node(J,function(){G.open_node(J,K,H)},K)}else{if(I){J.children("ul").css("display","none")}J.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(I){J.children("ul").stop(true).slideDown(I,function(){this.style.display=""})}this.__callback({obj:J});if(K){K.call()}}},close_node:function(I,G){I=this._get_node(I);var H=G||D?0:this._get_settings().core.animation;if(!I.length||!I.hasClass("jstree-open")){return false}if(H){I.children("ul").attr("style","display:block !important")}I.removeClass("jstree-open").addClass("jstree-closed");if(H){I.children("ul").stop(true).slideUp(H,function(){this.style.display=""})}this.__callback({obj:I})},toggle_node:function(G){G=this._get_node(G);if(G.hasClass("jstree-closed")){return this.open_node(G)}if(G.hasClass("jstree-open")){return this.close_node(G)}},open_all:function(H,G){H=H?this._get_node(H):this.get_container();if(!H||H===-1){H=this.get_container()}if(G){H=H.find("li.jstree-closed")}else{G=H;if(H.is(".jstree-closed")){H=H.find("li.jstree-closed").andSelf()}else{H=H.find("li.jstree-closed")}}var I=this;H.each(function(){var J=this;if(!I._is_loaded(this)){I.open_node(this,function(){I.open_all(J,G)},true)}else{I.open_node(this,false,true)}});if(G.find("li.jstree-closed").length===0){this.__callback({obj:G})}},close_all:function(H,G){var I=this;H=H?this._get_node(H):this.get_container();if(!H||H===-1){H=this.get_container()}H.find("li.jstree-open").andSelf().each(function(){I.close_node(this,G?G:false)});this.__callback({obj:H})},clean_node:function(G){G=G&&G!=-1?E(G):this.get_container();G=G.is("li")?G.find("li").andSelf():G.find("li");G.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");G.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({obj:G})},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data}},set_rollback:function(G,H){this.get_container().empty().append(G);this.data=H;this.__callback()},load_node:function(I,G,H){this.__callback({obj:I})},_is_loaded:function(G){return true},create_node:function(L,G,K,N,H){L=this._get_node(L);G=typeof G==="undefined"?"last":G;var M=E("<li>"),J=this._get_settings().core,I;if(L!==-1&&!L.length){return false}if(!H&&!this._is_loaded(L)){this.load_node(L,function(){this.create_node(L,G,K,N,true)});return false}this.__rollback();if(typeof K==="string"){K={data:K}}if(!K){K={}}if(K.attr){M.attr(K.attr)}if(K.state){M.addClass("jstree-"+K.state)}if(!K.data){K.data=J.strings.new_node}if(!E.isArray(K.data)){I=K.data;K.data=[];K.data.push(I)}E.each(K.data,function(P,O){I=E("<a>");if(E.isFunction(O)){O=O.call(this,K)}if(typeof O=="string"){I.attr("href","#")[J.html_titles?"html":"text"](O)}else{if(!O.attr){O.attr={}}if(!O.attr.href){O.attr.href="#"}I.attr(O.attr)[J.html_titles?"html":"text"](O.title);if(O.language){I.addClass(O.language)}}I.prepend("<ins class='jstree-icon'>&#160;</ins>");if(O.icon){if(O.icon.indexOf("/")===-1){I.children("ins").addClass(O.icon)}else{I.children("ins").css("background","url('"+O.icon+"') center center no-repeat")}}M.append(I)});M.prepend("<ins class='jstree-icon'>&#160;</ins>");if(L===-1){L=this.get_container();if(G==="before"){G="first"}if(G==="after"){G="last"}}switch(G){case"before":L.before(M);I=this._get_parent(L);break;case"after":L.after(M);I=this._get_parent(L);break;case"inside":case"first":if(!L.children("ul").length){L.append("<ul>")}L.children("ul").prepend(M);I=L;break;case"last":if(!L.children("ul").length){L.append("<ul>")}L.children("ul").append(M);I=L;break;default:if(!L.children("ul").length){L.append("<ul>")}if(!G){G=0}I=L.children("ul").children("li").eq(G);if(I.length){I.before(M)}else{L.children("ul").append(M)}I=L;break}if(I===-1||I.get(0)===this.get_container().get(0)){I=-1}this.clean_node(I);this.__callback({obj:M,parent:I});if(N){N.call(this,M)}return M},get_text:function(H){H=this._get_node(H);if(!H.length){return false}var G=this._get_settings().core.html_titles;H=H.children("a:eq(0)");if(G){H=H.clone();H.children("INS").remove();return H.html()}else{H=H.contents().filter(function(){return this.nodeType==3})[0];return H.nodeValue}},set_text:function(H,I){H=this._get_node(H);if(!H.length){return false}H=H.children("a:eq(0)");if(this._get_settings().core.html_titles){var G=H.children("INS").clone();H.html(I).prepend(G);this.__callback({obj:H,name:I});return true}else{H=H.contents().filter(function(){return this.nodeType==3})[0];this.__callback({obj:H,name:I});return(H.nodeValue=I)}},rename_node:function(G,H){G=this._get_node(G);this.__rollback();if(G&&G.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({obj:G,name:H})}},delete_node:function(I){I=this._get_node(I);if(!I.length){return false}this.__rollback();var H=this._get_parent(I),G=this._get_prev(I);I=I.remove();if(H!==-1&&H.find("> ul > li").length===0){H.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}this.clean_node(H);this.__callback({obj:I,prev:G});return I},prepare_move:function(K,I,L,G,H){var J={};J.ot=E.jstree._reference(J.o)||this;J.o=J.ot._get_node(K);J.r=I===-1?-1:this._get_node(I);J.p=(typeof J==="undefined")?"last":L;if(!H&&A.o&&A.o[0]===J.o[0]&&A.r[0]===J.r[0]&&A.p===J.p){this.__callback(A);if(G){G.call(this,A)}return }J.ot=E.jstree._reference(J.o)||this;J.rt=I===-1?J.ot:E.jstree._reference(J.r)||this;if(J.r===-1){J.cr=-1;switch(J.p){case"first":case"before":case"inside":J.cp=0;break;case"after":case"last":J.cp=J.rt.get_container().find(" > ul > li").length;break;default:J.cp=J.p;break}}else{if(!/^(before|after)$/.test(J.p)&&!this._is_loaded(J.r)){return this.load_node(J.r,function(){this.prepare_move(K,I,L,G,true)})}switch(J.p){case"before":J.cp=J.r.index();J.cr=J.rt._get_parent(J.r);break;case"after":J.cp=J.r.index()+1;J.cr=J.rt._get_parent(J.r);break;case"inside":case"first":J.cp=0;J.cr=J.r;break;case"last":J.cp=J.r.find(" > ul > li").length;J.cr=J.r;break;default:J.cp=J.p;J.cr=J.r;break}}J.np=J.cr==-1?J.rt.get_container():J.cr;J.op=J.ot._get_parent(J.o);J.or=J.np.find(" > ul > li:nth-child("+(J.cp+1)+")");A=J;this.__callback(A);if(G){G.call(this,A)}},check_move:function(){var H=A,G=true;if(H.or[0]===H.o[0]){return false}H.o.each(function(){if(H.r.parentsUntil(".jstree").andSelf().filter("li").index(this)!==-1){G=false;return false}});return G},move_node:function(M,J,G,I,H,L){if(!H){return this.prepare_move(M,J,G,function(O){this.move_node(O,false,false,I,true,L)})}if(!L&&!this.check_move()){return false}this.__rollback();var N=false;if(I){N=M.o.clone();N.find("*[id]").andSelf().each(function(){if(this.id){this.id="copy_"+this.id}})}else{N=M.o}if(M.or.length){M.or.before(N)}else{if(!M.np.children("ul").length){E("<ul>").appendTo(M.np)}M.np.children("ul:eq(0)").append(N)}try{M.ot.clean_node(M.op);M.rt.clean_node(M.np);if(!M.op.find("> ul > li").length){M.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove()}}catch(K){}if(I){A.cy=true;A.oc=N}this.__callback(A);return A},_get_move:function(){return A}}})})(jQuery);(function(A){A.jstree.plugin("ui",{__init:function(){this.data.ui.selected=A();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",A.proxy(function(B){B.preventDefault();this.select_node(B.currentTarget,true,B)},this)).delegate("a","mouseenter.jstree",A.proxy(function(B){this.hover_node(B.target)},this)).delegate("a","mouseleave.jstree",A.proxy(function(B){this.dehover_node(B.target)},this)).bind("reopen.jstree",A.proxy(function(){this.reselect()},this)).bind("get_rollback.jstree",A.proxy(function(){this.dehover_node();this.save_selected()},this)).bind("set_rollback.jstree",A.proxy(function(){this.reselect()},this)).bind("close_node.jstree",A.proxy(function(C,D){var B=this._get_settings().ui,E=this._get_node(D.rslt.obj),F=(E&&E.length)?E.children("ul").find(".jstree-clicked"):A(),G=this;if(B.selected_parent_close===false||!F.length){return }F.each(function(){G.deselect_node(this);if(B.selected_parent_close==="select_parent"){G.select_node(E)}})},this)).bind("delete_node.jstree",A.proxy(function(C,D){var B=this._get_settings().ui.select_prev_on_delete,E=this._get_node(D.rslt.obj),F=(E&&E.length)?E.find(".jstree-clicked"):[],G=this;F.each(function(){G.deselect_node(this)});if(B&&F.length){this.select_node(D.rslt.prev)}},this)).bind("move_node.jstree",A.proxy(function(B,C){if(C.rslt.cy){C.rslt.oc.find(".jstree-clicked").removeClass("jstree-clicked")}},this))},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",selected_parent_close:"select_parent",select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(B,C){if(typeof B==="undefined"||B===null){return C?this.data.ui.selected:this.data.ui.last_selected}var D=A(B,this.get_container());if(D.is(".jstree")||B==-1){return -1}D=D.closest("li",this.get_container());return D.length?D:false},save_selected:function(){var B=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){B.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/"))});this.__callback(this.data.ui.to_select)},reselect:function(){var C=this,B=this.data.ui.to_select;B=A.map(A.makeArray(B),function(D){return"#"+D.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")});this.deselect_all();A.each(B,function(D,E){if(E&&E!=="#"){C.select_node(E)}});this.__callback()},refresh:function(B){this.save_selected();return this.__call_old()},hover_node:function(B){B=this._get_node(B);if(!B.length){return false}if(!B.hasClass("jstree-hovered")){this.dehover_node()}this.data.ui.hovered=B.children("a").addClass("jstree-hovered").parent();this.__callback({obj:B})},dehover_node:function(){var C=this.data.ui.hovered,B;if(!C||!C.length){return false}B=C.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===B[0]){this.data.ui.hovered=null}this.__callback({obj:C})},select_node:function(G,B,F){G=this._get_node(G);if(G==-1||!G||!G.length){return false}var D=this._get_settings().ui,C=(D.select_multiple_modifier=="on"||(D.select_multiple_modifier!==false&&F&&F[D.select_multiple_modifier+"Key"])),H=this.is_selected(G),E=true;if(B){if(D.disable_selecting_children&&C&&G.parents("li",this.get_container()).children(".jstree-clicked").length){return false}E=false;switch(!0){case (H&&!C):this.deselect_all();H=false;E=true;break;case (!H&&!C):if(D.select_limit==-1||D.select_limit>0){this.deselect_all();E=true}break;case (H&&C):this.deselect_node(G);break;case (!H&&C):if(D.select_limit==-1||this.data.ui.selected.length+1<=D.select_limit){E=true}break}}if(E&&!H){G.children("a").addClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.add(G);this.data.ui.last_selected=G;this.__callback({obj:G})}},deselect_node:function(B){B=this._get_node(B);if(!B.length){return false}if(this.is_selected(B)){B.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(B);if(this.data.ui.last_selected.get(0)===B.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0)}this.__callback({obj:B})}},toggle_select:function(B){B=this._get_node(B);if(!B.length){return false}if(this.is_selected(B)){this.deselect_node(B)}else{this.select_node(B)}},is_selected:function(B){return this.data.ui.selected.index(this._get_node(B))>=0},get_selected:function(B){return B?A(B).find(".jstree-clicked").parent():this.data.ui.selected},deselect_all:function(B){if(B){A(B).find(".jstree-clicked").removeClass("jstree-clicked")}else{this.get_container().find(".jstree-clicked").removeClass("jstree-clicked")}this.data.ui.selected=A([]);this.data.ui.last_selected=false;this.__callback()}}});A.jstree.defaults.plugins.push("ui")})(jQuery);(function(A){A.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",A.proxy(function(D,C){if(this._get_settings().crrm.move.open_onmove){var B=this;C.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){B.open_node(this,false,true)})}},this))},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:"last",check_move:function(B){return true}}},_fn:{_show_input:function(B,I){B=this._get_node(B);var G=this._get_settings().core.rtl,H=this._get_settings().crrm.input_width_limit,D=B.children("ins").width(),C=B.find("> a:visible > ins").width()*B.find("> a:visible > ins").length,J=this.get_text(B),F=A("<div>",{css:{position:"absolute",top:"-200px",left:(G?"0px":"-1000px"),visibility:"hidden"}}).appendTo("body"),E=B.css("position","relative").append(A("<input>",{value:J,css:{padding:"0",border:"1px solid silver",position:"absolute",left:(G?"auto":(D+C+4)+"px"),right:(G?(D+C+4)+"px":"auto"),top:"0px",height:(this.data.core.li_height-2)+"px",lineHeight:(this.data.core.li_height-2)+"px",width:"150px"},blur:A.proxy(function(){var L=B.children("input"),K=L.val();if(K===""){K=J}L.remove();this.set_text(B,J);this.rename_node(B,K);I.call(this,B,K,J);B.css("position","")},this),keyup:function(L){var K=L.keyCode||L.which;if(K==27){this.value=J;this.blur();return }else{if(K==13){this.blur();return }else{E.width(Math.min(F.text("pW"+this.value).width(),H))}}}})).children("input");this.set_text(B,"");F.css({fontFamily:E.css("fontFamily")||"",fontSize:E.css("fontSize")||"",fontWeight:E.css("fontWeight")||"",fontStyle:E.css("fontStyle")||"",fontStretch:E.css("fontStretch")||"",fontVariant:E.css("fontVariant")||"",letterSpacing:E.css("letterSpacing")||"",wordSpacing:E.css("wordSpacing")||""});E.width(Math.min(F.text("pW"+E[0].value).width(),H))[0].select()},rename:function(C){C=this._get_node(C);this.__rollback();var B=this.__callback;this._show_input(C,function(F,E,D){B.call(this,{obj:F,new_name:E,old_name:D})})},create:function(F,C,E,H,B){var D,G=this;F=this._get_node(F);if(!F){F=-1}this.__rollback();D=this.create_node(F,C,E,function(I){var J=this._get_parent(I),K=A(I).index();if(H){H.call(this,I)}if(J.length&&J.hasClass("jstree-closed")){this.open_node(J,false,true)}if(!B){this._show_input(I,function(N,M,L){G.__callback({obj:N,name:M,parent:J,position:K})})}else{G.__callback({obj:I,name:this.get_text(I),parent:J,position:K})}});return D},remove:function(B){B=this._get_node(B,true);this.__rollback();this.delete_node(B);this.__callback({obj:B})},check_move:function(){if(!this.__call_old()){return false}var B=this._get_settings().crrm.move;if(!B.check_move.call(this,this._get_move())){return false}return true},move_node:function(H,F,B,D,C,G){var E=this._get_settings().crrm.move;if(!C){if(!B){B=E.default_position}if(B==="inside"&&!E.default_position.match(/^(before|after)$/)){B=E.default_position}return this.__call_old(true,H,F,B,D,false,G)}if(E.always_copy===true||(E.always_copy==="multitree"&&H.rt.get_index()!==H.ot.get_index())){D=true}this.__call_old(true,H,F,B,D,true,G)},cut:function(B){B=this._get_node(B);this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false;if(!B||!B.length){return false}this.data.crrm.ct_nodes=B},copy:function(B){B=this._get_node(B);this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false;if(!B||!B.length){return false}this.data.crrm.cp_nodes=B},paste:function(B){B=this._get_node(B);if(!B||!B.length){return false}if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false}if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,B)}if(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,B,false,true)}this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=false}}});A.jstree.defaults.plugins.push("crrm")})(jQuery);(function(A){var B=[];A.jstree._themes=false;A.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",A.proxy(function(){var C=this._get_settings().themes;this.data.themes.dots=C.dots;this.data.themes.icons=C.icons;this.set_theme(C.theme,C.url)},this)).bind("loaded.jstree",A.proxy(function(){if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}},this))},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(D,C){if(!D){return false}if(!C){C=A.jstree._themes+D+"/style.css"}if(A.inArray(C,B)==-1){A.vakata.css.add_sheet({url:C,rel:"jstree"});B.push(C)}if(this.data.themes.theme!=D){this.get_container().removeClass("jstree-"+this.data.themes.theme);this.data.themes.theme=D}this.get_container().addClass("jstree-"+D);if(!this.data.themes.dots){this.hide_dots()}else{this.show_dots()}if(!this.data.themes.icons){this.hide_icons()}else{this.show_icons()}this.__callback()},get_theme:function(){return this.data.themes.theme},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots")},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots")},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots()}else{this.show_dots()}},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons")},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons")},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons()}else{this.show_icons()}}}});A(function(){if(A.jstree._themes===false){A("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)){A.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+"themes/";return false}})}if(A.jstree._themes===false){A.jstree._themes="themes/"}});A.jstree.defaults.plugins.push("themes")})(jQuery);(function(C){var B=[];function A(E,F){var G=C.jstree._focused(),D;if(G&&G.data&&G.data.hotkeys&&G.data.hotkeys.enabled){D=G._get_settings().hotkeys[E];if(D){return D.call(G,F)}}}C.jstree.plugin("hotkeys",{__init:function(){if(typeof C.hotkeys==="undefined"){throw"jsTree hotkeys: jQuery hotkeys plugin not included."}if(!this.data.ui){throw"jsTree hotkeys: jsTree UI plugin not included."}C.each(this._get_settings().hotkeys,function(D,E){if(C.inArray(D,B)==-1){C(document).bind("keydown",D,function(F){return A(D,F)});B.push(D)}});this.enable_hotkeys()},defaults:{up:function(){var D=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(D));return false},down:function(){var D=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(D));return false},left:function(){var D=this.data.ui.hovered||this.data.ui.last_selected;if(D){if(D.hasClass("jstree-open")){this.close_node(D)}else{this.hover_node(this._get_prev(D))}}return false},right:function(){var D=this.data.ui.hovered||this.data.ui.last_selected;if(D&&D.length){if(D.hasClass("jstree-closed")){this.open_node(D)}else{this.hover_node(this._get_next(D))}}return false},space:function(){if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").click()}return false},"ctrl+space":function(D){D.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(D)}return false},f2:function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected)},del:function(){this.remove(this.data.ui.hovered||this._get_node(null))}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=true},disable_hotkeys:function(){this.data.hotkeys.enabled=false}}})})(jQuery);(function(A){A.jstree.plugin("json_data",{defaults:{data:false,ajax:false,correct_state:true,progressive_render:false},_fn:{load_node:function(D,B,C){var E=this;this.load_node_json(D,function(){E.__callback({obj:D});B.call(this)},C)},_is_loaded:function(C){var B=this._get_settings().json_data,D;C=this._get_node(C);if(C&&C!==-1&&B.progressive_render&&!C.is(".jstree-open, .jstree-leaf")&&C.children("ul").children("li").length===0&&C.data("jstree-children")){D=this._parse_json(C.data("jstree-children"));if(D){C.append(D);A.removeData(C,"jstree-children")}this.clean_node(C);return true}return C==-1||!C||!B.ajax||C.is(".jstree-open, .jstree-leaf")||C.children("ul").children("li").size()>0},load_node_json:function(F,B,D){var E=this.get_settings().json_data,H,C=function(){},G=function(){};F=this._get_node(F);if(F&&F!==-1){if(F.data("jstree-is-loading")){return }else{F.data("jstree-is-loading",true)}}switch(!0){case (!E.data&&!E.ajax):throw"Neither data nor ajax settings supplied.";case (!!E.data&&!E.ajax)||(!!E.data&&!!E.ajax&&(!F||F===-1)):if(!F||F==-1){H=this._parse_json(E.data);if(H){this.get_container().children("ul").empty().append(H.children());this.clean_node()}else{if(E.correct_state){this.get_container().children("ul").empty()}}}if(B){B.call(this)}break;case (!E.data&&!!E.ajax)||(!!E.data&&!!E.ajax&&F&&F!==-1):C=function(J,K,L){var I=this.get_settings().json_data.ajax.error;if(I){I.call(this,J,K,L)}if(F!=-1&&F.length){F.children(".jstree-loading").removeClass("jstree-loading");F.data("jstree-is-loading",false);if(K==="success"&&E.correct_state){F.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}}else{if(K==="success"&&E.correct_state){this.get_container().children("ul").empty()}}if(D){D.call(this)}};G=function(L,J,I){var K=this.get_settings().json_data.ajax.success;if(K){L=K.call(this,L,J,I)||L}if(L===""||(!A.isArray(L)&&!A.isPlainObject(L))){return C.call(this,I,J,"")}L=this._parse_json(L);if(L){if(F===-1||!F){this.get_container().children("ul").empty().append(L.children())}else{F.append(L).children(".jstree-loading").removeClass("jstree-loading");F.data("jstree-is-loading",false)}this.clean_node(F);if(B){B.call(this)}}else{if(F===-1||!F){if(E.correct_state){this.get_container().children("ul").empty();if(B){B.call(this)}}}else{F.children(".jstree-loading").removeClass("jstree-loading");F.data("jstree-is-loading",false);if(E.correct_state){F.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");if(B){B.call(this)}}}}};E.ajax.context=this;E.ajax.error=C;E.ajax.success=G;if(!E.ajax.dataType){E.ajax.dataType="json"}if(A.isFunction(E.ajax.url)){E.ajax.url=E.ajax.url.call(this,F)}if(A.isFunction(E.ajax.data)){E.ajax.data=E.ajax.data.call(this,F)}A.ajax(E.ajax);break}},_parse_json:function(B,J){var G=false,C=this._get_settings(),L=C.json_data,K=C.core.html_titles,E,F,D,I,H;if(!B){return G}if(A.isFunction(B)){B=B.call(this)}if(A.isArray(B)){G=A();if(!B.length){return false}for(F=0,D=B.length;F<D;F++){E=this._parse_json(B[F],true);if(E.length){G=G.add(E)}}}else{if(typeof B=="string"){B={data:B}}if(!B.data&&B.data!==""){return G}G=A("<li>");if(B.attr){G.attr(B.attr)}if(B.metadata){G.data("jstree",B.metadata)}if(B.state){G.addClass("jstree-"+B.state)}if(!A.isArray(B.data)){E=B.data;B.data=[];B.data.push(E)}A.each(B.data,function(N,M){E=A("<a>");if(A.isFunction(M)){M=M.call(this,B)}if(typeof M=="string"){E.attr("href","#")[K?"html":"text"](M)}else{if(!M.attr){M.attr={}}if(!M.attr.href){M.attr.href="#"}E.attr(M.attr)[K?"html":"text"](M.title);if(M.language){E.addClass(M.language)}}E.prepend("<ins class='jstree-icon'>&#160;</ins>");if(!M.icon&&B.icon){M.icon=B.icon}if(M.icon){if(M.icon.indexOf("/")===-1){E.children("ins").addClass(M.icon)}else{E.children("ins").css("background","url('"+M.icon+"') center center no-repeat")}}G.append(E)});G.prepend("<ins class='jstree-icon'>&#160;</ins>");if(B.children){if(L.progressive_render&&B.state!=="open"){G.addClass("jstree-closed").data("jstree-children",B.children)}else{if(A.isFunction(B.children)){B.children=B.children.call(this,B)}if(A.isArray(B.children)&&B.children.length){E=this._parse_json(B.children,true);if(E.length){H=A("<ul>");H.append(E);G.append(H)}}}}}if(!J){I=A("<ul>");I.append(G);G=I}return G},get_json:function(G,D,B,K){var N=[],M=this._get_settings(),H=this,F,E,J,I,L,C;G=this._get_node(G);if(!G||G===-1){G=this.get_container().find("> ul > li")}D=A.isArray(D)?D:["id","class"];if(!K&&this.data.types){D.push(M.types.type_attr)}B=A.isArray(B)?B:[];G.each(function(){J=A(this);F={data:[]};if(D.length){F.attr={}}A.each(D,function(P,O){E=J.attr(O);if(E&&E.length&&E.replace(/jstree[^ ]*|$/ig,"").length){F.attr[O]=E.replace(/jstree[^ ]*|$/ig,"")}});if(J.hasClass("jstree-open")){F.state="open"}if(J.hasClass("jstree-closed")){F.state="closed"}I=J.children("a");I.each(function(){L=A(this);if(B.length||A.inArray("languages",M.plugins)!==-1||L.children("ins").get(0).style.backgroundImage.length||(L.children("ins").get(0).className&&L.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").length)){C=false;if(A.inArray("languages",M.plugins)!==-1&&A.isArray(M.languages)&&M.languages.length){A.each(M.languages,function(O,P){if(L.hasClass(P)){C=P;return false}})}E={attr:{},title:H.get_text(L,C)};A.each(B,function(O,P){F.attr[P]=(L.attr(P)||"").replace(/jstree[^ ]*|$/ig,"")});A.each(M.languages,function(O,P){if(L.hasClass(P)){E.language=P;return true}});if(L.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length){E.icon=L.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"")}if(L.children("ins").get(0).style.backgroundImage.length){E.icon=L.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")}}else{E=H.get_text(L)}if(I.length>1){F.data.push(E)}else{F.data=E}});J=J.find("> ul > li");if(J.length){F.children=H.get_json(J,D,B,true)}N.push(F)});return N}}})})(jQuery);(function(A){A.jstree.plugin("languages",{__init:function(){this._load_css()},defaults:[],_fn:{set_lang:function(D){var E=this._get_settings().languages,C=false,B=".jstree-"+this.get_index()+" a";if(!A.isArray(E)||E.length===0){return false}if(A.inArray(D,E)==-1){if(!!E[D]){D=E[D]}else{return false}}if(D==this.data.languages.current_language){return true}C=A.vakata.css.get_css(B+"."+this.data.languages.current_language,false,this.data.languages.language_css);if(C!==false){C.style.display="none"}C=A.vakata.css.get_css(B+"."+D,false,this.data.languages.language_css);if(C!==false){C.style.display=""}this.data.languages.current_language=D;this.__callback(D);return true},get_lang:function(){return this.data.languages.current_language},get_text:function(D,E){D=this._get_node(D)||this.data.ui.last_selected;if(!D.size()){return false}var C=this._get_settings().languages,B=this._get_settings().core.html_titles;if(A.isArray(C)&&C.length){E=(E&&A.inArray(E,C)!=-1)?E:this.data.languages.current_language;D=D.children("a."+E)}else{D=D.children("a:eq(0)")}if(B){D=D.clone();D.children("INS").remove();return D.html()}else{D=D.contents().filter(function(){return this.nodeType==3})[0];return D.nodeValue}},set_text:function(E,G,F){E=this._get_node(E)||this.data.ui.last_selected;if(!E.size()){return false}var D=this._get_settings().languages,C=this._get_settings().core.html_titles,B;if(A.isArray(D)&&D.length){F=(F&&A.inArray(F,D)!=-1)?F:this.data.languages.current_language;E=E.children("a."+F)}else{E=E.children("a:eq(0)")}if(C){B=E.children("INS").clone();E.html(G).prepend(B);this.__callback({obj:E,name:G,lang:F});return true}else{E=E.contents().filter(function(){return this.nodeType==3})[0];this.__callback({obj:E,name:G,lang:F});return(E.nodeValue=G)}},_load_css:function(){var D=this._get_settings().languages,E="/* languages css */",B=".jstree-"+this.get_index()+" a",C;if(A.isArray(D)&&D.length){this.data.languages.current_language=D[0];for(C=0;C<D.length;C++){E+=B+"."+D[C]+" {";if(D[C]!=this.data.languages.current_language){E+=" display:none; "}E+=" } "}this.data.languages.language_css=A.vakata.css.add_sheet({str:E})}},create_node:function(E,B,D,F){var C=this.__call_old(true,E,B,D,function(H){var J=this._get_settings().languages,G=H.children("a"),I;if(A.isArray(J)&&J.length){for(I=0;I<J.length;I++){if(!G.is("."+J[I])){H.append(G.eq(0).clone().removeClass(J.join(" ")).addClass(J[I]))}}G.not("."+J.join(", .")).remove()}if(F){F.call(this,H)}});return C}}})})(jQuery);(function(A){A.jstree.plugin("cookies",{__init:function(){if(typeof A.cookie==="undefined"){throw"jsTree cookie: jQuery cookie plugin not included."}var C=this._get_settings().cookies,B;if(!!C.save_opened){B=A.cookie(C.save_opened);if(B&&B.length){this.data.core.to_open=B.split(",")}}if(!!C.save_selected){B=A.cookie(C.save_selected);if(B&&B.length&&this.data.ui){this.data.ui.to_select=B.split(",")}}this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",A.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",A.proxy(function(D){if(this._get_settings().cookies.auto_save){this.save_cookie((D.handleObj.namespace+D.handleObj.type).replace("jstree",""))}},this))},this))},defaults:{save_opened:"jstree_open",save_selected:"jstree_select",auto_save:true,cookie_options:{}},_fn:{save_cookie:function(C){if(this.data.core.refreshing){return }var B=this._get_settings().cookies;if(!C){if(B.save_opened){this.save_opened();A.cookie(B.save_opened,this.data.core.to_open.join(","),B.cookie_options)}if(B.save_selected&&this.data.ui){this.save_selected();A.cookie(B.save_selected,this.data.ui.to_select.join(","),B.cookie_options)}return }switch(C){case"open_node":case"close_node":if(!!B.save_opened){this.save_opened();A.cookie(B.save_opened,this.data.core.to_open.join(","),B.cookie_options)}break;case"select_node":case"deselect_node":if(!!B.save_selected&&this.data.ui){this.save_selected();A.cookie(B.save_selected,this.data.ui.to_select.join(","),B.cookie_options)}break}}}});A.jstree.defaults.plugins.push("cookies")})(jQuery);(function(A){A.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",A.proxy(function(D,B){var C=this._get_node(B.rslt.obj);C=C===-1?this.get_container().children("ul"):C.children("ul");this.sort(C)},this)).bind("rename_node.jstree",A.proxy(function(C,B){this.sort(B.rslt.obj.parent())},this)).bind("move_node.jstree",A.proxy(function(D,C){var B=C.rslt.np==-1?this.get_container():C.rslt.np;this.sort(B.children("ul"))},this))},defaults:function(C,B){return this.get_text(C)>this.get_text(B)?1:-1},_fn:{sort:function(D){var C=this._get_settings().sort,B=this;D.append(A.makeArray(D.children("li")).sort(A.proxy(C,B)));D.find("> li > ul").each(function(){B.sort(A(this))});this.clean_node(D)}}})})(jQuery);(function(F){var H=false,C=false,A=false,B=false,E=false,G=false,D=false;F.vakata.dnd={is_down:false,is_drag:false,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,user_data:{},drag_start:function(L,K,I){if(F.vakata.dnd.is_drag){F.vakata.drag_stop({})}try{L.currentTarget.unselectable="on";L.currentTarget.onselectstart=function(){return false};if(L.currentTarget.style){L.currentTarget.style.MozUserSelect="none"}}catch(J){}F.vakata.dnd.init_x=L.pageX;F.vakata.dnd.init_y=L.pageY;F.vakata.dnd.user_data=K;F.vakata.dnd.is_down=true;F.vakata.dnd.helper=F("<div id='vakata-dragged'>").html(I).css("opacity","0.75");F(document).bind("mousemove",F.vakata.dnd.drag);F(document).bind("mouseup",F.vakata.dnd.drag_stop);return false},drag:function(K){if(!F.vakata.dnd.is_down){return }if(!F.vakata.dnd.is_drag){if(Math.abs(K.pageX-F.vakata.dnd.init_x)>5||Math.abs(K.pageY-F.vakata.dnd.init_y)>5){F.vakata.dnd.helper.appendTo("body");F.vakata.dnd.is_drag=true;F(document).triggerHandler("drag_start.vakata",{event:K,data:F.vakata.dnd.user_data})}else{return }}if(K.type==="mousemove"){var L=F(document),J=L.scrollTop(),I=L.scrollLeft();if(K.pageY-J<20){if(E&&G==="down"){clearInterval(E);E=false}if(!E){G="up";E=setInterval(function(){F(document).scrollTop(F(document).scrollTop()-F.vakata.dnd.scroll_spd)},150)}}else{if(E&&G==="up"){clearInterval(E);E=false}}if(F(window).height()-(K.pageY-J)<20){if(E&&G==="up"){clearInterval(E);E=false}if(!E){G="down";E=setInterval(function(){F(document).scrollTop(F(document).scrollTop()+F.vakata.dnd.scroll_spd)},150)}}else{if(E&&G==="down"){clearInterval(E);E=false}}if(K.pageX-I<20){if(B&&D==="right"){clearInterval(B);B=false}if(!B){D="left";B=setInterval(function(){F(document).scrollLeft(F(document).scrollLeft()-F.vakata.dnd.scroll_spd)},150)}}else{if(B&&D==="left"){clearInterval(B);B=false}}if(F(window).width()-(K.pageX-I)<20){if(B&&D==="left"){clearInterval(B);B=false}if(!B){D="right";B=setInterval(function(){F(document).scrollLeft(F(document).scrollLeft()+F.vakata.dnd.scroll_spd)},150)}}else{if(B&&D==="right"){clearInterval(B);B=false}}}F.vakata.dnd.helper.css({left:(K.pageX+5)+"px",top:(K.pageY+10)+"px"});F(document).triggerHandler("drag.vakata",{event:K,data:F.vakata.dnd.user_data})},drag_stop:function(I){F(document).unbind("mousemove",F.vakata.dnd.drag);F(document).unbind("mouseup",F.vakata.dnd.drag_stop);F(document).triggerHandler("drag_stop.vakata",{event:I,data:F.vakata.dnd.user_data});F.vakata.dnd.helper.remove();F.vakata.dnd.init_x=0;F.vakata.dnd.init_y=0;F.vakata.dnd.user_data={};F.vakata.dnd.is_down=false;F.vakata.dnd.is_drag=false}};F(function(){var I="#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ";F.vakata.css.add_sheet({str:I})});F.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false};this.get_container().bind("mouseenter.jstree",F.proxy(function(){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree&&this.data.themes){A.attr("class","jstree-"+this.data.themes.theme);F.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}},this)).bind("mouseleave.jstree",F.proxy(function(){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}},this)).bind("mousemove.jstree",F.proxy(function(K){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree){var J=this.get_container()[0];if(K.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(F.proxy(function(){this.scrollLeft+=F.vakata.dnd.scroll_spd},J),100)}else{if(K.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}this.data.dnd.i1=setInterval(F.proxy(function(){this.scrollLeft-=F.vakata.dnd.scroll_spd},J),100)}else{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1)}}}if(K.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(F.proxy(function(){this.scrollTop+=F.vakata.dnd.scroll_spd},J),100)}else{if(K.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}this.data.dnd.i2=setInterval(F.proxy(function(){this.scrollTop-=F.vakata.dnd.scroll_spd},J),100)}else{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2)}}}}},this)).delegate("a","mousedown.jstree",F.proxy(function(J){if(J.which===1){this.start_drag(J.currentTarget,J);return false}},this)).delegate("a","mouseenter.jstree",F.proxy(function(J){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree){this.dnd_enter(J.currentTarget)}},this)).delegate("a","mousemove.jstree",F.proxy(function(J){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree){if(typeof this.data.dnd.off.top==="undefined"){this.data.dnd.off=F(J.target).offset()}this.data.dnd.w=(J.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height}this.dnd_show()}},this)).delegate("a","mouseleave.jstree",F.proxy(function(J){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;F.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");A.hide();if(C&&C[0]===J.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false}if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false}}}},this)).delegate("a","mouseup.jstree",F.proxy(function(J){if(F.vakata.dnd.is_drag&&F.vakata.dnd.user_data.jstree){this.dnd_finish(J)}},this));F(document).bind("drag_stop.vakata",F.proxy(function(){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;if(A){A.css({top:"-2000px"})}},this)).bind("drag_start.vakata",F.proxy(function(L,J){if(J.data.jstree){var K=F(J.event.target);if(K.closest(".jstree").hasClass("jstree-"+this.get_index())){this.dnd_enter(K)}}},this));var I=this._get_settings().dnd;if(I.drag_target){F(document).delegate(I.drag_target,"mousedown.jstree",F.proxy(function(K){H=K.target;F.vakata.dnd.drag_start(K,{jstree:true,obj:K.target},"<ins class='jstree-icon'></ins>"+F(K.target).text());if(this.data.themes){A.attr("class","jstree-"+this.data.themes.theme);F.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}F.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var J=this.get_container();this.data.dnd.cof=J.offset();this.data.dnd.cw=parseInt(J.width(),10);this.data.dnd.ch=parseInt(J.height(),10);this.data.dnd.foreign=true;return false},this))}if(I.drop_target){F(document).delegate(I.drop_target,"mouseenter.jstree",F.proxy(function(J){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{o:H,r:F(J.target)})){F.vakata.dnd.helper.children("ins").attr("class","jstree-ok")}},this)).delegate(I.drop_target,"mouseleave.jstree",F.proxy(function(J){if(this.data.dnd.active){F.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}},this)).delegate(I.drop_target,"mouseup.jstree",F.proxy(function(J){if(this.data.dnd.active&&F.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){this._get_settings().dnd.drop_finish.call(this,{o:H,r:F(J.target)})}},this))}},defaults:{copy_modifier:"ctrl",check_timeout:200,open_timeout:500,drop_target:".jstree-drop",drop_check:function(I){return true},drop_finish:F.noop,drag_target:".jstree-draggable",drag_finish:F.noop,drag_check:function(I){return{after:false,before:false,inside:true}}},_fn:{dnd_prepare:function(){if(!C||!C.length){return }this.data.dnd.off=C.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+C.width()}if(this.data.dnd.foreign){var I=this._get_settings().dnd.drag_check.call(this,{o:H,r:C});this.data.dnd.after=I.after;this.data.dnd.before=I.before;this.data.dnd.inside=I.inside;this.data.dnd.prepared=true;return this.dnd_show()}this.prepare_move(H,C,"before");this.data.dnd.before=this.check_move();this.prepare_move(H,C,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(C)){this.prepare_move(H,C,"inside");this.data.dnd.inside=this.check_move()}else{this.data.dnd.inside=false}this.data.dnd.prepared=true;return this.dnd_show()},dnd_show:function(){if(!this.data.dnd.prepared){return }var K=["before","inside","after"],I=false,J=this._get_settings().core.rtl,L;if(this.data.dnd.w<this.data.core.li_height/3){K=["before","inside","after"]}else{if(this.data.dnd.w<=this.data.core.li_height*2/3){K=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"]}else{K=["after","inside","before"]}}F.each(K,F.proxy(function(M,N){if(this.data.dnd[N]){F.vakata.dnd.helper.children("ins").attr("class","jstree-ok");I=N;return false}},this));if(I===false){F.vakata.dnd.helper.children("ins").attr("class","jstree-invalid")}L=J?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(I){case"before":A.css({left:L+"px",top:(this.data.dnd.off.top-6)+"px"}).show();break;case"after":A.css({left:L+"px",top:(this.data.dnd.off.top+this.data.core.li_height-7)+"px"}).show();break;case"inside":A.css({left:L+(J?-4:4)+"px",top:(this.data.dnd.off.top+this.data.core.li_height/2-5)+"px"}).show();break;default:A.hide();break}return I},dnd_open:function(){this.data.dnd.to2=false;this.open_node(C,F.proxy(this.dnd_prepare,this),true)},dnd_finish:function(I){if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{o:H,r:C})}}else{this.dnd_prepare();this.move_node(H,C,this.dnd_show(),I[this._get_settings().dnd.copy_modifier+"Key"])}H=false;C=false;A.hide()},dnd_enter:function(J){var I=this._get_settings().dnd;this.data.dnd.prepared=false;C=this._get_node(J);if(I.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1)}this.data.dnd.to1=setTimeout(F.proxy(this.dnd_prepare,this),I.check_timeout)}else{this.dnd_prepare()}if(I.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2)}if(C&&C.length&&C.hasClass("jstree-closed")){this.data.dnd.to2=setTimeout(F.proxy(this.dnd_open,this),I.open_timeout)}}else{if(C&&C.length&&C.hasClass("jstree-closed")){this.dnd_open()}}},start_drag:function(K,J){H=this._get_node(K);if(this.data.ui&&this.is_selected(H)){H=this._get_node(null,true)}F.vakata.dnd.drag_start(J,{jstree:true,obj:H},"<ins class='jstree-icon'></ins>"+(H.length>1?"Multiple selection":this.get_text(H)));if(this.data.themes){A.attr("class","jstree-"+this.data.themes.theme);F.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme)}var I=this.get_container();this.data.dnd.cof=I.children("ul").offset();this.data.dnd.cw=parseInt(I.width(),10);this.data.dnd.ch=parseInt(I.height(),10);this.data.dnd.active=true}}});F(function(){var I="#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; } #vakata-dragged .jstree-ok { background:green; } #vakata-dragged .jstree-invalid { background:red; } #jstree-marker { padding:0; margin:0; line-height:12px; font-size:1px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:silver; } ";F.vakata.css.add_sheet({str:I});A=F("<div>").attr({id:"jstree-marker"}).hide().appendTo("body");F(document).bind("drag_start.vakata",function(K,J){if(J.data.jstree){A.show()}});F(document).bind("drag_stop.vakata",function(K,J){if(J.data.jstree){A.hide()}})})})(jQuery);(function(A){A.jstree.plugin("checkbox",{__init:function(){this.select_node=this.deselect_node=this.deselect_all=A.noop;this.get_selected=this.get_checked;this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree",A.proxy(function(C,B){this._prepare_checkboxes(B.rslt.obj)},this)).bind("loaded.jstree",A.proxy(function(B){this._prepare_checkboxes()},this)).delegate("a","click.jstree",A.proxy(function(B){if(this._get_node(B.target).hasClass("jstree-checked")){this.uncheck_node(B.target)}else{this.check_node(B.target)}if(this.data.ui){this.save_selected()}if(this.data.cookies){this.save_cookie("select_node")}B.preventDefault()},this))},__destroy:function(){this.get_container().find(".jstree-checkbox").remove()},_fn:{_prepare_checkboxes:function(C){C=!C||C==-1?this.get_container():this._get_node(C);var E,D=this,B;C.each(function(){B=A(this);E=B.is("li")&&B.hasClass("jstree-checked")?"jstree-checked":"jstree-unchecked";B.find("a").not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(E)});if(C.is("li")){this._repair_state(C)}else{C.find("> ul > li").each(function(){D._repair_state(this)})}},change_state:function(C,B){C=this._get_node(C);B=(B===false||B===true)?B:C.hasClass("jstree-checked");if(B){C.find("li").andSelf().removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}else{C.find("li").andSelf().removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(this.data.ui){this.data.ui.last_selected=C}this.data.checkbox.last_selected=C}C.parentsUntil(".jstree","li").each(function(){var D=A(this);if(B){if(D.children("ul").children(".jstree-checked, .jstree-undetermined").length){D.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");return false}else{D.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked")}}else{if(D.children("ul").children(".jstree-unchecked, .jstree-undetermined").length){D.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");return false}else{D.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked")}}});if(this.data.ui){this.data.ui.selected=this.get_checked()}this.__callback(C)},check_node:function(B){this.change_state(B,false)},uncheck_node:function(B){this.change_state(B,true)},check_all:function(){var B=this;this.get_container().children("ul").children("li").each(function(){B.check_node(this,false)})},uncheck_all:function(){var B=this;this.get_container().children("ul").children("li").each(function(){B.change_state(this,true)})},is_checked:function(B){B=this._get_node(B);return B.length?B.is(".jstree-checked"):false},get_checked:function(B){B=!B||B===-1?this.get_container():this._get_node(B);return B.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked")},get_unchecked:function(B){B=!B||B===-1?this.get_container():this._get_node(B);return B.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked")},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes")},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes")},_repair_state:function(D){D=this._get_node(D);if(!D.length){return }var C=D.find("> ul > .jstree-checked").length,B=D.find("> ul > .jstree-undetermined").length,E=D.find("> ul > li").length;if(E===0){if(D.hasClass("jstree-undetermined")){this.check_node(D)}}else{if(C===0&&B===0){this.uncheck_node(D)}else{if(C===E){this.check_node(D)}else{D.parentsUntil(".jstree","li").removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined")}}}},reselect:function(){if(this.data.ui){var C=this,B=this.data.ui.to_select;B=A.map(A.makeArray(B),function(D){return"#"+D.toString().replace(/^#/,"").replace("\\/","/").replace("/","\\/")});this.deselect_all();A.each(B,function(D,E){C.check_node(E)});this.__callback()}}}})})(jQuery);(function(B){B.vakata.xslt=function(E,F,J){var C="",I,D,H,G;if(document.recalc){I=document.createElement("xml");D=document.createElement("xml");I.innerHTML=E;D.innerHTML=F;B("body").append(I).append(D);setTimeout((function(L,K,M){return function(){M.call(null,L.transformNode(K.XMLDocument));setTimeout((function(O,N){return function(){jQuery("body").remove(O).remove(N)}})(L,K),200)}})(I,D,J),100);return true}if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!=="undefined"){H=new XSLTProcessor();G=B.isFunction(H.transformDocument)?(typeof window.XMLSerializer!=="undefined"):true;if(!G){return false}E=new DOMParser().parseFromString(E,"text/xml");F=new DOMParser().parseFromString(F,"text/xml");if(B.isFunction(H.transformDocument)){C=document.implementation.createDocument("","",null);H.transformDocument(E,F,C,null);J.call(null,XMLSerializer().serializeToString(C));return true}else{H.importStylesheet(F);C=H.transformToFragment(E,document);J.call(null,B("<div>").append(C).html());return true}}return false};var A={nest:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" /><xsl:template match="/">	<xsl:call-template name="nodes">		<xsl:with-param name="node" select="/root" />	</xsl:call-template></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<ul>	<xsl:for-each select="$node/item">		<xsl:variable name="children" select="count(./item) &gt; 0" />		<li>			<xsl:attribute name="class">				<xsl:if test="position() = last()">jstree-last </xsl:if>				<xsl:choose>					<xsl:when test="@state = \'open\'">jstree-open </xsl:when>					<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>					<xsl:otherwise>jstree-leaf </xsl:otherwise>				</xsl:choose>				<xsl:value-of select="@class" />			</xsl:attribute>			<xsl:for-each select="@*">				<xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">					<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>				</xsl:if>			</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>			<xsl:for-each select="content/name">				<a>				<xsl:attribute name="href">					<xsl:choose>					<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>					<xsl:otherwise>#</xsl:otherwise>					</xsl:choose>				</xsl:attribute>				<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>				<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>				<xsl:for-each select="@*">					<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">						<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>					</xsl:if>				</xsl:for-each>					<ins>						<xsl:attribute name="class">jstree-icon 							<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>						</xsl:attribute>						<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>						<xsl:text>&#xa0;</xsl:text>					</ins>					<xsl:value-of select="current()" />				</a>			</xsl:for-each>			<xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>		</li>	</xsl:for-each>	</ul></xsl:template></xsl:stylesheet>',flat:'<?xml version="1.0" encoding="utf-8" ?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" ><xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" /><xsl:template match="/">	<ul>	<xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">		<xsl:call-template name="nodes">			<xsl:with-param name="node" select="." />			<xsl:with-param name="is_last" select="number(position() = last())" />		</xsl:call-template>	</xsl:for-each>	</ul></xsl:template><xsl:template name="nodes">	<xsl:param name="node" />	<xsl:param name="is_last" />	<xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />	<li>	<xsl:attribute name="class">		<xsl:if test="$is_last = true()">jstree-last </xsl:if>		<xsl:choose>			<xsl:when test="@state = \'open\'">jstree-open </xsl:when>			<xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>			<xsl:otherwise>jstree-leaf </xsl:otherwise>		</xsl:choose>		<xsl:value-of select="@class" />	</xsl:attribute>	<xsl:for-each select="@*">		<xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">		<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>		</xsl:if>	</xsl:for-each>	<ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>	<xsl:for-each select="content/name">		<a>		<xsl:attribute name="href">			<xsl:choose>			<xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>			<xsl:otherwise>#</xsl:otherwise>			</xsl:choose>		</xsl:attribute>		<xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>		<xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>		<xsl:for-each select="@*">			<xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">				<xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>			</xsl:if>		</xsl:for-each>			<ins>				<xsl:attribute name="class">jstree-icon 					<xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>				</xsl:attribute>				<xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>				<xsl:text>&#xa0;</xsl:text>			</ins>			<xsl:value-of select="current()" />		</a>	</xsl:for-each>	<xsl:if test="$children">		<ul>		<xsl:for-each select="//item[@parent_id=$node/attribute::id]">			<xsl:call-template name="nodes">				<xsl:with-param name="node" select="." />				<xsl:with-param name="is_last" select="number(position() = last())" />			</xsl:call-template>		</xsl:for-each>		</ul>	</xsl:if>	</li></xsl:template></xsl:stylesheet>'};B.jstree.plugin("xml_data",{defaults:{data:false,ajax:false,xsl:"flat",clean_node:false,correct_state:true},_fn:{load_node:function(E,C,D){var F=this;this.load_node_xml(E,function(){F.__callback({obj:E});C.call(this)},D)},_is_loaded:function(D){var C=this._get_settings().xml_data;D=this._get_node(D);return D==-1||!D||!C.ajax||D.is(".jstree-open, .jstree-leaf")||D.children("ul").children("li").size()>0},load_node_xml:function(G,C,E){var F=this.get_settings().xml_data,D=function(){},H=function(){};G=this._get_node(G);if(G&&G!==-1){if(G.data("jstree-is-loading")){return }else{G.data("jstree-is-loading",true)}}switch(!0){case (!F.data&&!F.ajax):throw"Neither data nor ajax settings supplied.";case (!!F.data&&!F.ajax)||(!!F.data&&!!F.ajax&&(!G||G===-1)):if(!G||G==-1){this.parse_xml(F.data,B.proxy(function(I){if(I){I=I.replace(/ ?xmlns="[^"]*"/ig,"");if(I.length>10){I=B(I);this.get_container().children("ul").empty().append(I.children());if(F.clean_node){this.clean_node(G)}if(C){C.call(this)}}}else{if(F.correct_state){this.get_container().children("ul").empty();if(C){C.call(this)}}}},this))}break;case (!F.data&&!!F.ajax)||(!!F.data&&!!F.ajax&&G&&G!==-1):D=function(J,K,L){var I=this.get_settings().xml_data.ajax.error;if(I){I.call(this,J,K,L)}if(G!==-1&&G.length){G.children(".jstree-loading").removeClass("jstree-loading");G.data("jstree-is-loading",false);if(K==="success"&&F.correct_state){G.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}}else{if(K==="success"&&F.correct_state){this.get_container().children("ul").empty()}}if(E){E.call(this)}};H=function(L,J,I){L=I.responseText;var K=this.get_settings().xml_data.ajax.success;if(K){L=K.call(this,L,J,I)||L}if(L==""){return D.call(this,I,J,"")}this.parse_xml(L,B.proxy(function(M){if(M){M=M.replace(/ ?xmlns="[^"]*"/ig,"");if(M.length>10){M=B(M);if(G===-1||!G){this.get_container().children("ul").empty().append(M.children())}else{G.children(".jstree-loading").removeClass("jstree-loading");G.append(M);G.data("jstree-is-loading",false)}if(F.clean_node){this.clean_node(G)}if(C){C.call(this)}}else{if(G&&G!==-1){G.children(".jstree-loading").removeClass("jstree-loading");G.data("jstree-is-loading",false);if(F.correct_state){G.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");if(C){C.call(this)}}}else{if(F.correct_state){this.get_container().children("ul").empty();if(C){C.call(this)}}}}}},this))};F.ajax.context=this;F.ajax.error=D;F.ajax.success=H;if(!F.ajax.dataType){F.ajax.dataType="xml"}if(B.isFunction(F.ajax.url)){F.ajax.url=F.ajax.url.call(this,G)}if(B.isFunction(F.ajax.data)){F.ajax.data=F.ajax.data.call(this,G)}B.ajax(F.ajax);break}},parse_xml:function(C,E){var D=this._get_settings().xml_data;B.vakata.xslt(C,A[D.xsl],E)},get_xml:function(K,H,E,C,M){var O="",N=this._get_settings(),I=this,G,F,L,J,D;if(!K){K="flat"}if(!M){M=0}H=this._get_node(H);if(!H||H===-1){H=this.get_container().find("> ul > li")}E=B.isArray(E)?E:["id","class"];if(!M&&this.data.types&&B.inArray(N.types.type_attr,E)===-1){E.push(N.types.type_attr)}C=B.isArray(C)?C:[];if(!M){O+="<root>"}H.each(function(){O+="<item";L=B(this);B.each(E,function(Q,P){O+=" "+P+'="'+(L.attr(P)||"").replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"")+'"'});if(L.hasClass("jstree-open")){O+=' state="open"'}if(L.hasClass("jstree-closed")){O+=' state="closed"'}if(K==="flat"){O+=' parent_id="'+M+'"'}O+=">";O+="<content>";J=L.children("a");J.each(function(){G=B(this);D=false;O+="<name";if(B.inArray("languages",N.plugins)!==-1){B.each(N.languages,function(P,Q){if(G.hasClass(Q)){O+=' lang="'+Q+'"';D=Q;return false}})}if(C.length){B.each(C,function(P,Q){O+=" "+Q+'="'+(G.attr(Q)||"").replace(/jstree[^ ]*|$/ig,"")+'"'})}if(G.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"").length){O+=' icon="'+G.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,"").replace(/^\s+$/ig,"")+'"'}if(G.children("ins").get(0).style.backgroundImage.length){O+=' icon="'+G.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","")+'"'}O+=">";O+="<![CDATA["+I.get_text(G,D)+"]]>";O+="</name>"});O+="</content>";F=L[0].id;L=L.find("> ul > li");if(L.length){F=I.get_xml(K,L,E,C,F)}else{F=""}if(K=="nest"){O+=F}O+="</item>";if(K=="flat"){O+=F}});if(!M){O+="</root>"}return O}}})})(jQuery);(function(A){A.expr[":"].jstree_contains=function(C,D,B){return(C.textContent||C.innerText||"").toLowerCase().indexOf(B[3].toLowerCase())>=0};A.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=A()},defaults:{ajax:false,case_insensitive:false},_fn:{search:function(G,B){if(G===""){return }var E=this.get_settings().search,D=this,C=function(){},F=function(){};this.data.search.str=G;if(!B&&E.ajax!==false&&this.get_container().find(".jstree-closed:eq(0)").length>0){this.search.supress_callback=true;C=function(){};F=function(K,I,H){var J=this.get_settings().search.ajax.success;if(J){K=J.call(this,K,I,H)||K}this.data.search.to_open=K;this._search_open()};E.ajax.context=this;E.ajax.error=C;E.ajax.success=F;if(A.isFunction(E.ajax.url)){E.ajax.url=E.ajax.url.call(this,G)}if(A.isFunction(E.ajax.data)){E.ajax.data=E.ajax.data.call(this,G)}if(!E.ajax.data){E.ajax.data={search_string:G}}if(!E.ajax.dataType||/^json/.exec(E.ajax.dataType)){E.ajax.dataType="json"}A.ajax(E.ajax);return }if(this.data.search.result.length){this.clear_search()}this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+(E.case_insensitive?"jstree_contains":"contains")+"("+this.data.search.str+")");this.data.search.result.addClass("jstree-search").parents(".jstree-closed").each(function(){D.open_node(this,false,true)});this.__callback({nodes:this.data.search.result,str:G})},clear_search:function(B){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=A()},_search_open:function(C){var F=this,B=true,E=[],D=[];if(this.data.search.to_open.length){A.each(this.data.search.to_open,function(G,H){if(H=="#"){return true}if(A(H).length&&A(H).is(".jstree-closed")){E.push(H)}else{D.push(H)}});if(E.length){this.data.search.to_open=D;A.each(E,function(G,H){F.open_node(H,function(){F._search_open(true)})});B=false}}if(B){this.search(this.data.search.str,true)}}}})})(jQuery);(function(A){A.vakata.context={cnt:A("<div id='vakata-contextmenu'>"),vis:false,tgt:false,par:false,func:false,data:false,show:function(J,I,G,F,E,B){var D=A.vakata.context.parse(J),C,H;if(!D){return }A.vakata.context.vis=true;A.vakata.context.tgt=I;A.vakata.context.par=B||I||null;A.vakata.context.data=E||null;A.vakata.context.cnt.html(D).css({visibility:"hidden",display:"block",left:0,top:0});C=A.vakata.context.cnt.height();H=A.vakata.context.cnt.width();if(G+H>A(document).width()){G=A(document).width()-(H+5);A.vakata.context.cnt.find("li > ul").addClass("right")}if(F+C>A(document).height()){F=F-(C+I[0].offsetHeight);A.vakata.context.cnt.find("li > ul").addClass("bottom")}A.vakata.context.cnt.css({left:G,top:F}).find("li:has(ul)").bind("mouseenter",function(N){var K=A(document).width(),M=A(document).height(),L=A(this).children("ul").show();if(K!==A(document).width()){L.toggleClass("right")}if(M!==A(document).height()){L.toggleClass("bottom")}}).bind("mouseleave",function(K){A(this).children("ul").hide()}).end().css({visibility:"visible"}).show();A(document).triggerHandler("context_show.vakata")},hide:function(){A.vakata.context.vis=false;A.vakata.context.cnt.attr("class","").hide();A(document).triggerHandler("context_hide.vakata")},parse:function(E,D){if(!E){return false}var F="",C=false,B=true;if(!D){A.vakata.context.func={}}F+="<ul>";A.each(E,function(G,H){if(!H){return true}A.vakata.context.func[G]=H.action;if(!B&&H.separator_before){F+="<li class='vakata-separator vakata-separator-before'></li>"}B=false;F+="<li class='"+(H._class||"")+(H._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";if(H.icon&&H.icon.indexOf("/")===-1){F+=" class='"+H.icon+"' "}if(H.icon&&H.icon.indexOf("/")!==-1){F+=" style='background:url("+H.icon+") center center no-repeat;' "}F+=">&#160;</ins><a href='#' rel='"+G+"'>";if(H.submenu){F+="<span style='float:right;'>&raquo;</span>"}F+=H.label+"</a>";if(H.submenu){C=A.vakata.context.parse(H.submenu,true);if(C){F+=C}}F+="</li>";if(H.separator_after){F+="<li class='vakata-separator vakata-separator-after'></li>";B=true}});F=F.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");F+="</ul>";return F.length>10?F:false},exec:function(B){if(A.isFunction(A.vakata.context.func[B])){A.vakata.context.func[B].call(A.vakata.context.data,A.vakata.context.par);return true}else{return false}}};A(function(){var B="#vakata-contextmenu { display:none; position:absolute; margin:0; padding:0; min-width:180px; background:#ebebeb; border:1px solid silver; z-index:10000; *width:180px; } #vakata-contextmenu ul { min-width:180px; *width:180px; } #vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } #vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } #vakata-contextmenu li a { padding:1px 6px; line-height:17px; display:block; text-decoration:none; margin:1px 1px 0 1px; } #vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } #vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { background:gray; color:white; } #vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; background:#ebebeb; border:1px solid gray; } #vakata-contextmenu .right { right:100%; left:auto; } #vakata-contextmenu .bottom { bottom:-1px; top:auto; } #vakata-contextmenu li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin:0 2px; background:silver; /* border-top:1px solid #fefefe; */ padding:0; } ";A.vakata.css.add_sheet({str:B});A.vakata.context.cnt.delegate("a","click",function(C){C.preventDefault()}).delegate("a","mouseup",function(C){if(!A(this).parent().hasClass("jstree-contextmenu-disabled")&&A.vakata.context.exec(A(this).attr("rel"))){A.vakata.context.hide()}else{A(this).blur()}}).delegate("a","mouseover",function(){A.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover")}).appendTo("body");A(document).bind("mousedown",function(C){if(A.vakata.context.vis&&!A.contains(A.vakata.context.cnt[0],C.target)){A.vakata.context.hide()}});if(typeof A.hotkeys!=="undefined"){A(document).bind("keydown","up",function(C){if(A.vakata.context.vis){var D=A.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();if(!D.length){D=A.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last()}D.addClass("vakata-hover");C.stopImmediatePropagation();C.preventDefault()}}).bind("keydown","down",function(C){if(A.vakata.context.vis){var D=A.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();if(!D.length){D=A.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first()}D.addClass("vakata-hover");C.stopImmediatePropagation();C.preventDefault()}}).bind("keydown","right",function(C){if(A.vakata.context.vis){A.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover");C.stopImmediatePropagation();C.preventDefault()}}).bind("keydown","left",function(C){if(A.vakata.context.vis){A.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover");C.stopImmediatePropagation();C.preventDefault()}}).bind("keydown","esc",function(C){A.vakata.context.hide();C.preventDefault()}).bind("keydown","space",function(C){A.vakata.context.cnt.find(".vakata-hover").last().children("a").click();C.preventDefault()})}});A.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",A.proxy(function(B){B.preventDefault();this.show_contextmenu(B.currentTarget,B.pageX,B.pageY)},this)).bind("destroy.jstree",A.proxy(function(){if(this.data.contextmenu){A.vakata.context.hide()}},this));A(document).bind("context_hide.vakata",A.proxy(function(){this.data.contextmenu=false},this))},defaults:{select_node:false,show_at_node:true,items:{create:{separator_before:false,separator_after:true,label:"Create",action:function(B){this.create(B)}},rename:{separator_before:false,separator_after:false,label:"Rename",action:function(B){this.rename(B)}},remove:{separator_before:false,icon:false,separator_after:false,label:"Delete",action:function(B){this.remove(B)}},ccp:{separator_before:true,icon:false,separator_after:false,label:"Edit",action:false,submenu:{cut:{separator_before:false,separator_after:false,label:"Cut",action:function(B){this.cut(B)}},copy:{separator_before:false,icon:false,separator_after:false,label:"Copy",action:function(B){this.copy(B)}},paste:{separator_before:false,icon:false,separator_after:false,label:"Paste",action:function(B){this.paste(B)}}}}}},_fn:{show_contextmenu:function(E,B,G){E=this._get_node(E);var D=this.get_settings().contextmenu,C=E.children("a:visible:eq(0)"),F=false;if(D.select_node&&this.data.ui&&!this.is_selected(E)){this.deselect_all();this.select_node(E,true)}if(D.show_at_node||typeof B==="undefined"||typeof G==="undefined"){F=C.offset();B=F.left;G=F.top+this.data.core.li_height}if(A.isFunction(D.items)){D.items=D.items.call(this,E)}this.data.contextmenu=true;A.vakata.context.show(D.items,C,B,G,this,E);if(this.data.themes){A.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context")}}}})})(jQuery);(function(A){A.jstree.plugin("types",{__init:function(){var B=this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",A.proxy(function(){var E=B.types,D=B.type_attr,C="",F=this;A.each(E,function(G,H){A.each(H,function(J,I){if(!/^(max_depth|max_children|icon|valid_children)$/.test(J)){F.data.types.attach_to.push(J)}});if(!H.icon){return true}if(H.icon.image||H.icon.position){if(G=="default"){C+=".jstree-"+F.get_index()+" a > .jstree-icon { "}else{C+=".jstree-"+F.get_index()+" li["+D+"="+G+"] > a > .jstree-icon { "}if(H.icon.image){C+=" background-image:url("+H.icon.image+"); "}if(H.icon.position){C+=" background-position:"+H.icon.position+"; "}else{C+=" background-position:0 0; "}C+="} "}});if(C!=""){A.vakata.css.add_sheet({str:C})}},this)).bind("before.jstree",A.proxy(function(F,E){if(A.inArray(E.func,this.data.types.attach_to)!==-1){var D=this._get_settings().types.types,C=this._get_type(E.args[0]);if(((D[C]&&typeof D[C][E.func]!=="undefined")||(D["default"]&&typeof D["default"][E.func]!=="undefined"))&&!this._check(E.func,E.args[0])){F.stopImmediatePropagation();return false}}},this))},defaults:{max_children:-1,max_depth:-1,valid_children:"all",type_attr:"rel",types:{"default":{max_children:-1,max_depth:-1,valid_children:"all"}}},_fn:{_get_type:function(B){B=this._get_node(B);return(!B||!B.length)?false:B.attr(this._get_settings().types.type_attr)||"default"},set_type:function(C,B){B=this._get_node(B);return(!B.length||!C)?false:B.attr(this._get_settings().types.type_attr,C)},_check:function(G,F,E){var B=false,C=this._get_type(F),H=0,I=this,D=this._get_settings().types;if(F===-1){if(!!D[G]){B=D[G]}else{return }}else{if(C===false){return }if(!!D.types[C]&&!!D.types[C][G]){B=D.types[C][G]}else{if(!!D.types["default"]&&!!D.types["default"][G]){B=D.types["default"][G]}}}if(A.isFunction(B)){B=B.call(this,F)}if(G==="max_depth"&&F!==-1&&E!==false&&D.max_depth!==-2&&B!==0){this._get_node(F).children("a:eq(0)").parentsUntil(".jstree","li").each(function(J){if(D.max_depth!==-1&&D.max_depth-(J+1)<=0){B=0;return false}H=(J===0)?B:I._check(G,this,false);if(H!==-1&&H-(J+1)<=0){B=0;return false}if(H>=0&&(H-(J+1)<B||B<0)){B=H-(J+1)}if(D.max_depth>=0&&(D.max_depth-(J+1)<B||B<0)){B=D.max_depth-(J+1)}})}return B},check_move:function(){if(!this.__call_old()){return false}var B=this._get_move(),F=B.rt._get_settings().types,H=B.rt._check("max_children",B.cr),G=B.rt._check("max_depth",B.cr),D=B.rt._check("valid_children",B.cr),E=0,I=1,C;if(D==="none"){return false}if(A.isArray(D)&&B.ot&&B.ot._get_type){B.o.each(function(){if(A.inArray(B.ot._get_type(this),D)===-1){I=false;return false}});if(I===false){return false}}if(F.max_children!==-2&&H!==-1){E=B.cr===-1?this.get_container().children("> ul > li").not(B.o).length:B.cr.children("> ul > li").not(B.o).length;if(E+B.o.length>H){return false}}if(F.max_depth!==-2&&G!==-1){I=0;if(G===0){return false}if(typeof B.o.d==="undefined"){C=B.o;while(C.length>0){C=C.find("> ul > li");I++}B.o.d=I}if(G-B.o.d<0){return false}}return true},create_node:function(E,F,C,L,H,K){if(!K&&(H||this._is_loaded(E))){var D=(F&&F.match(/^before|after$/i)&&E!==-1)?this._get_parent(E):this._get_node(E),M=this._get_settings().types,J=this._check("max_children",D),I=this._check("max_depth",D),G=this._check("valid_children",D),B;if(!C){C={}}if(G==="none"){return false}if(A.isArray(G)){if(!C.attr||!C.attr[M.type_attr]){if(!C.attr){C.attr={}}C.attr[M.type_attr]=G[0]}else{if(A.inArray(C.attr[M.type_attr],G)===-1){return false}}}if(M.max_children!==-2&&J!==-1){B=D===-1?this.get_container().children("> ul > li").length:D.children("> ul > li").length;if(B+1>J){return false}}if(M.max_depth!==-2&&I!==-1&&(I-1)<0){return false}}return this.__call_old(true,E,F,C,L,H,K)}}})})(jQuery);(function(A){A.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(true);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3}).remove()},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(D,B,C){var E=this;this.load_node_html(D,function(){E.__callback({obj:D});B.call(this)},C)},_is_loaded:function(B){B=this._get_node(B);return B==-1||!B||!this._get_settings().html_data.ajax||B.is(".jstree-open, .jstree-leaf")||B.children("ul").children("li").size()>0},load_node_html:function(F,B,D){var H,E=this.get_settings().html_data,C=function(){},G=function(){};F=this._get_node(F);if(F&&F!==-1){if(F.data("jstree-is-loading")){return }else{F.data("jstree-is-loading",true)}}switch(!0){case (!E.data&&!E.ajax):if(!F||F==-1){this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(B){B.call(this)}break;case (!!E.data&&!E.ajax)||(!!E.data&&!!E.ajax&&(!F||F===-1)):if(!F||F==-1){H=A(E.data);if(!H.is("ul")){H=A("<ul>").append(H)}this.get_container().children("ul").empty().append(H.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node()}if(B){B.call(this)}break;case (!E.data&&!!E.ajax)||(!!E.data&&!!E.ajax&&F&&F!==-1):F=this._get_node(F);C=function(J,K,L){var I=this.get_settings().html_data.ajax.error;if(I){I.call(this,J,K,L)}if(F!=-1&&F.length){F.children(".jstree-loading").removeClass("jstree-loading");F.data("jstree-is-loading",false);if(K==="success"&&E.correct_state){F.removeClass("jstree-open jstree-closed").addClass("jstree-leaf")}}else{if(K==="success"&&E.correct_state){this.get_container().children("ul").empty()}}if(D){D.call(this)}};G=function(L,J,I){var K=this.get_settings().html_data.ajax.success;if(K){L=K.call(this,L,J,I)||L}if(L==""){return C.call(this,I,J,"")}if(L){L=A(L);if(!L.is("ul")){L=A("<ul>").append(L)}if(F==-1||!F){this.get_container().children("ul").empty().append(L.children()).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon")}else{F.children(".jstree-loading").removeClass("jstree-loading");F.append(L).find("li, a").filter(function(){return this.firstChild.tagName!=="INS"}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");F.data("jstree-is-loading",false)}this.clean_node(F);if(B){B.call(this)}}else{if(F&&F!==-1){F.children(".jstree-loading").removeClass("jstree-loading");F.data("jstree-is-loading",false);if(E.correct_state){F.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");if(B){B.call(this)}}}else{if(E.correct_state){this.get_container().children("ul").empty();if(B){B.call(this)}}}}};E.ajax.context=this;E.ajax.error=C;E.ajax.success=G;if(!E.ajax.dataType){E.ajax.dataType="html"}if(A.isFunction(E.ajax.url)){E.ajax.url=E.ajax.url.call(this,F)}if(A.isFunction(E.ajax.data)){E.ajax.data=E.ajax.data.call(this,F)}A.ajax(E.ajax);break}}}});A.jstree.defaults.plugins.push("html_data")})(jQuery);(function(A){A.jstree.plugin("themeroller",{__init:function(){var B=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").delegate("a","mouseenter.jstree",function(){A(this).addClass(B.item_h)}).delegate("a","mouseleave.jstree",function(){A(this).removeClass(B.item_h)}).bind("open_node.jstree create_node.jstree",A.proxy(function(D,C){this._themeroller(C.rslt.obj)},this)).bind("loaded.jstree refresh.jstree",A.proxy(function(C){this._themeroller()},this)).bind("close_node.jstree",A.proxy(function(D,C){C.rslt.obj.children("ins").removeClass(B.opened).addClass(B.closed)},this)).bind("select_node.jstree",A.proxy(function(D,C){C.rslt.obj.children("a").addClass(B.item_a)},this)).bind("deselect_node.jstree deselect_all.jstree",A.proxy(function(D,C){this.get_container().find("."+B.item_a).removeClass(B.item_a).end().find(".jstree-clicked").addClass(B.item_a)},this)).bind("move_node.jstree",A.proxy(function(D,C){this._themeroller(C.rslt.o)},this))},__destroy:function(){var B=this._get_settings().themeroller,C=["ui-icon"];A.each(B,function(E,D){D=D.split(" ");if(D.length){C=C.concat(D)}});this.get_container().removeClass("ui-widget-content").find("."+C.join(", .")).removeClass(C.join(" "))},_fn:{_themeroller:function(C){var B=this._get_settings().themeroller;C=!C||C==-1?this.get_container():this._get_node(C).parent();C.find("li.jstree-closed > ins.jstree-icon").removeClass(B.opened).addClass("ui-icon "+B.closed).end().find("li.jstree-open > ins.jstree-icon").removeClass(B.closed).addClass("ui-icon "+B.opened).end().find("a").addClass(B.item).children("ins.jstree-icon").addClass("ui-icon "+B.item_icon)}},defaults:{opened:"ui-icon-triangle-1-se",closed:"ui-icon-triangle-1-e",item:"ui-state-default",item_h:"ui-state-hover",item_a:"ui-state-active",item_icon:"ui-icon-folder-collapsed"}});A(function(){var B=".jstree .ui-icon { overflow:visible; } .jstree a { padding:0 2px; }";A.vakata.css.add_sheet({str:B})})})(jQuery);(function(A){A.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",A.proxy(function(G,E){var B=[],D=true,F,C;if(E.func=="move_node"){if(E.args[4]===true){if(E.args[0].o&&E.args[0].o.length){E.args[0].o.children("a").each(function(){B.push(A(this).text().replace(/^\s+/g,""))});D=this._check_unique(B,E.args[0].np.find("> ul > li").not(E.args[0].o))}}}if(E.func=="create_node"){if(E.args[4]||this._is_loaded(E.args[0])){F=this._get_node(E.args[0]);if(E.args[1]&&(E.args[1]==="before"||E.args[1]==="after")){F=this._get_parent(E.args[0]);if(!F||F===-1){F=this.get_container()}}if(typeof E.args[2]==="string"){B.push(E.args[2])}else{if(!E.args[2]||!E.args[2].data){B.push(this._get_settings().core.strings.new_node)}else{B.push(E.args[2].data)}}D=this._check_unique(B,F.find("> ul > li"))}}if(E.func=="rename_node"){B.push(E.args[1]);C=this._get_node(E.args[0]);F=this._get_parent(C);if(!F||F===-1){F=this.get_container()}D=this._check_unique(B,F.find("> ul > li").not(C))}if(!D){G.stopPropagation();return false}},this))},_fn:{_check_unique:function(C,D){var B=[];D.children("a").each(function(){B.push(A(this).text().replace(/^\s+/g,""))});if(!B.length||!C.length){return true}B=B.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");if((B.length+C.length)!=B.concat(C).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length){return false}return true},check_move:function(){if(!this.__call_old()){return false}var C=this._get_move(),B=[];if(C.o&&C.o.length){C.o.children("a").each(function(){B.push(A(this).text().replace(/^\s+/g,""))});return this._check_unique(B,C.np.find("> ul > li").not(C.o))}return true}}})})(jQuery);(function(F){var A,D,E,C;F.extend({pnotify_remove_all:function(){var K=E.data("pnotify");K&&K.length&&F.each(K,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){D&&clearTimeout(D);D=null;var K=E.data("pnotify");if(K&&K.length){F.each(K,function(){var Q=this.opts.pnotify_stack;if(Q){if(!Q.nextpos1){Q.nextpos1=Q.firstpos1}if(!Q.nextpos2){Q.nextpos2=Q.firstpos2}if(!Q.addpos2){Q.addpos2=0}if(this.css("display")!="none"){var M,N,O={},L;switch(Q.dir1){case"down":L="top";break;case"up":L="bottom";break;case"left":L="right";break;case"right":L="left";break}M=parseInt(this.css(L));if(isNaN(M)){M=0}if(typeof Q.firstpos1=="undefined"){Q.firstpos1=M;Q.nextpos1=Q.firstpos1}var P;switch(Q.dir2){case"down":P="top";break;case"up":P="bottom";break;case"left":P="right";break;case"right":P="left";break}N=parseInt(this.css(P));if(isNaN(N)){N=0}if(typeof Q.firstpos2=="undefined"){Q.firstpos2=N;Q.nextpos2=Q.firstpos2}if(Q.dir1=="down"&&Q.nextpos1+this.height()>C.height()||Q.dir1=="up"&&Q.nextpos1+this.height()>C.height()||Q.dir1=="left"&&Q.nextpos1+this.width()>C.width()||Q.dir1=="right"&&Q.nextpos1+this.width()>C.width()){Q.nextpos1=Q.firstpos1;Q.nextpos2+=Q.addpos2+10;Q.addpos2=0}if(Q.animation&&Q.nextpos2<N){switch(Q.dir2){case"down":O.top=Q.nextpos2+"px";break;case"up":O.bottom=Q.nextpos2+"px";break;case"left":O.right=Q.nextpos2+"px";break;case"right":O.left=Q.nextpos2+"px";break}}else{this.css(P,Q.nextpos2+"px")}switch(Q.dir2){case"down":case"up":if(this.outerHeight(true)>Q.addpos2){Q.addpos2=this.height()}break;case"left":case"right":if(this.outerWidth(true)>Q.addpos2){Q.addpos2=this.width()}break}if(Q.nextpos1){if(Q.animation&&(M>Q.nextpos1||O.top||O.bottom||O.right||O.left)){switch(Q.dir1){case"down":O.top=Q.nextpos1+"px";break;case"up":O.bottom=Q.nextpos1+"px";break;case"left":O.right=Q.nextpos1+"px";break;case"right":O.left=Q.nextpos1+"px";break}}else{this.css(L,Q.nextpos1+"px")}}if(O.top||O.bottom||O.right||O.left){this.animate(O,{duration:500,queue:false})}switch(Q.dir1){case"down":case"up":Q.nextpos1+=this.height()+10;break;case"left":case"right":Q.nextpos1+=this.width()+10;break}}}});F.each(K,function(){var L=this.opts.pnotify_stack;if(L){L.nextpos1=L.firstpos1;L.nextpos2=L.firstpos2;L.addpos2=0;L.animation=true}})}},pnotify:function(Q){E||(E=F("body"));C||(C=F(window));var R,M;if(typeof Q!="object"){M=F.extend({},F.pnotify.defaults);M.pnotify_text=Q}else{M=F.extend({},F.pnotify.defaults,Q)}if(M.pnotify_before_init){if(M.pnotify_before_init(M)===false){return null}}var N,O=function(W,U){K.css("display","none");var V=document.elementFromPoint(W.clientX,W.clientY);K.css("display","block");var T=F(V),S=T.css("cursor");K.css("cursor",S!="auto"?S:"default");if(!N||N.get(0)!=V){if(N){B.call(N.get(0),"mouseleave",W.originalEvent);B.call(N.get(0),"mouseout",W.originalEvent)}B.call(V,"mouseenter",W.originalEvent);B.call(V,"mouseover",W.originalEvent)}B.call(V,U,W.originalEvent);N=T},K=F("<div />",{"class":"ui-pnotify "+M.pnotify_addclass,css:{display:"none"},mouseenter:function(S){M.pnotify_nonblock&&S.stopPropagation();if(M.pnotify_mouse_reset&&R=="out"){K.stop(true);R="in";K.css("height","auto").animate({width:M.pnotify_width,opacity:M.pnotify_nonblock?M.pnotify_nonblock_opacity:M.pnotify_opacity},"fast")}M.pnotify_nonblock&&K.animate({opacity:M.pnotify_nonblock_opacity},"fast");M.pnotify_hide&&M.pnotify_mouse_reset&&K.pnotify_cancel_remove();M.pnotify_closer&&!M.pnotify_nonblock&&K.closer.show()},mouseleave:function(S){M.pnotify_nonblock&&S.stopPropagation();N=null;K.css("cursor","auto");M.pnotify_nonblock&&R!="out"&&K.animate({opacity:M.pnotify_opacity},"fast");M.pnotify_hide&&M.pnotify_mouse_reset&&K.pnotify_queue_remove();K.closer.hide();F.pnotify_position_all()},mouseover:function(S){M.pnotify_nonblock&&S.stopPropagation()},mouseout:function(S){M.pnotify_nonblock&&S.stopPropagation()},mousemove:function(S){if(M.pnotify_nonblock){S.stopPropagation();O(S,"onmousemove")}},mousedown:function(S){if(M.pnotify_nonblock){S.stopPropagation();S.preventDefault();O(S,"onmousedown")}},mouseup:function(S){if(M.pnotify_nonblock){S.stopPropagation();S.preventDefault();O(S,"onmouseup")}},click:function(S){if(M.pnotify_nonblock){S.stopPropagation();O(S,"onclick")}},dblclick:function(S){if(M.pnotify_nonblock){S.stopPropagation();O(S,"ondblclick")}}});K.opts=M;if(M.pnotify_shadow&&!F.browser.msie){K.shadow_container=F("<div />",{"class":"ui-widget-shadow ui-corner-all ui-pnotify-shadow"}).prependTo(K)}K.container=F("<div />",{"class":"ui-widget ui-widget-content ui-corner-all ui-pnotify-container "+(M.pnotify_type=="error"?"ui-state-error":"ui-state-highlight")}).appendTo(K);K.pnotify_version="1.0.1";K.pnotify=function(T){var S=M;if(typeof T=="string"){M.pnotify_text=T}else{M=F.extend({},M,T)}K.opts=M;if(M.pnotify_shadow!=S.pnotify_shadow){if(M.pnotify_shadow&&!F.browser.msie){K.shadow_container=F("<div />",{"class":"ui-widget-shadow ui-pnotify-shadow"}).prependTo(K)}else{K.children(".ui-pnotify-shadow").remove()}}if(M.pnotify_addclass===false){K.removeClass(S.pnotify_addclass)}else{M.pnotify_addclass!==S.pnotify_addclass&&K.removeClass(S.pnotify_addclass).addClass(M.pnotify_addclass)}if(M.pnotify_title===false){K.title_container.hide("fast")}else{M.pnotify_title!==S.pnotify_title&&K.title_container.html(M.pnotify_title).show(200)}if(M.pnotify_text===false){K.text_container.hide("fast")}else{if(M.pnotify_text!==S.pnotify_text){if(M.pnotify_insert_brs){M.pnotify_text=M.pnotify_text.replace(/\n/g,"<br />")}K.text_container.html(M.pnotify_text).show(200)}}K.pnotify_history=M.pnotify_history;M.pnotify_type!=S.pnotify_type&&K.container.toggleClass("ui-state-error ui-state-highlight");if(M.pnotify_notice_icon!=S.pnotify_notice_icon&&M.pnotify_type=="notice"||M.pnotify_error_icon!=S.pnotify_error_icon&&M.pnotify_type=="error"||M.pnotify_type!=S.pnotify_type){K.container.find("div.ui-pnotify-icon").remove();if(M.pnotify_error_icon&&M.pnotify_type=="error"||M.pnotify_notice_icon){F("<div />",{"class":"ui-pnotify-icon"}).append(F("<span />",{"class":M.pnotify_type=="error"?M.pnotify_error_icon:M.pnotify_notice_icon})).prependTo(K.container)}}M.pnotify_width!==S.pnotify_width&&K.animate({width:M.pnotify_width});M.pnotify_min_height!==S.pnotify_min_height&&K.container.animate({minHeight:M.pnotify_min_height});M.pnotify_opacity!==S.pnotify_opacity&&K.fadeTo(M.pnotify_animate_speed,M.pnotify_opacity);if(M.pnotify_hide){S.pnotify_hide||K.pnotify_queue_remove()}else{K.pnotify_cancel_remove()}K.pnotify_queue_position();return K};K.pnotify_queue_position=function(){D&&clearTimeout(D);D=setTimeout(F.pnotify_position_all,10)};K.pnotify_display=function(){K.parent().length||K.appendTo(E);if(M.pnotify_before_open){if(M.pnotify_before_open(K)===false){return }}K.pnotify_queue_position();if(M.pnotify_animation=="fade"||M.pnotify_animation.effect_in=="fade"){K.show().fadeTo(0,0).hide()}else{M.pnotify_opacity!=1&&K.show().fadeTo(0,M.pnotify_opacity).hide()}K.animate_in(function(){M.pnotify_after_open&&M.pnotify_after_open(K);K.pnotify_queue_position();M.pnotify_hide&&K.pnotify_queue_remove()})};K.pnotify_remove=function(){if(K.timer){window.clearTimeout(K.timer);K.timer=null}if(M.pnotify_before_close){if(M.pnotify_before_close(K)===false){return }}K.animate_out(function(){if(M.pnotify_after_close){if(M.pnotify_after_close(K)===false){return }}K.pnotify_queue_position();M.pnotify_remove&&K.detach()})};K.animate_in=function(T){R="in";var S;S=typeof M.pnotify_animation.effect_in!="undefined"?M.pnotify_animation.effect_in:M.pnotify_animation;if(S=="none"){K.show();T()}else{if(S=="show"){K.show(M.pnotify_animate_speed,T)}else{if(S=="fade"){K.show().fadeTo(M.pnotify_animate_speed,M.pnotify_opacity,T)}else{if(S=="slide"){K.slideDown(M.pnotify_animate_speed,T)}else{if(typeof S=="function"){S("in",T,K)}else{K.effect&&K.effect(S,{},M.pnotify_animate_speed,T)}}}}}};K.animate_out=function(T){R="out";var S;S=typeof M.pnotify_animation.effect_out!="undefined"?M.pnotify_animation.effect_out:M.pnotify_animation;if(S=="none"){K.hide();T()}else{if(S=="show"){K.hide(M.pnotify_animate_speed,T)}else{if(S=="fade"){K.fadeOut(M.pnotify_animate_speed,T)}else{if(S=="slide"){K.slideUp(M.pnotify_animate_speed,T)}else{if(typeof S=="function"){S("out",T,K)}else{K.effect&&K.effect(S,{},M.pnotify_animate_speed,T)}}}}}};K.pnotify_cancel_remove=function(){K.timer&&window.clearTimeout(K.timer)};K.pnotify_queue_remove=function(){K.pnotify_cancel_remove();K.timer=window.setTimeout(function(){K.pnotify_remove()},isNaN(M.pnotify_delay)?0:M.pnotify_delay)};K.closer=F("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",display:"none"},click:function(){K.pnotify_remove();K.closer.hide()}}).append(F("<span />",{"class":"ui-icon ui-icon-circle-close"})).appendTo(K.container);if(M.pnotify_error_icon&&M.pnotify_type=="error"||M.pnotify_notice_icon){F("<div />",{"class":"ui-pnotify-icon"}).append(F("<span />",{"class":M.pnotify_type=="error"?M.pnotify_error_icon:M.pnotify_notice_icon})).appendTo(K.container)}K.title_container=F("<div />",{"class":"ui-pnotify-title",html:M.pnotify_title}).appendTo(K.container);M.pnotify_title===false&&K.title_container.hide();if(M.pnotify_insert_brs&&typeof M.pnotify_text=="string"){M.pnotify_text=M.pnotify_text.replace(/\n/g,"<br />")}K.text_container=F("<div />",{"class":"ui-pnotify-text",html:M.pnotify_text}).appendTo(K.container);M.pnotify_text===false&&K.text_container.hide();typeof M.pnotify_width=="string"&&K.css("width",M.pnotify_width);typeof M.pnotify_min_height=="string"&&K.container.css("min-height",M.pnotify_min_height);K.pnotify_history=M.pnotify_history;var P=E.data("pnotify");if(P==null||typeof P!="object"){P=[]}P=M.pnotify_stack.push=="top"?F.merge([K],P):F.merge(P,[K]);E.data("pnotify",P);M.pnotify_after_init&&M.pnotify_after_init(K);if(M.pnotify_history){var L=E.data("pnotify_history");if(typeof L=="undefined"){L=F("<div />",{"class":"ui-pnotify-history-container ui-state-default ui-corner-bottom",mouseleave:function(){L.animate({top:"-"+A+"px"},{duration:100,queue:false})}}).append(F("<div />",{"class":"ui-pnotify-history-header",text:"Redisplay"})).append(F("<button />",{"class":"ui-pnotify-history-all ui-state-default ui-corner-all",text:"All",mouseenter:function(){F(this).addClass("ui-state-hover")},mouseleave:function(){F(this).removeClass("ui-state-hover")},click:function(){F.each(P,function(){this.pnotify_history&&this.pnotify_display&&this.pnotify_display()});return false}})).append(F("<button />",{"class":"ui-pnotify-history-last ui-state-default ui-corner-all",text:"Last",mouseenter:function(){F(this).addClass("ui-state-hover")},mouseleave:function(){F(this).removeClass("ui-state-hover")},click:function(){for(var S=1;!P[P.length-S]||!P[P.length-S].pnotify_history||P[P.length-S].is(":visible");){if(P.length-S===0){return false}S++}S=P[P.length-S];S.pnotify_display&&S.pnotify_display();return false}})).appendTo(E);A=F("<span />",{"class":"ui-pnotify-history-pulldown ui-icon ui-icon-grip-dotted-horizontal",mouseenter:function(){L.animate({top:"0"},{duration:100,queue:false})}}).appendTo(L).offset().top+2;L.css({top:"-"+A+"px"});E.data("pnotify_history",L)}}M.pnotify_stack.animation=false;K.pnotify_display();return K}});var J=/^on/,I=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,H=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,G=/^(scroll|resize|(un)?load|abort|error)$/,B=function(L,M){var K;L=L.toLowerCase();if(document.createEvent&&this.dispatchEvent){L=L.replace(J,"");if(L.match(I)){F(this).offset();K=document.createEvent("MouseEvents");K.initMouseEvent(L,M.bubbles,M.cancelable,M.view,M.detail,M.screenX,M.screenY,M.clientX,M.clientY,M.ctrlKey,M.altKey,M.shiftKey,M.metaKey,M.button,M.relatedTarget)}else{if(L.match(H)){K=document.createEvent("UIEvents");K.initUIEvent(L,M.bubbles,M.cancelable,M.view,M.detail)}else{if(L.match(G)){K=document.createEvent("HTMLEvents");K.initEvent(L,M.bubbles,M.cancelable)}}}K&&this.dispatchEvent(K)}else{L.match(J)||(L="on"+L);K=document.createEventObject(M);this.fireEvent(L,K)}};F.pnotify.defaults={pnotify_title:false,pnotify_text:false,pnotify_addclass:"",pnotify_nonblock:false,pnotify_nonblock_opacity:0.2,pnotify_history:true,pnotify_width:"300px",pnotify_min_height:"16px",pnotify_type:"notice",pnotify_notice_icon:"ui-icon ui-icon-info",pnotify_error_icon:"ui-icon ui-icon-alert",pnotify_animation:"fade",pnotify_animate_speed:"slow",pnotify_opacity:1,pnotify_shadow:false,pnotify_closer:true,pnotify_hide:true,pnotify_delay:8000,pnotify_mouse_reset:true,pnotify_remove:true,pnotify_insert_brs:true,pnotify_stack:{dir1:"down",dir2:"left",push:"bottom"}}})(jQuery);if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());var jsonParse=(function(){var E="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var J='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var I='(?:"'+J+'*")';var D=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+E+"|"+I+")","g");var K=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var G={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function H(L,M,N){return M?G[M]:String.fromCharCode(parseInt(N,16))}var C=new String("");var A="\\";var F={"{":Object,"[":Array};var B=Object.hasOwnProperty;return function(T,P){var O=T.match(D);var W;var U=O[0];var L=false;if("{"===U){W={}}else{if("["===U){W=[]}else{W=[];L=true}}var S;var Q=[W];for(var N=1-L,M=O.length;N<M;++N){U=O[N];var V;switch(U.charCodeAt(0)){default:V=Q[0];V[S||V.length]=+(U);S=void 0;break;case 34:U=U.substring(1,U.length-1);if(U.indexOf(A)!==-1){U=U.replace(K,H)}V=Q[0];if(!S){if(V instanceof Array){S=V.length}else{S=U||C;break}}V[S]=U;S=void 0;break;case 91:V=Q[0];Q.unshift(V[S||V.length]=[]);S=void 0;break;case 93:Q.shift();break;case 102:V=Q[0];V[S||V.length]=false;S=void 0;break;case 110:V=Q[0];V[S||V.length]=null;S=void 0;break;case 116:V=Q[0];V[S||V.length]=true;S=void 0;break;case 123:V=Q[0];Q.unshift(V[S||V.length]={});S=void 0;break;case 125:Q.shift();break}}if(L){if(Q.length!==1){throw new Error()}W=W[0]}else{if(Q.length){throw new Error()}}if(P){var R=function(c,b){var d=c[b];if(d&&typeof d==="object"){var X=null;for(var Z in d){if(B.call(d,Z)&&d!==c){var Y=R(d,Z);if(Y!==void 0){d[Z]=Y}else{if(!X){X=[]}X.push(Z)}}}if(X){for(var a=X.length;--a>=0;){delete d[X[a]]}}}return P.call(c,b,d)};W=R({"":W},"")}return W}})();var QCD=QCD||{};var pnotify_stack={dir1:"up",dir2:"left",firstpos1:15,firstpos2:30};QCD.MessagesController=function(){this.clearMessager=function(){$.pnotify_remove_all()};this.addMessage=function(A){type=A.type.toLowerCase();if(type=="failure"){type="error"}$.pnotify({pnotify_title:A.title,pnotify_text:A.content,pnotify_stack:pnotify_stack,pnotify_history:false,pnotify_width:"300px",pnotify_type:type,pnotify_addclass:type=="success"?"ui-state-success":"",pnotify_notice_icon:type=="success"?"ui-icon ui-icon-success":"ui-icon ui-icon-notify",pnotify_error_icon:"ui-icon ui-icon-error",pnotify_opacity:0.9,pnotify_delay:4000,pnotify_hide:true})}};var QCD=QCD||{};QCD.WindowController=function(M){var G=null;var K;var A=new Array();var L=null;var H=null;var J=new QCD.MessagesController();var E=M;var F;function D(N){G=$("#mainPageIframe");K=$("#loadingIndicator");K.hide();G.load(function(){I(this)});$(window).bind("resize",C);F=new QCD.menu.MenuController(E,N);C()}this.addMessage=function(N,O){J.addMessage(N,O)};this.performLogout=function(){QCD.info("logout");window.location="j_spring_security_logout"};this.goToPage=function(N,P,Q){var O={url:G.attr("src"),serializationObject:P};A.push(O);if(Q){H="page/"+N}else{H=N}B(H)};this.goBack=function(){var N=A.pop();L=N.serializationObject;H=N.url;B(H)};this.goToLastPage=function(){B(H)};this.goToMenuPosition=function(N){F.goToMenuPosition(N)};this.hasMenuPosition=function(N){return F.hasMenuPosition(N)};this.onSessionExpired=function(N){L=N;B("login.html")};this.restoreMenuState=function(){F.restoreState()};this.canChangePage=function(){try{if(G[0].contentWindow.canClose){return G[0].contentWindow.canClose()}}catch(N){}return true};this.onMenuClicked=function(N){H=N;A=new Array();B(H)};function B(N){K.show();if(N.search("://")<=0){if(N.indexOf("?")==-1){N+="?iframe=true"}else{if(N.charAt(N.length-1)=="?"){N+="iframe=true"}else{N+="&iframe=true"}}}G.attr("src",N)}function I(){try{if(G[0].contentWindow.init){G[0].contentWindow.init(L);L=null}}catch(N){}K.hide()}function C(){var O=$(document).width();var P=Math.round(O*0.02);var N=Math.round(O-2*P);$("#q_menu_row1").width(N);$("#secondLevelMenu").width(N)}this.updateSize=C;D(this)};var QCD=QCD||{};QCD.menu=QCD.menu||{};QCD.menu.MenuController=function(F,D){var J=D;var C=$("#firstLevelMenu");var L=$("#secondLevelMenu");var I=new Object();I.first=null;I.second=null;var H=new Object();H.first=null;H.second=null;function E(R){model=new QCD.menu.MenuModel(R.menuItems);var V=$("<ul>").addClass("q_row1");var Q=$("<div>").attr("id","q_menu_row1");Q.append(V);var P=$("<div>").attr("id","q_row1");P.append(Q);var U=$("<div>").attr("id","q_row1_out");U.append(P);C.append(U);for(var O in model.items){var T=model.items[O];var S=$("<li>").html("<a href='#'><span>"+T.label+"</span></a>").attr("id","firstLevelButton_"+T.name);V.append(S);T.element=S;S.click(function(W){K($(this),W)})}I.first=model.selectedItem;model.selectedItem.element.addClass("path");I.second=model.selectedItem.selectedItem;N();M(model.selectedItem.selectedItem.page)}function K(Q,R){Q.children().blur();var O=Q.attr("id").substring(17);var P=model.itemsMap[O];model.selectedItem=P;if(model.selectedItem.selectedItem){H.second=model.selectedItem.selectedItem}N()}function B(P){P.children().blur();if(!G()){return }var O=P.attr("id").substring(18);var Q=model.selectedItem.itemsMap[O];model.selectedItem.selectedItem=Q;I.first.element.removeClass("path");I.first=model.selectedItem;I.second=model.selectedItem.selectedItem;I.first.element.addClass("path");N();M(model.selectedItem.selectedItem.page)}this.goToMenuPosition=function(O){var R=O.split(".");var Q=model.itemsMap[R[0]];var P=Q.itemsMap[R[0]+"_"+R[1]];model.selectedItem.element.removeClass("path");Q.selectedItem=P;I.first=Q;I.second=P;model.selectedItem=Q;N();M(model.selectedItem.selectedItem.page)};this.hasMenuPosition=function(O){var R=O.split(".");var Q=model.itemsMap[R[0]];if(Q==null){return false}var P=Q.itemsMap[R[0]+"_"+R[1]];if(P==null){return false}return true};this.restoreState=function(){model.selectedItem=I.first;if(I.second){model.selectedItem.selectedItem=I.second}N()};function N(){if(H.first!=model.selectedItem){if(H.first){H.first.element.removeClass("activ");H.first.selectedItem=null}H.first=model.selectedItem;H.first.element.addClass("activ");A()}else{if(H.second!=model.selectedItem.selectedItem){if(H.second){H.second.element.removeClass("activ")}H.second=model.selectedItem.selectedItem;if(H.second){H.second.element.addClass("activ")}}}}function A(){L.children().remove();var T=$("<ul>").addClass("q_row2");var Q=$("<div>").attr("id","q_menu_row2");Q.append(T);var O=$("<div>").attr("id","q_row2_out");O.append(Q);L.append(O);for(var R in model.selectedItem.items){var P=model.selectedItem.items[R];var S=$("<li>").html("<a href='#'><span>"+P.label+"</span></a>").attr("id","secondLevelButton_"+P.name);T.append(S);P.element=S;S.click(function(){B($(this))});if(I.second&&I.second.name==P.name){P.element.addClass("activ");H.second=P}}}function M(O){J.onMenuClicked(O)}function G(){return J.canChangePage()}E(F)};var QCD=QCD||{};QCD.menu=QCD.menu||{};QCD.menu.MenuModel=function(C){this.selectedItem=null;this.items=new Array();this.itemsMap=new Object();for(var B in C){var A=new QCD.menu.FirstButton(C[B]);this.items.push(A);this.itemsMap[A.name]=A;if(!this.selectedItem){this.selectedItem=A;A.selectedItem=A.items[0]}}};QCD.menu.FirstButton=function(C){this.name=C.name;this.label=C.label;this.element=null;this.selectedItem=null;this.itemsMap=new Object();this.items=new Array();for(var B in C.items){var A=new QCD.menu.SecondButton(C.items[B],this);this.itemsMap[A.name]=A;this.items.push(A)}};QCD.menu.SecondButton=function(A,B){this.name=B.name+"_"+A.name;this.label=A.label;this.page=A.page;this.element=null};var QCDConnector={};QCDConnector.windowName=null;QCDConnector.mainController=null;QCDConnector.sendGet=function(D,F,E,B){if(!QCDConnector.windowName){throw ("no window name defined in conector")}var A=QCDConnector.windowName+"/"+D+".html";if(F){var G=true;for(var C in F){if(G){A+="?"}else{A+="&"}A+=C+"="+F[C];G=false}}$.ajax({url:A,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",complete:function(J,L){if(J.status==200){var K=$.trim(J.responseText);if(K=="sessionExpired"){QCDConnector.mainController.onSessionExpired();return }if(K.substring(0,20)=="<![CDATA[ERROR PAGE:"){var I=K.substring(20,K.search("]]>"));QCDConnector.showErrorMessage(I);if(B){B(I)}return }if(E){if(K!=""){var H=JSON.parse(K);E(H)}else{E(null)}}}else{QCDConnector.showErrorMessage("connection error: "+J.statusText);if(B){B(J.statusText)}}}})};QCDConnector.sendPost=function(D,C,B){if(!QCDConnector.windowName){throw ("no window name defined in conector")}var A=QCDConnector.windowName+".html";$.ajax({url:A,type:"POST",data:D,dataType:"json",contentType:"application/json; charset=utf-8",complete:function(G,I){if(G.status==200){var H=$.trim(G.responseText);if(H=="sessionExpired"){QCDConnector.mainController.onSessionExpired();return }if(H.substring(0,20)=="<![CDATA[ERROR PAGE:"){var F=H.substring(20,H.search("]]>"));QCDConnector.showErrorMessage(F);if(B){B(F)}return }if(C){if(H!=""){var E=JSON.parse(H);C(E)}else{C(null)}}}else{QCDConnector.showErrorMessage("connection error: "+G.statusText);if(B){B(G.statusText)}}}})};QCDConnector.showErrorMessage=function(A){QCDConnector.mainController.showMessage({type:"failure",content:A})};var QCD=QCD||{};QCD.info=function(A){if(window.console&&window.console.info){window.console.info(A)}};QCD.debug=function(A){if(window.console&&window.console.debug){window.console.debug(A)}};QCD.error=function(A){if(window.console&&window.console.error){window.console.error(A)}};var QCDOptions={};QCDOptions.getElementOptions=function(A){var C=$($("#"+A+" .element_options")[0]);if(!C.html()||$.trim(C.html())==""){var B=new Object()}else{var B=jsonParse(C.html())}C.remove();return B};var QCDPageConstructor={};QCDPageConstructor.getChildrenComponents=function(elements,mainController){var components=new Object();elements.each(function(i,e){var element=$(e);if(element.hasClass("component")){var component=null;var elementFullName=element.attr("id");var elementSearchName=elementFullName.replace(/\./g,"\\.");var elementName=elementFullName.split(".")[elementFullName.split(".").length-1];var jsObjectElement=$("#"+elementSearchName+" > .element_js_object");var jsObjectClassName=$.trim(jsObjectElement.html());jsObjectElement.remove();component=eval("new "+jsObjectClassName+"(element, mainController);");components[elementName]=component}});return components};var QCDSerializator={};QCDSerializator.serializeForm=function(B){var A=B.serializeArray();var C={};$.each(A,function(){if(/.*\[.*\]/.test(this.name)){var E=this.name.substring(0,this.name.search(/\[/));var D=this.name.substring(this.name.search(/\[/)+1,this.name.search(/\]/));if(!C[E]){C[E]=new Object()}C[E][D]=this.value||""}else{C[this.name]=this.value||""}});return C};QCDSerializator.equals=function(B,A){if(B==null&&A==null){return true}if(B==null||A==null){return false}if(typeof (B)!=typeof (A)){return false}var D={};for(var C in B){D[C]=1}for(var C in A){D[C]=1}for(var C in D){if(B.hasOwnProperty(C)!=A.hasOwnProperty(C)){if((B.hasOwnProperty(C)&&typeof (B[C])=="function")||(A.hasOwnProperty(C)&&typeof (A[C])=="function")){continue}else{return false}}if(typeof (B[C])!=typeof (A[C])){return false}if(typeof (B[C])=="object"){if(!QCDSerializator.equals(B[C],A[C])){return false}}else{if(B[C]!==A[C]){return false}}}return true};var SNOW_Picture="/img/core/snow6.gif";var SNOW_no=100;var SNOW_browser_IE_NS=(document.body)?1:0;var SNOW_browser_MOZ=(self.innerWidth)?1:0;var SNOW_browser_IE7=(document.documentElement.clientHeight)?1:0;var SNOW_Time;var SNOW_dx,SNOW_xp,SNOW_yp;var SNOW_am,SNOW_stx,SNOW_sty;var i,SNOW_Browser_Width,SNOW_Browser_Height;if(SNOW_browser_IE_NS){SNOW_Browser_Width=document.body.clientWidth;SNOW_Browser_Height=document.body.clientHeight}else{if(SNOW_browser_MOZ){SNOW_Browser_Width=self.innerWidth-20;SNOW_Browser_Height=self.innerHeight}else{if(SNOW_browser_IE7){SNOW_Browser_Width=document.documentElement.clientWidth;SNOW_Browser_Height=document.documentElement.clientHeight}}}SNOW_dx=new Array();SNOW_xp=new Array();SNOW_yp=new Array();SNOW_am=new Array();SNOW_stx=new Array();SNOW_sty=new Array();function SNOW_Weather(A){if(A){for(i=0;i<SNOW_no;++i){SNOW_dx[i]=0;SNOW_xp[i]=Math.random()*(SNOW_Browser_Width-50);SNOW_yp[i]=Math.random()*SNOW_Browser_Height;SNOW_am[i]=Math.random()*20;SNOW_stx[i]=0.02+Math.random()/10;SNOW_sty[i]=0.7+Math.random();var C=$("<div>").attr("id","SNOW_flake"+i).attr("style","position: absolute; z-index: "+i+"; visibility: visible; top: 15px; left: 15px;");var B=$("<img>").attr("src",SNOW_Picture).attr("border","0");C.append(B);$("body").append(C)}}for(i=0;i<SNOW_no;++i){SNOW_yp[i]+=SNOW_sty[i];if(SNOW_yp[i]>SNOW_Browser_Height-50){SNOW_xp[i]=Math.random()*(SNOW_Browser_Width-SNOW_am[i]-30);SNOW_yp[i]=0;SNOW_stx[i]=0.02+Math.random()/10;SNOW_sty[i]=0.7+Math.random()}SNOW_dx[i]+=SNOW_stx[i];document.getElementById("SNOW_flake"+i).style.top=SNOW_yp[i]+"px";document.getElementById("SNOW_flake"+i).style.left=SNOW_xp[i]+SNOW_am[i]*Math.sin(SNOW_dx[i])+"px"}SNOW_Time=setTimeout("SNOW_Weather(false)",10)}jQuery(document).ready(function(){if(QCD&&QCD.global&&QCD.global.isSonowOnPage){SNOW_Weather(true)}});var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.Component=function(B,G){var H=G;var C=B;var F=C.attr("id");var I=F.replace(/\./g,"\\.");var J=F.split(".")[F.split(".").length-1];this.element=C;this.elementPath=F;this.elementSearchName=I;this.elementName=J;var D=true;var E=true;this.contextObject=null;function A(L){var K=$("#"+I+" > .element_options");if(!K.html()||$.trim(K.html())==""){L.options=new Object()}else{L.options=jsonParse(K.html())}K.remove();D=L.options.defaultVisible;E=L.options.defaultEnabled}this.getValue=function(){var K=new Object();K.enabled=E;K.visible=D;if(this.getComponentValue){K.content=this.getComponentValue()}else{K.content=null}if(this.contextObject){K.context=this.contextObject}if(this.getComponentsValue){K.components=this.getComponentsValue()}return K};this.setValue=function(K){this.setEnabled(K.enabled);this.setVisible(K.visible);this.setMessages(K.messages);if(K.components){this.setComponentsValue(K)}if(K.content!=null){this.setComponentValue(K.content)}if(K.updateState){this.performUpdateState()}};this.performUpdateState=function(){};this.addContext=function(L,K){if(!this.contextObject){this.contextObject=new Object}this.contextObject[L]=K};this.fireEvent=function(K,L){this.beforeEventFunction();H.callEvent(K,F,null,L)};this.setState=function(K){this.setEnabled(K.enabled);this.setVisible(K.visible);if(this.setComponentState){this.setComponentState(K.content)}else{QCD.error(this.elementPath+".setComponentState() no implemented")}if(K.components){this.setComponentsState(K)}};this.updateSize=function(L,K){};this.setMessages=function(L){for(var K in L){H.showMessage(L[K])}};this.setEnabled=function(K){E=K;this.setComponentEnabled(E)};this.isEnabled=function(){return E};this.setVisible=function(K){D=K;if(this.setComponentVisible){this.setComponentVisible(D)}else{if(D){C.show()}else{C.hide()}}};this.isVisible=function(){return D};this.isChanged=function(){return this.isComponentChanged()};this.isComponentChanged=function(){return false};A(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.Container=function(A,E,C){$.extend(this,new QCD.components.Component(A,E));var D=E;var B;this.constructChildren=function(F){B=QCDPageConstructor.getChildrenComponents(F,D);this.components=B};this.getComponentsValue=function(){var F=new Object();for(var G in B){F[G]=B[G].getValue()}return F};this.setComponentsValue=function(H){for(var G in H.components){var F=H.components[G];B[G].setValue(F)}};this.setComponentsState=function(H){for(var G in H.components){var F=H.components[G];B[G].setState(F)}};this.isChanged=function(){changed=this.isComponentChanged();if(changed==true){return true}for(var F in B){if(B[F].isChanged()){changed=true;break}}return changed}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.containers=QCD.components.containers||{};QCD.components.containers.Form=function(D,J){$.extend(this,new QCD.components.Container(D,J));var K=J;var E=D;var I=this.elementPath;var M=null;var A=null;var H=null;var G=null;translations=this.options.translations;function B(O){var N=$("#"+O.elementSearchName+"_formComponents");O.constructChildren(N.children())}this.getComponentValue=function(){return{entityId:M,baseValue:A,headerEntityIdentifier:H,header:G}};this.setComponentValue=function(N){if(N.valid){if(N.headerEntityIdentifier){K.setWindowHeader(N.header+" <span>"+N.headerEntityIdentifier+"</span>")}else{K.setWindowHeader(N.header)}}H=N.headerEntityIdentifier;G=N.header;M=N.entityId;F()};this.setComponentState=function(N){if(N.headerEntityIdentifier){K.setWindowHeader(N.header+" <span>"+N.headerEntityIdentifier+"</span>")}else{K.setWindowHeader(N.header)}H=N.headerEntityIdentifier;G=N.header;M=N.entityId;if(N.baseValue){A=N.baseValue}F()};this.setComponentEnabled=function(N){};this.setComponentLoading=function(N){if(N){C()}else{F()}};this.performUpdateState=function(){A=M};this.isComponentChanged=function(){return !(A==M)};this.performSave=function(N){L("save",N)};this.performDelete=function(N){if(window.confirm(translations.confirmDeleteMessage)){L("delete",N)}};this.performCancel=function(N){if(window.confirm(translations.confirmCancelMessage)){L("reset",N)}};this.fireEvent=function(P,N,O){L(N,P,O)};function L(N,P,O){C();K.callEvent(N,I,function(){F()},O,P)}this.updateSize=function(N,P){for(var O in this.components){this.components[O].updateSize(N,P)}};function C(){QCD.components.elements.utils.LoadingIndicator.blockElement(E)}function F(){QCD.components.elements.utils.LoadingIndicator.unblockElement(E)}B(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.containers=QCD.components.containers||{};QCD.components.containers.layout=QCD.components.containers.layout||{};QCD.components.containers.layout.BorderLayout=function(A,C){$.extend(this,new QCD.components.containers.layout.Layout(A,C));function B(D){D.constructChildren(D.getLayoutChildren())}this.getLayoutChildren=function(){return $("#"+this.elementSearchName+"_layoutComponents").children()};this.updateSize=function(D,F){for(var E in this.components){this.components[E].updateSize(D,F)}};B(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.containers=QCD.components.containers||{};QCD.components.containers.layout=QCD.components.containers.layout||{};QCD.components.containers.layout.GridLayout=function(B,G){$.extend(this,new QCD.components.containers.layout.Layout(B,G));var F=this.elementSearchName;var A=$("#"+F+"_layoutComponents > table > tbody");var E=this.options.colsNumber;function D(H){H.constructChildren(C())}function C(){var H=A.children().children().children();return H}this.updateSize=function(J,M){var L=J/E;var O=50;var R=A.children().children();for(var N=0;N<R.length;N++){var I=$(R[N]);var H=I.attr("colspan")?I.attr("colspan"):1;var Q=L*H;I.width(Q)}for(var N in this.components){var I=this.components[N].element.parent();var K=I.attr("rowspan")?I.attr("rowspan"):1;var H=I.attr("colspan")?I.attr("colspan"):1;var P=O*K;var Q=L*H;this.components[N].updateSize(Q,P)}};D(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.containers=QCD.components.containers||{};QCD.components.containers.layout=QCD.components.containers.layout||{};QCD.components.containers.layout.Layout=function(A,B){$.extend(this,new QCD.components.Container(A,B));this.getComponentValue=function(){return{}};this.setComponentValue=function(C){};this.setComponentState=function(C){};this.setMessages=function(C){};this.setComponentEnabled=function(C){};this.setComponentLoading=function(){}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.containers=QCD.components.containers||{};QCD.components.containers.Window=function(A,D){$.extend(this,new QCD.components.Container(A,D));var C=D;this.element.css("height","100%");function B(H){var F=$("#"+H.elementSearchName+"_windowComponents");H.constructChildren(F.children());C.setWindowHeaderComponent(H);if(H.options.ribbon){ribbon=new QCD.components.Ribbon(H.options.ribbon,H.elementName,C);var E=ribbon.constructElement();var G=$("#"+H.elementPath+"_windowContainerRibbon");G.append(E)}}this.getComponentValue=function(){return{}};this.setComponentValue=function(E){};this.setComponentState=function(E){};this.setMessages=function(E){};this.setComponentEnabled=function(E){};this.setComponentLoading=function(){};this.updateSize=function(F,H){var J=!C.isPopup();var E=$("#"+this.elementSearchName+"_windowContent");var G=Math.round(F*0.02);if(G<20&&J){G=20}width=Math.round(F-2*G);if(width<960&&J){width=960;E.css("marginLeft",G+"px");E.css("marginRight",G+"px")}else{E.css("marginLeft","auto");E.css("marginRight","auto")}E.width(width);E.css("marginTop",G+"px");if(!this.options.fixedHeight){E.css("marginBottom",G+"px")}height=null;if(this.options.fixedHeight){var M=Math.round(H-2*G-70);height=M;if(this.options.header){height-=34}E.height(M)}for(var I in this.components){var K=height?height-20:null;this.components[I].updateSize(width-20,K)}var L=$("#"+this.elementSearchName+"_windowContainerContentBodyWidthMarker").innerWidth();if(ribbon){ribbon.updateSize(G,L)}};this.setHeader=function(F){var E=$("#"+this.elementPath+"_windowHeader");if(E){E.html(F)}};this.performBack=function(E){C.goBack();if(E){E.performNext()}};this.performCloseWindow=function(E){C.closeWindow();if(E){E.performNext()}};B(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.Calendar=function(C,K){$.extend(this,new QCD.components.elements.FormComponent(C,K));var B=200;var L=C;var E=$("#"+this.elementSearchName+"_calendar");var J=this.input;var F;var I;var D=false;var G=false;var H=false;var A=function(M){options=$.datepicker.regional[locale];if(!options){options=$.datepicker.regional[""]}options.changeMonth=true;options.changeYear=true;options.showOn="button";options.dateFormat="yy-mm-dd";options.showAnim="show";options.altField=J;options.onClose=function(O,N){D=false;if(H){G=true}};options.onSelect=function(O,N){I.slideUp(B);D=false};I=$("<div>").css("position","absolute").css("zIndex",100).css("right","15px");L.css("position","relative");I.hide();$("#ui-datepicker-div").hide();L.append(I);I.datepicker(options);J.val("");$(document).mousedown(function(N){if(!D){return }var O=$(N.target);if(O.attr("id")!=J.attr("id")&&O.attr("id")!=E.attr("id")&&O.parents(".ui-datepicker").length==0){I.slideUp(B);D=false}});E.hover(function(){H=true},function(){H=false});E.click(function(){if(E.hasClass("enabled")){if(G){G=false;return }if(!D){if(J.val()){try{$.datepicker.parseDate("yy-mm-dd",J.val());I.datepicker("setDate",J.val())}catch(Q){}}var P=J.offset().top;var R=I.outerHeight();var O=J.outerHeight()+10;var N=document.documentElement.clientHeight+$(document).scrollTop();if((P+R+O)>N){I.css("top","");I.css("bottom",O+"px");isOnTop=true}else{I.css("top",O+"px");I.css("bottom","");isOnTop=false}I.slideDown(B).show();D=true}else{I.slideUp(B);D=false}}});J.focus(function(){E.addClass("lightHover")}).blur(function(){E.removeClass("lightHover")})};this.setFormComponentEnabled=function(M){if(M){E.addClass("enabled");J.datepicker("enable")}else{E.removeClass("enabled");J.datepicker("disable")}};this.updateSize=function(N,O){var M=O?O-10:40;this.input.parent().parent().parent().parent().parent().height(M)};A(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.CheckBox=function(A,F){$.extend(this,new QCD.components.elements.FormComponent(A,F));var E=F;var D=$("#"+this.elementSearchName+"_text");var C;var B=this.options.translations;this.getComponentData=function(){if(this.input.attr("checked")){return{value:"1"}}return{value:"0"}};this.setComponentData=function(G){if(G!=null&&G.value==1){this.input.attr("checked",true);D.html(B["true"])}else{this.input.attr("checked",false);D.html(B["false"])}};this.setFormComponentEnabled=function(G){if(this.options.textRepresentationOnDisabled){if(G){this.input.show();D.hide()}else{this.input.hide();D.show()}}};this.setComponentEnabled=function(G){if(G){D.removeClass("disabled");this.input.removeAttr("disabled")}else{D.addClass("disabled");this.input.attr("disabled","true")}if(this.setFormComponentEnabled){this.setFormComponentEnabled(G)}};this.setSelected=function(H,G){this.input.attr("checked",G);if(H){H.performNext()}};this.setCurrentValue=function(G){C=this.input.attr("checked")};this.updateSize=function(H,I){var G=I?I-10:40;this.input.parent().parent().height(G)}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.DynamicComboBox=function(C,I){$.extend(this,new QCD.components.elements.FormComponent(C,I));var D=C;var J=I;var G=this.elementPath;var E=null;var F=this.input;var B=function(K){F.change(function(){A()})};function A(){title=F.find(":selected").text();value=F.val();if(title&&value){F.attr("title",title)}else{F.removeAttr("title")}}this.getComponentData=function(){var K=this.input.val();return{value:K}};this.setComponentData=function(K){H(K)};function H(N){if(N==null){return }if(N.value&&!N.values){E=N.value;return }var M=F.val();F.children().remove();for(var K in N.values){var L=N.values[K];F.append("<option value='"+L.key+"'>"+L.value+"</option>")}if(E){selected=E}else{selected=N.value}if(selected==undefined){F.val(M)}else{F.val(selected)}A()}this.setComponentEnabled=function(K){if(K){D.removeClass("disabled");this.input.removeAttr("disabled")}else{D.addClass("disabled");this.input.attr("disabled","true")}if(this.setFormComponentEnabled){this.setFormComponentEnabled(K)}};this.updateSize=function(L,M){var K=M?M-10:40;this.input.parent().parent().height(K)};B(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.EntityComboBox=function(A,H){$.extend(this,new QCD.components.elements.FormComponent(A,H));var G=H;var D=this.options;var F=this.elementPath;var C=this.input;function E(I){I.input.change(B)}function B(){if(D.listeners.length>0){G.getUpdate(F,C.val(),D.listeners)}}this.getComponentData=function(){var I=this.input.val();if(!I||$.trim(I)==""){I=null}return{value:I}};this.setComponentData=function(M){var L=this.input.val();if(M.values!=null){this.input.children().remove();var I=G.getPluginIdentifier()+"."+G.getViewName()+"."+F.replace(/-/g,".")+".blankValue";this.input.append("<option value=''>"+G.getTranslation(I)+"</option>");for(var J in M.values){var K=M.values[J];this.input.append("<option value='"+J+"'>"+K+"</option>")}}selected=M.value;if(selected!=null){this.input.val(selected)}else{this.input.val(L)}};E(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.FormComponent=function(C,J){$.extend(this,new QCD.components.Component(C,J));var K=J;var E=C;var D=$("#"+this.elementSearchName+"_error_icon");var L=$("#"+this.elementSearchName+"_error_messages");var F=$("#"+this.elementSearchName+"_description_icon");var I=$("#"+this.elementSearchName+"_description_message");var A;this.input=$("#"+this.elementSearchName+"_input");function B(M){M.registerCallbacks()}this.registerCallbacks=function(){F.hover(function(){I.show()},function(){I.hide()});D.hover(function(){L.show()},function(){L.hide()})};this.getComponentData=function(){return{value:this.input.val(),}};this.setComponentData=function(M){if(M.value){this.input.val(M.value)}else{this.input.val("")}};this.getComponentValue=function(){var M=this.getComponentData();M.required=E.hasClass("required");M.baseValue=A;return M};this.setComponentValue=function(M){this.setComponentData(M);H(M.required)};this.setComponentState=function(M){this.setComponentData(M);H(M.required);if(M.baseValue!=undefined){A=M.baseValue}};this.performUpdateState=function(){A=this.getComponentData().value};this.isComponentChanged=function(){if(!(A==this.getComponentData().value)){A}return !(A==this.getComponentData().value)};this.setComponentEnabled=function(M){if(M){E.removeClass("disabled");this.input.removeAttr("readonly")}else{E.addClass("disabled");this.input.attr("readonly","readonly")}if(this.setFormComponentEnabled){this.setFormComponentEnabled(M)}};function H(M){if(M){E.addClass("required")}else{E.removeClass("required")}}this.setMessages=function(N){L.html("");for(var M in N){this.addMessage(N[M])}if(N){G(N.length!=0)}};this.addMessage=function(P){messageDiv=$("<div>");messageDiv.append("<span>"+P.title+"</span>");messageDiv.append("<p>"+P.content+"</p>");L.append(messageDiv);var Q=this.input.offset().top;var N=L.height();var O=this.input.outerHeight()-1;var M=document.documentElement.clientHeight+$(document).scrollTop();if((Q+N+O)>M){L.css("top","");L.css("bottom",D.outerHeight()+"px")}else{L.css("top",D.outerHeight()+"px");L.css("bottom","")}};function G(M){if(M){E.addClass("error")}else{E.removeClass("error")}}this.setComponentLoading=function(M){};this.updateSize=function(N,O){var M=O?O-10:40;this.input.parent().parent().parent().height(M)};B(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.grid=QCD.components.elements.grid||{};QCD.components.elements.grid.GridHeaderController=function(I,Q,C,O){var H=I;var D=Q;var N=C;var G=O;var M=new Object();M.first=null;M.max=null;M.totalNumberOfEntities=null;var R;var P;var S=new Object();S.filterButton=null;S.predefiniedFiltersCombo=null;S.predefiniedFiltersCustomOption_line1=$("<option>").attr("value",-1).html("--------------").css("display","none");S.predefiniedFiltersCustomOption_line2=$("<option>").attr("value",-1).html(G.customPredefinedFilter).css("display","none");S.newButton=null;S.deleteButton=null;S.upButton=null;S.downButton=null;var W=null;var B=null;var V;var J=false;var L=null;function T(X){M.first=0;M.max=30;M.totalNumberOfEntities=0}function A(){if(N.paging&&J){var Y=Math.ceil(M.totalNumberOfEntities/M.max);if(Y==0){Y=1}var X=Math.ceil(M.first/M.max);if(M.first%M.max==0){X+=1}W.setPageData(X,Y,M.max);B.setPageData(X,Y,M.max);if(X>1){W.enablePreviousButtons();B.enablePreviousButtons()}else{W.disablePreviousButtons();B.disablePreviousButtons()}if(M.first+M.max<M.totalNumberOfEntities){W.enableNextButtons();B.enableNextButtons()}else{W.disableNextButtons();B.disableNextButtons()}W.enableRecordsNoSelect();B.enableRecordsNoSelect();W.enableInput();B.enableInput()}}this.paging_prev=function(){M.first-=M.max;if(M.first<0){M.first=0}U()};this.paging_next=function(){M.first+=M.max;U()};this.paging_first=function(){M.first=0;U()};this.paging_last=function(){if(M.totalNumberOfEntities%M.max>0){M.first=M.totalNumberOfEntities-M.totalNumberOfEntities%M.max}else{M.first=M.totalNumberOfEntities-M.max}U()};this.paging_onRecordsNoSelectChange=function(X){var Y=X.val();M.max=parseInt(Y);M.first=0;U()};this.paging_setPageNo=function(Z){var Y=Z.val();if(!Y||$.trim(Y)==""){Z.addClass("inputError");return }if(!/^\d*$/.test(Y)){Z.addClass("inputError");return }var X=parseInt(Y);if(X<=0){Z.addClass("inputError");return }if(X>Math.ceil(M.totalNumberOfEntities/M.max)){Z.addClass("inputError");return }M.first=M.max*(X-1);U()};function U(){W.hideInputError();B.hideInputError();H.onPagingParametersChange()}this.getPagingParameters=function(){return[M.first,M.max]};this.updatePagingParameters=function(Z,X,Y){if(Z>Y){M.first=0;H.onPagingParametersChange()}else{M.first=Z}M.max=X;M.totalNumberOfEntities=Y;V.html("("+M.totalNumberOfEntities+")");A()};this.getHeaderElement=function(){R=$("<div>").addClass("grid_header").addClass("elementHeader").addClass("elementHeaderDisabled");R.append($("<span>").html(G.header).addClass("grid_header_gridName").addClass("elementHeaderTitle"));V=$("<span>").html("(0)").addClass("grid_header_totalNumberOfEntities").addClass("elementHeaderTitle");R.append(V);if(N.hasPredefinedFilters){var X=new Array();for(var Y in N.predefinedFilters){X[Y]={value:Y,label:G["filter."+N.predefinedFilters[Y].label]}}S.predefiniedFiltersCombo=QCD.components.elements.utils.HeaderUtils.createHeaderComboBox(X,function(Z){if(Z<0){return }S.predefiniedFiltersCustomOption_line1.css("display","none");S.predefiniedFiltersCustomOption_line2.css("display","none");var a=N.predefinedFilters[Z];H.setFilterObject(a)});S.predefiniedFiltersCombo.append(S.predefiniedFiltersCustomOption_line1);S.predefiniedFiltersCombo.append(S.predefiniedFiltersCustomOption_line2);R.append(S.predefiniedFiltersCombo)}if(N.filter){S.filterButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(G.addFilterButton,function(Z){if(S.filterButton.hasClass("headerButtonEnabled")){F()}},"filterIcon16_dis.png");R.append(S.filterButton);E(S.filterButton,false)}if(N.canNew){S.newButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(G.newButton,function(Z){if(S.newButton.hasClass("headerButtonEnabled")){H.onNewButtonClicked()}},"newIcon16_dis.png");R.append(S.newButton);E(S.newButton,false)}if(N.canDelete){S.deleteButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(G.deleteButton,function(Z){if(S.deleteButton.hasClass("headerButtonEnabled")){H.onDeleteButtonClicked()}},"deleteIcon16_dis.png");R.append(S.deleteButton);E(S.deleteButton,false)}if(N.orderable){S.upButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(G.upButton,function(Z){if(S.upButton.hasClass("headerButtonEnabled")){H.onUpButtonClicked()}},"upIcon16_dis.png");R.append(S.upButton);E(S.upButton,false);S.downButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(G.downButton,function(Z){if(S.downButton.hasClass("headerButtonEnabled")){H.onDownButtonClicked()}},"downIcon16_dis.png");R.append(S.downButton);E(S.downButton,false)}if(N.paging){W=new QCD.components.elements.grid.GridPagingElement(this,D,G);R.append(W.getPagingElement(M))}return R};this.getFooterElement=function(){if(!N.paging){return null}B=new QCD.components.elements.grid.GridPagingElement(this,D,G);P=$("<div>").addClass("grid_footer").append(B.getPagingElement(M));return P};this.setEnabled=function(X){J=X;if(J){R.removeClass("elementHeaderDisabled");if(P){P.removeClass("elementHeaderDisabled")}}else{R.addClass("elementHeaderDisabled");if(P){P.addClass("elementHeaderDisabled")}}K()};this.onRowClicked=function(X){L=X;K()};function K(){if(!J){if(S.filterButton!=null){E(S.filterButton,false)}if(S.predefiniedFiltersCombo!=null){S.predefiniedFiltersCombo.disable()}if(S.newButton!=null){E(S.newButton,false)}if(S.deleteButton!=null){E(S.deleteButton,false)}if(S.upButton!=null){E(S.upButton,false)}if(S.downButton!=null){E(S.downButton,false)}if(N.paging){W.disablePreviousButtons();B.disablePreviousButtons();W.disableNextButtons();B.disableNextButtons();W.disableRecordsNoSelect();B.disableRecordsNoSelect();W.disableInput();B.disableInput()}}else{if(S.filterButton!=null){E(S.filterButton,true)}if(S.predefiniedFiltersCombo!=null){S.predefiniedFiltersCombo.enable()}if(S.newButton!=null){E(S.newButton,true)}if(S.deleteButton!=null){if(L!=null){E(S.deleteButton,true)}else{E(S.deleteButton,false)}}if(N.paging){var X=Math.ceil(M.first/M.max)+1;var Y=Math.ceil(M.totalNumberOfEntities/M.max);if(Y==0){Y=1}}if(S.upButton!=null){if(L==1||L==null){E(S.upButton,false)}else{E(S.upButton,true)}}if(S.downButton!=null){if(L==M.totalNumberOfEntities||L==null){E(S.downButton,false)}else{E(S.downButton,true)}}}}function F(){if(S.filterButton.hasClass("headerButtonActive")){S.filterButton.removeClass("headerButtonActive");S.filterButton.label.html(G.addFilterButton)}else{S.filterButton.addClass("headerButtonActive");S.filterButton.label.html(G.removeFilterButton)}H.onFilterButtonClicked()}this.setFilterActive=function(){S.filterButton.addClass("headerButtonActive");S.filterButton.label.html(G.removeFilterButton)};this.setFilterNotActive=function(){S.filterButton.removeClass("headerButtonActive");S.filterButton.label.html(G.addFilterButton)};this.setPredefinedFilter=function(X){if(X==null){S.predefiniedFiltersCustomOption_line1.css("display","");S.predefiniedFiltersCustomOption_line2.css("display","");S.predefiniedFiltersCombo.val(-1)}else{S.predefiniedFiltersCustomOption_line1.css("display","none");S.predefiniedFiltersCustomOption_line2.css("display","none");S.predefiniedFiltersCombo.val(X)}};this.setEnabledButton=function(Y,X){if(X){Y.addClass("headerButtonEnabled")}else{Y.removeClass("headerButtonEnabled")}};var E=this.setEnabledButton;T(this)};QCD.components.elements.grid.GridPagingElement=function(B,H,D){var A=B;var G=H;var C=D;var E=new Object();E.prevButton=null;E.nextButton=null;E.firstButton=null;E.lastButton=null;E.recordsNoSelect=null;E.pageNo=null;E.allPagesNoSpan=null;function F(){}this.getPagingElement=function(K){var P=$("<div>").addClass("grid_paging");var M=$("<span>").html(C.perPage).addClass("onPageSpan");P.append(M);E.recordsNoSelect=$("<select>").addClass("recordsNoSelect");E.recordsNoSelect.append("<option value=10>10</option>");E.recordsNoSelect.append("<option value=20>20</option>");E.recordsNoSelect.append("<option value=30>30</option>");E.recordsNoSelect.append("<option value=50>50</option>");E.recordsNoSelect.append("<option value=100>100</option>");E.recordsNoSelect.val(K.max);P.append(E.recordsNoSelect);E.firstButton=$("<div>").addClass("headerPagingButton").addClass("headerButton_first");P.append(E.firstButton);E.prevButton=$("<div>").addClass("headerPagingButton").addClass("headerButton_left");P.append(E.prevButton);var J=Math.ceil(K.totalNumberOfEntities/K.max);if(J==0){J=1}var Q=Math.ceil(K.first/K.max)+1;var L=$("<span>").addClass("grid_paging_pageInfo");E.pageNo=$("<input type='text'></input>").addClass("pageInput");var N=$("<div>").addClass("component_container_form_inner");N.append('<div class="component_container_form_x"></div>');N.append('<div class="component_container_form_y"></div>');N.append(E.pageNo.val(Q));var O=$("<div>").addClass("component_container_form_w").append(N);L.append(O);var I=$("<span>").addClass("ofPagesSpan");I.append("<span>").html(" "+C.outOfPages+" ");E.allPagesNoSpan=$("<span>");I.append(E.allPagesNoSpan.html(J));L.append(I);P.append(L);E.nextButton=$("<div>").addClass("headerPagingButton").addClass("headerButton_right");P.append(E.nextButton);E.lastButton=$("<div>").addClass("headerPagingButton").addClass("headerButton_last");P.append(E.lastButton);E.firstButton.click(function(R){if($(R.target).hasClass("headerButtonEnabled")){A.paging_first()}});E.prevButton.click(function(R){if($(R.target).hasClass("headerButtonEnabled")){A.paging_prev()}});E.recordsNoSelect.change(function(R){A.paging_onRecordsNoSelectChange($(this))});E.pageNo.change(function(R){A.paging_setPageNo($(this))});E.nextButton.click(function(R){if($(R.target).hasClass("headerButtonEnabled")){A.paging_next()}});E.lastButton.click(function(R){if($(R.target).hasClass("headerButtonEnabled")){A.paging_last()}});A.setEnabledButton(E.prevButton,false);A.setEnabledButton(E.firstButton,false);A.setEnabledButton(E.nextButton,false);A.setEnabledButton(E.lastButton,false);return P};this.setPageData=function(J,K,I){E.allPagesNoSpan.html(K);E.pageNo.val(J);E.recordsNoSelect.val(I)};this.enablePreviousButtons=function(){A.setEnabledButton(E.prevButton,true);A.setEnabledButton(E.firstButton,true)};this.disablePreviousButtons=function(){A.setEnabledButton(E.prevButton,false);A.setEnabledButton(E.firstButton,false)};this.enableNextButtons=function(){A.setEnabledButton(E.nextButton,true);A.setEnabledButton(E.lastButton,true)};this.disableNextButtons=function(){A.setEnabledButton(E.nextButton,false);A.setEnabledButton(E.lastButton,false)};this.enableRecordsNoSelect=function(){E.recordsNoSelect.attr("disabled",false)};this.disableRecordsNoSelect=function(){E.recordsNoSelect.attr("disabled",true)};this.enableInput=function(){E.pageNo.attr("disabled",false)};this.disableInput=function(){E.pageNo.attr("disabled",true)};this.showInputError=function(){E.pageNo.addClass("inputError")};this.hideInputError=function(){E.pageNo.removeClass("inputError")};F()};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.Grid=function(b,P){$.extend(this,new QCD.components.Component(b,P));var M=P;var J=b;var o;var C=this.elementPath;var U=this.elementName;var L=this.elementSearchName;var S;var d;var G;var H;var A;var k=false;var N;var h;var R={selectedEntityId:null,filtersEnabled:false};var F=true;var K=new Object();var Q=new Object();var f={paging:true,fullScreen:false,shrinkToFit:false};var E;var m=200;var p=null;function Z(AC){S=new Object();var AB=new Array();var y=new Array();var x=false;for(var t in AC.columns){var s=AC.columns[t];K[s.name]=s;var q=false;var z=false;for(var r in AC.orderableColumns){if(AC.orderableColumns[r]==s.name){q=true;break}}for(var r in AC.searchableColumns){if(AC.searchableColumns[r]==s.name){z=true;x=true;break}}s.isSerchable=z;if(!s.hidden){AB.push(s.label+"<div class='sortArrow' id='"+C+"_sortArrow_"+s.name+"'></div>");var v="text";var AA={};if(s.filterValues){var u=new Object();u[""]="";for(var t in s.filterValues){u[t]=s.filterValues[t]}v="select";AA.value=u;AA.defaultValue=""}y.push({name:s.name,index:s.name,width:s.width,sortable:q,resizable:true,align:s.align,stype:v,searchoptions:AA})}else{Q[s.name]=new Object()}}S.hasPredefinedFilters=AC.hasPredefinedFilters;S.predefinedFilters=AC.predefinedFilters;S.sortColumns=AC.orderableColumns;S.colNames=AB;S.colModel=y;S.datatype=function(AD){};S.multiselect=true;S.shrinkToFit=true;S.listeners=AC.listeners;S.canNew=AC.creatable;S.canDelete=AC.deletable;S.paging=AC.paginable;S.filter=x;S.orderable=AC.prioritizable;S.fullScreen=AC.fullscreen;if(AC.height){S.height=parseInt(AC.height);if(S.height<=0){S.height=null}}if(AC.width){S.width=parseInt(AC.width)}if(!S.width&&!S.fullScreen){S.width=300}S.correspondingViewName=AC.correspondingView;S.correspondingComponent=AC.correspondingComponent;for(var w in f){if(S[w]==undefined){S[w]=f[w]}}}function Y(q){if(R.selectedEntityId==q){R.selectedEntityId=null}else{if(R.selectedEntityId){d.setSelection(R.selectedEntityId,false)}R.selectedEntityId=q}var r=d.jqGrid("getInd",R.selectedEntityId);if(r==false){r=null}o.onRowClicked(r);if(S.listeners.length>0){j()}}this.setLinkListener=function(q){h=q};function X(q){if(h){h.onGridLinkClicked(q)}else{var r=new Object();r[S.correspondingComponent+".id"]=q;n(r)}}function n(r){if(S.correspondingViewName&&S.correspondingViewName!=""){var q=S.correspondingViewName+".html";if(r){q+="?context="+JSON.stringify(r)}M.goToPage(q)}}this.getComponentValue=function(){return R};this.setComponentState=function(r){if(r.selectedEntityId){R.selectedEntityId=r.selectedEntityId}if(r.belongsToEntityId){R.belongsToEntityId=r.belongsToEntityId}if(r.firstEntity){R.firstEntity=r.firstEntity}if(r.maxEntities){R.maxEntities=r.maxEntities}if(r.filtersEnabled){R.filtersEnabled=r.filtersEnabled;o.setFilterActive();d[0].toggleToolbar();O();if(R.filtersEnabled){N-=21}else{N+=21}d.setGridHeight(N)}if(r.filters){R.filters=r.filters;for(var q in R.filters){$("#gs_"+q).val(R.filters[q])}a()}if(r.order){e(r.order)}};this.setComponentValue=function(u){if(u.belongsToEntityId){R.belongsToEntityId=u.belongsToEntityId}if(u.firstEntity){R.firstEntity=u.firstEntity}if(u.maxEntities){R.maxEntities=u.maxEntities}if(u.entities==null){return }d.jqGrid("clearGridData");var t=1;for(var s in u.entities){var r=u.entities[s];var q=new Object();for(var w in r.fields){if(Q[w]){Q[w][r.id]=r.fields[w]}else{if(K[w].link&&r.fields[w]&&r.fields[w]!=""){q[w]="<a href=# id='"+C+"_"+w+"_"+r.id+"' class='"+C+"_link gridLink'>"+r.fields[w]+"</a>"}else{q[w]=r.fields[w]}}}d.jqGrid("addRowData",r.id,q);if(t%2==0){d.jqGrid("setRowData",r.id,false,"darkRow")}else{d.jqGrid("setRowData",r.id,false,"lightRow")}t++}if(t==1){E.show()}else{E.hide()}$("."+L+"_link").click(function(z){var y=z.target.id.split("_");var x=y[y.length-1];X(x)});o.updatePagingParameters(R.firstEntity,R.maxEntities,u.totalEntities);d.setSelection(R.selectedEntityId,false);var v=d.jqGrid("getInd",R.selectedEntityId);if(v==false){R.selectedEntityId=null;v=null}o.onRowClicked(v);if(u.order){e(u.order)}g()};this.setComponentEnabled=function(q){k=q;o.setEnabled(q)};this.setComponentLoading=function(q){if(q){l()}else{g()}};function l(){QCD.components.elements.utils.LoadingIndicator.blockElement(J)}function g(){QCD.components.elements.utils.LoadingIndicator.unblockElement(J)}function D(r){Z(r.options,r);S.modifiedPath=C.replace(/\./g,"_");S.element=S.modifiedPath+"_grid";$("#"+L+"_grid").attr("id",S.element);A=r.options.translations;G=r.options.belongsToFieldName;o=new QCD.components.elements.grid.GridHeaderController(r,M,S,r.options.translations);$("#"+L+"_gridHeader").append(o.getHeaderElement());$("#"+L+"_gridFooter").append(o.getFooterElement());R.firstEntity=o.getPagingParameters()[0];R.maxEntities=o.getPagingParameters()[1];S.onSelectRow=function(s){Y(s)};S.ondblClickRow=function(s){X(s)};S.onSortCol=W;d=$("#"+S.element).jqGrid(S);$("#cb_"+S.element).hide();$("#jqgh_cb").hide();for(var q in S.sortColumns){$("#"+S.modifiedPath+"_grid_"+S.sortColumns[q]).addClass("sortableColumn")}J.width("100%");d.jqGrid("filterToolbar",{stringResult:true});if(S.isLookup){o.setFilterActive();R.filtersEnabled=true}else{d[0].toggleToolbar();R.filtersEnabled=false}E=$("<div>").html(A.noResults).addClass("noRecordsBox");E.hide();$("#window_orders_grid").parent().append(E)}this.onPagingParametersChange=function(){l();R.firstEntity=o.getPagingParameters()[0];R.maxEntities=o.getPagingParameters()[1];c()};function e(q){if(H&&H.column==q.column){if(q.direction=="asc"){$("#"+L+"_sortArrow_"+q.column).removeClass("downArrow");$("#"+L+"_sortArrow_"+q.column).addClass("upArrow");R.order.direction="asc"}else{$("#"+L+"_sortArrow_"+q.column).removeClass("upArrow");$("#"+L+"_sortArrow_"+q.column).addClass("downArrow");R.order.direction="desc"}}else{if(H){$("#"+S.modifiedPath+"_grid_"+H.column).removeClass("sortColumn")}$("#"+S.modifiedPath+"_grid_"+q.column).addClass("sortColumn");R.order={column:q.column};if(q.direction=="asc"){$("#"+L+"_sortArrow_"+q.column).addClass("upArrow");R.order.direction="asc"}else{$("#"+L+"_sortArrow_"+q.column).addClass("downArrow");R.order.direction="desc"}}H={column:q.column,direction:q.direction}}function W(s,r,q){l();R.order.column=s;if(R.order.direction=="asc"){R.order.direction="desc"}else{R.order.direction="asc"}c();return"stop"}function I(){if(p){window.clearTimeout(p);p=null}p=window.setTimeout(function(){p=null;T()},m)}function T(){l();if(R.filtersEnabled){R.filters=new Object();for(var q in K){var r=K[q];if(r.isSerchable){var s=$("#gs_"+r.name).val();s=$.trim(s);if(s&&s!=""){R.filters[r.name]=s}}}}else{R.filters=null}c()}this.onFilterButtonClicked=function(){d[0].toggleToolbar();R.filtersEnabled=!R.filtersEnabled;if(R.filtersEnabled){N-=23;O()}else{N+=23}d.setGridHeight(N);c()};function O(){for(var r in K){var s=K[r];if(s.isSerchable){var q=$("#gs_"+s.name);q.unbind("change keyup");if(s.filterValues){q.change(I)}else{q.keyup(function(v){var w=$(this).val();var t=$(this).attr("id").substring(3);var u="";if(R.filters&&R.filters[t]){u=R.filters[t]}if(R.filters&&w==u){return }I()})}}else{$("#gs_"+s.name).hide()}}}this.setFilterState=function(q,r){if(!R.filtersEnabled){d[0].toggleToolbar();R.filtersEnabled=true;o.setFilterActive();N-=21;d.setGridHeight(N)}R.filters=new Object();R.filters[q]=r;$("#gs_"+q).val(r)};this.setFilterObject=function(u){l();var v=u.filter;for(var s in K){var t=K[s];$("#gs_"+t.name).val("")}var r=0;for(var q in v){v[q]=Encoder.htmlDecode(v[q]);$("#gs_"+q).val(v[q]);r++}R.filters=v;if(r==0){if(R.filtersEnabled){N+=23;d.setGridHeight(N);d[0].toggleToolbar()}o.setFilterNotActive();R.filtersEnabled=false}else{if(!R.filtersEnabled){N-=23;d.setGridHeight(N);d[0].toggleToolbar()}o.setFilterActive();R.filtersEnabled=true}e({column:u.orderColumn,direction:u.orderDirection});O();c(true)};this.onNewButtonClicked=function(){B()};this.onDeleteButtonClicked=function(){V()};this.onUpButtonClicked=function(){l();M.callEvent("moveUp",C,function(){g()})};this.onDownButtonClicked=function(){l();M.callEvent("moveDown",C,function(){g()})};this.updateSize=function(q,r){if(!q){q=300}if(!r){r=300}J.css("height",r+"px");var s=120;N=r-s;if(R.filtersEnabled){N-=21}if(!S.paging){N+=35}d.setGridHeight(N);d.setGridWidth(q-24,F)};function c(q){if(!q){a()}if(k){M.callEvent("refresh",C,function(){g()})}}function a(){var u={};if(R.filtersEnabled&&R.filters){u=R.filters}var v=true;for(var r in S.predefinedFilters){var t=S.predefinedFilters[r].filter;v=true;if(S.predefinedFilters[r].orderColumn){if(R.order.column!=S.predefinedFilters[r].orderColumn){v=false;continue}if(R.order.direction!=S.predefinedFilters[r].orderDirection){v=false;continue}}for(var q in K){var s=K[q];if(t[s.name]!=u[s.name]){v=false;break}}if(v){o.setPredefinedFilter(r);break}}if(!v){o.setPredefinedFilter(null)}}function j(){if(k){M.callEvent("select",C,null)}}this.performNew=function(r){var q=new Object();q[S.correspondingComponent+"."+G]=R.belongsToEntityId;n(q);if(r){r.performNext()}};var B=this.performNew;this.performDelete=function(q){if(R.selectedEntityId){if(window.confirm(A.confirmDeleteMessage)){l();M.callEvent("remove",C,function(){g()},null,q)}}else{M.showMessage({type:"error",content:A.noRowSelectedError})}};var V=this.performDelete;this.fireEvent=function(s,q,r){l();M.callEvent(q,C,function(){g()},r,s)};this.performLinkClicked=function(q){if(R.selectedEntityId){X(R.selectedEntityId);if(q){q.performNext()}}else{M.showMessage({type:"error",content:A.noRowSelectedError})}};this.getLookupData=function(r){var q=Object();q.entityId=r;q.lookupValue=Q.lookupValue[r];var s=d.getRowData(r).lookupCode;s=s.replace(/^<a[^>]*>/,"");s=s.replace(/<\/a>$/,"");q.lookupCode=s;return q};D(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.LinkButton=function(D,J){$.extend(this,new QCD.components.Component(D,J));var K=J;var F=D;var I=this.elementPath;var L=this.elementName;var C;var G=$("#"+this.elementSearchName+"_buttonDiv");var H=$("#"+this.elementSearchName+"_buttonLink");this.getComponentValue=function(){return{value:{}}};this.setComponentValue=function(M){B(M)};this.setComponentState=function(M){B(M)};function B(M){C=M.value}this.setComponentEnabled=function(M){if(M){G.addClass("activeButton")}else{G.removeClass("activeButton")}};this.setComponentLoading=function(M){};function E(M){H.blur();if(G.hasClass("activeButton")){K.goToPage(C)}}function A(M){H.click(E)}A(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.lookup=QCD.components.elements.lookup||{};QCD.components.elements.lookup.Dropdown=function(J,G,E){var H=25;var D=4;var K=25;var B=J;var I=G;var C=E;var F;var L;var M;function A(){B.css("top","21px")}this.updateAutocomplete=function(S,R){M=S;F=null;B.children().remove();B.scrollTop(0);if(R>H){var P=$("<div>").addClass("lookupMatch_noRecords").html(C.tooManyResultsInfo+" ("+R+")");B.append(P);B.css("height",(K-1)+"px")}else{if(M.length==0){var P=$("<div>").addClass("lookupMatch_noRecords").html(C.noResultsInfo);B.append(P);B.css("height",(K-1)+"px")}else{if(M.length>D){B.css("height",(K*D-1)+"px");B.css("overflow","auto")}else{B.css("height",(M.length*K-1)+"px");B.css("overflow","hidden")}for(var Q in M){var O=M[Q];var N=$("<div>").addClass("lookupMatch").html(O.value).attr("id",I.elementPath+"_autocompleteOption_"+Q);N.mouseover(function(){$(this).addClass("lookupMatchHover");L=$(this)});N.mouseout(function(){$(this).removeClass("lookupMatchHover");L=null});N.click(function(){});B.append(N)}}}};this.selectNext=function(){if(!F){N=$(B.children()[0])}else{var N=F.next()}if(!N||N.length==0){return }if(F){F.removeClass("lookupMatchHover")}F=N;F.addClass("lookupMatchHover");if(F.position().top<0){B.scrollTop(B.scrollTop()+F.position().top)}if(F.position().top>=100){B.scrollTop(B.scrollTop()+F.position().top-75)}};this.selectPrevious=function(){if(!F){N=$(B.children()[B.children().length-1])}else{var N=F.prev()}if(!N||N.length==0){return }if(F){F.removeClass("lookupMatchHover")}F=N;F.addClass("lookupMatchHover");if(F.position().top<0){B.scrollTop(B.scrollTop()+F.position().top)}if(F.position().top>=100){B.scrollTop(B.scrollTop()+F.position().top-75)}};this.getSelected=function(){if(F){var N=F.attr("id").substring((I.elementPath+"_autocompleteOption_").length);return M[N]}return null};this.getMouseSelected=function(){if(L){var N=L.attr("id").substring((I.elementPath+"_autocompleteOption_").length);return M[N]}return null};this.hide=function(){B.slideUp(400)};this.show=function(){B.slideDown(400)};this.isOpen=function(){return B.is(":visible")};A()};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.Lookup=function(Q,R){$.extend(this,new QCD.components.elements.FormComponent(Q,R));var C=Q;var B=this.elementPath;var I=this.options.translations;var Z=200;var D={UP:38,DOWN:40,ENTER:13,ESCAPE:27};var P={input:this.input,loading:$("#"+this.elementSearchName+"_loadingDiv"),label:$("#"+this.elementSearchName+"_labelDiv"),openLookupButton:$("#"+this.elementSearchName+"_openLookupButton"),lookupDropdown:$("#"+this.elementSearchName+"_lookupDropdown")};var W={normal:P.label.html(),focus:"<span class='focusedLabel'>"+this.options.translations.labelOnFocus+"</span>"};var K={isFocused:false,error:null};var X={currentCode:null,selectedEntity:{id:null,value:null,code:null},autocomplete:{matches:null,code:null,entitiesNumber:null},contextEntityId:null};var U=null;var a=false;var A=new QCD.components.elements.lookup.Dropdown(P.lookupDropdown,this,I);var N=(this.options.listeners.length>0)?true:false;var T=this;var J;var Y;function V(b){P.openLookupButton.click(M);P.input.focus(function(){K.isFocused=true;L()}).blur(function(){K.isFocused=false;L()});P.input.keyup(function(g){var f=O(g);if(f==D.UP){if(!A.isOpen()){G(true)}A.selectPrevious()}else{if(f==D.DOWN){if(!A.isOpen()){G(true)}A.selectNext()}else{if(f==D.ENTER){if(!A.isOpen()){return }var c=A.getSelected();if(c==null){return }F(c);X.currentCode=X.selectedEntity.code;P.input.val(X.currentCode);A.hide()}else{if(f==D.ESCAPE){S(g);P.input.val(X.currentCode);A.hide()}else{var d=P.input.val();if(X.currentCode!=d){X.currentCode=d;F(null);G()}}}}}});P.input.keydown(function(d){var c=O(d);if(c==D.UP||c==D.ESCAPE){S(d);return false}}).keypress(function(d){var c=O(d);if(c==D.UP||c==D.ESCAPE){S(d);return false}})}this.getComponentData=function(){return{value:X.selectedEntity.id,selectedEntityValue:X.selectedEntity.value,selectedEntityCode:X.selectedEntity.code,currentCode:X.currentCode,autocompleteCode:X.autocomplete.code,contextEntityId:X.contextEntityId}};this.setComponentData=function(b){X.currentCode=b.currentCode?b.currentCode:X.currentCode;X.selectedEntity.id=b.value?b.value:null;X.selectedEntity.value=b.selectedEntityValue;X.selectedEntity.code=b.selectedEntityCode;X.autocomplete.matches=b.autocompleteMatches?b.autocompleteMatches:[];X.autocomplete.code=b.autocompleteCode?b.autocompleteCode:"";X.autocomplete.entitiesNumber=b.autocompleteEntitiesNumber;if(X.contextEntityId!=b.contextEntityId){X.contextEntityId=b.contextEntityId;X.currentCode=""}if(!X.currentCode){X.currentCode=X.selectedEntity.id?X.selectedEntity.code:""}H()};this.performUpdateState=function(){Y={currentCode:X.currentCode}};this.isComponentChanged=function(){return !(X.currentCode==Y.currentCode)};function L(){if(K.isFocused&&!P.input.attr("readonly")){P.openLookupButton.addClass("lightHover");P.label.html(W.focus);P.input.val(X.currentCode)}else{P.openLookupButton.removeClass("lightHover");A.hide();if(U||P.loading.is(":visible")){a=true;return }K.error=null;if(!X.selectedEntity.id&&!A.getSelected()&&!A.getMouseSelected()&&X.autocomplete.matches&&X.currentCode!=""){if(X.autocomplete.matches.length==0){K.error=I.noMatchError}else{if(X.autocomplete.matches.length>1){K.error=I.moreTahnOneMatchError}else{F(X.autocomplete.matches[0])}}}if(K.error==null){P.label.html(W.normal);if(X.selectedEntity.id){}else{if(A.getMouseSelected()){F(A.getMouseSelected());X.currentCode=A.getMouseSelected().code}else{if(A.getSelected()){F(A.getSelected());X.currentCode=A.getSelected().code}}}P.input.val(E(X.selectedEntity.value))}else{T.addMessage({title:"",content:K.error});C.addClass("error")}}}function H(){if(X.autocomplete.code==X.currentCode){P.loading.hide()}if(X.selectedEntity.id){C.removeClass("error")}if(a){a=false;K.isFocused=false;A.updateAutocomplete(X.autocomplete.matches,X.autocomplete.entitiesNumber);L();return }if(K.isFocused){A.updateAutocomplete(X.autocomplete.matches,X.autocomplete.entitiesNumber);A.show()}else{P.input.val(E(X.selectedEntity.value))}}function G(b){if(U){window.clearTimeout(U);U=null}if(b){P.loading.show();mainController.callEvent("autompleteSearch",B,null,null,null)}else{U=window.setTimeout(function(){U=null;P.loading.show();mainController.callEvent("autompleteSearch",B,null,null,null)},Z)}}function F(b,c){if(c==undefined){c=true}if(b){X.selectedEntity.id=b.id;X.selectedEntity.code=b.code;X.selectedEntity.value=b.value}else{X.selectedEntity.id=null;X.selectedEntity.code=null;X.selectedEntity.value=null}if(N&&c){mainController.callEvent("onSelectedEntityChange",B,null,null,null)}}function E(c){if(!c||c==""){return""}var b=/<\S[^><]*>/g;return c.replace(b,"")}this.updateSize=function(c,d){var b=d?d-10:40;this.input.parent().parent().parent().parent().parent().height(b)};function S(b){b.preventDefault();b.stopImmediatePropagation();b.stopPropagation();b.keyCode=0;b.which=0;b.returnValue=false}function O(b){return b.keyCode||b.which}this.setFormComponentEnabled=function(b){if(b){P.openLookupButton.addClass("enabled")}else{P.openLookupButton.removeClass("enabled")}};function M(){if(!P.openLookupButton.hasClass("enabled")){return }var b=T.options.viewName+".html";if(X.contextEntityId){var c=new Object();c["window.grid.belongsToEntityId"]=X.contextEntityId;b+="?context="+JSON.stringify(c)}J=mainController.openPopup(b,T,"lookup")}this.onPopupInit=function(){var b=J.getComponent("window.grid");b.setLinkListener(this);if(X.currentCode){b.setFilterState("lookupCode",X.currentCode)}J.init()};this.onPopupClose=function(){J=null};this.onGridLinkClicked=function(b){var c=J.getComponent("window.grid");var d=c.getLookupData(b);F({id:d.entityId,code:d.lookupCode,value:d.lookupValue});X.currentCode=d.lookupCode;H();L();if(N){mainController.callEvent("onSelectedEntityChange",B,null,null,null)}mainController.closePopup()};V(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.PasswordInput=function(A,B){$.extend(this,new QCD.components.elements.FormComponent(A,B));this.setComponentData=function(C){this.input.val("")}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.containers.layout.SeperatorLine=function(A,B){$.extend(this,new QCD.components.containers.layout.Layout(A,B))};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.StaticComponent=function(A,B){$.extend(this,new QCD.components.Component(A,B));this.setComponentState=function(C){};this.getComponentValue=function(){return null};this.setComponentValue=function(C){};this.setComponentEnabled=function(C){};this.setComponentLoading=function(C){}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.TextArea=function(A,B){$.extend(this,new QCD.components.elements.FormComponent(A,B));this.updateSize=function(D,E){var C=E?E-10:90;if(C<50){this.input.height(22)}else{this.input.height(C-23)}this.input.parent().parent().parent().height(C)}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.TextInput=function(A,D){$.extend(this,new QCD.components.elements.FormComponent(A,D));var C=$("#"+this.elementSearchName+"_text");var B=this.input;this.getComponentData=function(){return{value:B.val()}};this.setComponentData=function(E){if(E.value!=undefined&&E.value!=null){B.val(E.value);C.html(E.value)}};this.setFormComponentEnabled=function(E){if(this.options.textRepresentationOnDisabled){if(E){B.show();C.hide()}else{B.hide();C.show()}}};this.updateSize=function(F,G){var E=G?G-10:40;this.input.parent().parent().parent().height(E);this.input.parent().parent().height(E)}};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.Tree=function(Q,U){$.extend(this,new QCD.components.Component(Q,U));var B=U;var C=Q;var S;var Y;var a=new Object();var J;var P;var e=this.options.belongsToFieldName;var F=this.options.correspondingView;var c=this.options.correspondingComponent;var A=this.elementPath;var N=this.elementSearchName;var X;var f=false;var V=this.options.listeners;var T;var I;var g=true;var E=this.options.translations;function b(k){Y=$("<div>").addClass("tree_header").addClass("elementHeader").addClass("elementHeaderDisabled");var j=$("<div>").addClass("tree_title").addClass("elementHeaderTitle").html(E.header);Y.append(j);a.newButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(E.newButton,function(l){M()},"newIcon16_dis.png");a.editButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(E.editButton,function(l){W()},"editIcon16_dis.png");a.deleteButton=QCD.components.elements.utils.HeaderUtils.createHeaderButton(E.deleteButton,function(l){Z()},"deleteIcon16_dis.png");Y.append(a.newButton);Y.append(a.editButton);Y.append(a.deleteButton);J=$("<div>").addClass("tree_content");var h=$("<div>").addClass("tree_wrapper");h.append(Y);h.append(J);C.append(h);C.css("padding","10px");S=J.jstree({plugins:["json_data","themes","crrm","ui",],themes:{theme:"classic",dots:false,icons:false},json_data:{data:[]},ui:{select_limit:1},core:{html_titles:true,animation:100},cookies:false}).bind("before.jstree",function(m,l){if(!f&&(l.func=="select_node"||l.func=="hover_node")){m.stopImmediatePropagation();return false}}).bind("select_node.jstree",function(m,l){if(g){O();if(V.length>0){D()}}})}this.setComponentState=function(h){T=h.openedNodes;I=h.selectedEntityId;P=h.belongsToEntityId};this.getComponentValue=function(){var h;if(T){h=T;T=null}else{h=new Array();S.find(".jstree-open").each(function(){h.push(H(this.id))})}var j;if(I){j=I;I=null}else{j=G()}return{openedNodes:h,selectedEntityId:j,belongsToEntityId:P}};this.setComponentValue=function(j){if(j.belongsToEntityId){P=j.belongsToEntityId}if(j.root){if(X){S.jstree("remove",X)}X=R(j.root,-1)}S.jstree("close_all",X,true);for(var h in j.openedNodes){S.jstree("open_node",$("#"+N+"_node_"+j.openedNodes[h]),false,true)}if(j.selectedEntityId!=null){g=false;S.jstree("select_node",$("#"+N+"_node_"+j.selectedEntityId),false);g=true}O();K()};function R(l,k){var m=l.id?l.id:"0";var j=S.jstree("create",k,"last",{data:{title:l.label},attr:{id:A+"_node_"+m}},false,true);for(var h in l.children){R(l.children[h],j,false)}S.jstree("close_node",j,true);return j}function O(){var h=G();if(!h){a.newButton.removeClass("headerButtonEnabled");a.editButton.removeClass("headerButtonEnabled");a.deleteButton.removeClass("headerButtonEnabled")}else{a.newButton.addClass("headerButtonEnabled");if(h!="0"){a.editButton.addClass("headerButtonEnabled");a.deleteButton.addClass("headerButtonEnabled")}else{a.editButton.removeClass("headerButtonEnabled");a.deleteButton.removeClass("headerButtonEnabled")}}}this.setComponentEnabled=function(h){f=h;if(f){S.removeClass("treeDisabled");Y.removeClass("elementHeaderDisabled")}else{S.addClass("treeDisabled");Y.addClass("elementHeaderDisabled");a.newButton.removeClass("headerButtonEnabled");a.editButton.removeClass("headerButtonEnabled");a.deleteButton.removeClass("headerButtonEnabled")}};function M(){if(a.newButton.hasClass("headerButtonEnabled")){var j=new Object();if(e){j[c+"."+e]=P}var h=G();h=h=="0"?null:h;j[c+".parent"]=h;d(j)}}function W(){if(a.editButton.hasClass("headerButtonEnabled")){var h=new Object();h[c+".id"]=G();d(h)}}function Z(){var h=E.confirmDeleteMessage;if(a.deleteButton.hasClass("headerButtonEnabled")){if(window.confirm(h)){L();B.callEvent("remove",A,function(){K()},null,null)}}}function D(){if(f){B.callEvent("select",A,null)}}function G(){var h=S.jstree("get_selected");if(h&&h.length>0){return H(h.attr("id"))}return null}function H(h){return h.substring(A.length+6)}function d(j){if(F&&F!=""){var h=F+".html";if(j){h+="?context="+JSON.stringify(j)}B.goToPage(h)}}this.setComponentLoading=function(h){if(h){L()}else{K()}};this.updateSize=function(h,j){if(!h){h=300}if(!j){j=300}J.height(j-52)};function L(){f=false;QCD.components.elements.utils.LoadingIndicator.blockElement(C)}function K(){QCD.components.elements.utils.LoadingIndicator.unblockElement(C);f=true}b(this)};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.utils=QCD.components.elements.utils||{};QCD.components.elements.utils.HeaderUtils={};QCD.components.elements.utils.HeaderUtils.createHeaderButton=function(C,A,E){var B=(E&&$.trim(E)!="")?$.trim(E):null;var G=$("<div>");G.html(C);var F=$("<span>");var D=$("<a>").attr("href","#").append(F);if(E&&$.trim(E)!=""){G.addClass("hasIcon");F.append($("<div>").addClass("icon").css("backgroundImage","url('/img/core/icons/"+B+"')"))}F.append(G);if(C==""){G.css("paddingLeft","0px");G.css("paddingRight","3px")}D.click(function(){D.blur();A.call()});var H=$("<div>").addClass("headerActionButton").append(D);H.label=G;return H};QCD.components.elements.utils.HeaderUtils.createHeaderComboBox=function(C,B){var A=$("<select>").addClass("headerSelect");A.change(function(){B(A.val())});for(var D in C){A.append($("<option>").attr("value",C[D].value).html(C[D].label))}A.enable=function(){$(this).attr("disabled","")};A.disable=function(){$(this).attr("disabled","true")};A.disable();return A};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.elements=QCD.components.elements||{};QCD.components.elements.utils=QCD.components.elements.utils||{};QCD.components.elements.utils.LoadingIndicator={};QCD.components.elements.utils.LoadingIndicator.blockElement=function(A){A.block({message:'<div class="loading_div"></div>',showOverlay:true,fadeOut:0,fadeIn:0,css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0.5,color:"#fff",width:"50px"},overlayCSS:{backgroundColor:"#000",opacity:0.1},})};QCD.components.elements.utils.LoadingIndicator.unblockElement=function(A){A.unblock()};var QCD=QCD||{};QCD.components=QCD.components||{};QCD.components.Ribbon=function(J,B,M){QCD.info(J);var E=J;var N=M;var P=B;var F;this.constructElement=function(){F=$("<div>");var V=$("<div>").attr("id","q_row3_out");F.append(V);F.append($("<div>").attr("id","q_row4_out"));var Z=$("<div>").attr("id","q_menu_row3");V.append(Z);if(E.groups){for(var Y in E.groups){var b=E.groups[Y];var a=$("<div>").addClass("ribbon_content");var R=$("<div>").addClass("ribbon_title").html(b.label);var c=$("<div>").addClass("ribbonMenu_right").append(R).append(a);var X=$("<div>").addClass("ribbonMenu_left").append(c);var W=$("<div>").addClass("ribbonMenu").append(X);var S=null;for(var Q in b.items){var d=b.items[Q];var T=null;var U=false;if(d.type=="BIG_BUTTON"){if(d.items){T=A(b.name,d)}else{T=G(b.name,d)}}else{if(d.type=="SMALL_BUTTON"){if(d.items){T=C(b.name,d)}else{T=D(b.name,d)}U=true}else{if(d.type=="COMBOBOX"){T=O(b.name,d);U=true}}}if(T){if(U){if(S){S.append(T);S=null}else{S=$("<ul>").addClass("ribbon_list");S.append(T);a.append(S)}}else{a.append(T);S=null}}}Z.append(W)}}return F};function G(U,R){var T=$("<a>").attr("href","#").html("<span><div"+H(R)+"><label>"+R.label+"</label><div></div></div></span>");var V=$("<li>").append(T);var S=$("<ul>").addClass("ribbonListElement").append(V);var Q=$("<div>").addClass("ribbonBigElement").append(S);T.bind("click",{itemName:R.name,clickAction:R.clickAction},K);return Q}function A(f,e){var b=(e.icon&&$.trim(e.icon)!="")?$.trim(e.icon):null;var Q="";var Z="";if(b){Q=" style=\"background-image:url('../../images/icons/"+b+"')\"";Z=" hasIcon"}var T=$("<a>").attr("href","#").html("<span><div class='"+Z+" bigDropdownButtonDiv' "+Q+"><label>"+e.label+"</label><div></div></div></span>");var V=$("<li>").append(T);var Y=$("<a>").attr("href","#").html("<span><div class='icon_btn_addB'></div></span>");var c=$("<li>").addClass("addB").append(Y);var U=$("<ul>").append(V).append(c);var X=$("<div>").append(U);var S=$("<span>").append(X);var d=$("<li>").append(S);var a=$("<ul>").addClass("ribbonAddElement").append(d);var R=$("<div>").addClass("ribbonBigElement").addClass("ribbonDropdownContainer").append(a);var W=L(f+"."+(e.label?e.label:e.name),e).addClass("bigButtonDropdownMenu");I(Y);R.append(W);T.bind("click",{itemName:e.name,clickAction:e.clickAction},K);return R}function D(T,S){var R=$("<a>").attr("href","#").html("<span><div"+H(S)+">"+S.label+"</div></span>");var Q=$("<li>").addClass("btnOne").append(R);R.bind("click",{itemName:S.name,clickAction:S.clickAction},K);return Q}function C(a,Z){var S=$("<a>").attr("href","#").html("<span><div "+H(Z)+">"+Z.label+"</div></span>");var U=$("<li>").append(S);var W=$("<a>").attr("href","#").addClass("twoB_down");var Y=$("<li>").append(W);var T=$("<ul>").append(U).append(Y);var X=$("<div>").append(T);var R=$("<span>").append(X);var Q=$("<li>").addClass("twoB").addClass("ribbonDropdownContainer").append(R);S.bind("click",{itemName:Z.name,clickAction:Z.clickAction},K);var V=L(a+"."+(Z.label?Z.label:Z.name),Z).addClass("smallButtonDropdownMenu");I(W);Q.append(V);return Q}function L(Z,Y){var T=$("<ul>");for(var X in Y.items){var W=Y.items[X].name;var V=(Y.items[X].icon&&$.trim(Y.items[X].icon)!="")?$.trim(Y.items[X].icon):null;var R="";if(V){R=" style=\"background-image:url('/img/core/icons/"+V+"')\""}var U=$("<a>").attr("href","#").html("<span "+R+">"+Y.items[X].label+"</span>").addClass("icon");U.bind("click",{itemName:Y.name+"."+W,clickAction:Y.items[X].clickAction},K);var Q=$("<li>").append(U);T.append(Q)}var S=$("<div>").addClass("dropdownMenu").addClass("m_module").append(T);return S}function I(Q){Q.addClass("dropdownTrigger");Q.click(function(){var R=$(this);R.blur();while(!R.hasClass("ribbonDropdownContainer")){R=R.parent()}if(R.find(".dropdownMenu").is(":visible")){R.find(".dropdownMenu").slideUp(100)}else{R.find(".dropdownMenu").slideDown(100).show();R.hover(function(){},function(){R.find(".dropdownMenu").slideUp(100)})}})}function O(Z,Y){var S=$("<a>").attr("href","#").html("<span><div "+H(Y)+">"+Y.label+"</div></span>");var U=$("<li>").append(S);var V=$("<a>").attr("href","#").addClass("twoB_down");var X=$("<li>").append(V);var T=$("<ul>").append(U).append(X);var W=$("<div>").append(T);var R=$("<span>").append(W);var Q=$("<li>").addClass("twoB").addClass("ribbonDropdownContainer").append(R);return Q}function H(S){var R=(S.icon&&$.trim(S.icon)!="")?$.trim(S.icon):null;var Q="";if(R){Q=" class='hasIcon' style=\"background-image:url('/img/core/icons/"+R+"')\""}return Q}function K(S){$(this).blur();var R=S.data.clickAction;var Q=S.data.itemName;N.performRibbonAction(R)}this.updateSize=function(R,Q){$("#q_menu_row3").css("margin-left",(R)+"px");$("#q_row4_out").width(Q)}};var QCD=QCD||{};QCD.PageController=function(U,G,Q,D){var O=U;var F=G;var B=Q;var E=D;var M;var I=null;var W;var K;var C;function S(Z){QCDConnector.windowName="/page/"+F+"/"+O;QCDConnector.mainController=Z;var X=$("#pageOptions");W=JSON.parse($.trim(X.html()));X.remove();var Y=$("body");M=QCDPageConstructor.getChildrenComponents(Y.children(),Z);QCD.debug(M);$(window).bind("resize",T);T();if(window.parent){$(window.parent).focus(N)}else{$(window).focus(N)}QCD.components.elements.utils.LoadingIndicator.blockElement($("body"))}this.init=function(X){if(X){L(X);if(B){this.callEvent("initializeAfterBack",null,function(){QCD.components.elements.utils.LoadingIndicator.unblockElement($("body"))})}else{QCD.components.elements.utils.LoadingIndicator.unblockElement($("body"))}}else{if(B){this.callEvent("initialize",null,function(){QCD.components.elements.utils.LoadingIndicator.unblockElement($("body"))})}else{QCD.components.elements.utils.LoadingIndicator.unblockElement($("body"))}}};this.setContext=function(c){var Z=JSON.parse(c);for(var Y in Z){var b=Y.lastIndexOf(".");var X=Y.substring(0,b);var d=Y.substring(b+1);var a=this.getComponent(X);a.addContext(d,Z[Y])}};this.callEvent=function(b,e,Z,c,f){var d=new Object();var X=Z;d.event={name:b};if(e){d.event.component=e;var Y=P(e);var g=Y.options.listeners;if(g){for(var a=0;a<g.length;a++){var h=P(g[a]);h.setComponentLoading(true)}X=function(){if(Z){Z()}for(var j=0;j<g.length;j++){var k=P(g[j]);k.setComponentLoading(false)}}}}if(c){d.event.args=c}d.components=V();R(d,X,f)};function R(Y,Z,a){var X=JSON.stringify(Y);QCDConnector.sendPost(X,function(b){if(Z){Z()}if(b.redirect){if(b.redirect.openInNewWindow){window.open(b.redirect.url)}else{J(b.redirect.url,false);return }}else{H(b)}if(a&&b.content.status=="ok"){a.performNext()}},function(){if(Z){Z()}})}this.performRibbonAction=function(Z){var g=Z.split(";");var e=new Array();for(var c in g){var d=$.trim(g[c]);if(d){var m=d.search("{");var k=d.search("}");if(m<0||k<0||k<m){QCD.error("action parse error in: "+d);return }var n=d.substring(m+1,k);var h=this.getComponent(n);var X=d.substring(k+1);if(X[0]!="."){QCD.error("action parse error in: "+d);return }X=X.substring(1);var l=X.indexOf("(");var b=X.indexOf(")");var Y=new Array();if(l>0&&b>0&&l<b-1){var f=X.substring(l+1,b);Y=f.split(",");X=X.substring(0,l)}else{if(l==b-1){X=X.substring(0,l)}}var a={component:h,action:X,arguments:Y};e.push(a)}}var j={actions:e,actionIter:0,performNext:function(){var q=this.actions[this.actionIter];if(q){var o=q.component[q.action];if(!o){QCD.error("no function in "+q.component.elementPath+": "+q.action);return }this.actionIter++;var p=new Array(this);p=p.concat(q.arguments[0]);p.push(q.arguments.slice(1));o.apply(q.component,p)}}};j.performNext()};function V(){var X=new Object();for(var Y in M){var Z=M[Y].getValue();if(Z){X[Y]=Z}}return X}function L(Z){for(var Y in Z.components){var X=M[Y];X.setState(Z.components[Y])}}this.showMessage=function(X){if(window.parent&&window.parent.addMessage){window.parent.addMessage(X)}else{if(!K){K=new QCD.MessagesController()}K.addMessage(X)}};this.setWindowHeaderComponent=function(X){I=X};this.setWindowHeader=function(X){if(I){I.setHeader(X)}};function H(a){QCD.debug(a);if(a.messages){for(var Y in a.messages){var Z=a.messages[Y];window.parent.addMessage(Z.type,Z.content)}}for(var Y in a.components){var X=M[Y];X.setValue(a.components[Y])}}this.getComponent=function(a){var Z=a.split(".");var X=M[Z[0]];if(!X){return null}for(var Y=1;Y<Z.length;Y++){X=X.components[Z[Y]];if(!X){return null}}return X};var P=this.getComponent;function N(){if(C){C.parentComponent.onPopupClose();C.window.close();C=null}}this.closePopup=function(){if(C){C.parentComponent.onPopupClose();try{C.window.close()}catch(X){}C=null}};this.openPopup=function(X,b,a){if(C){}if(X.indexOf("?")!=-1){X+="&"}else{X+="?"}X+="popup=true";C=new Object();C.parentComponent=b;var Z=(screen.width/2)-(400);var Y=(screen.height/2)-(350);C.window=window.open(X,a,"status=0,toolbar=0,width=800,height=700,left="+Z+",top="+Y);return C.window};this.onPopupInit=function(){C.parentComponent.onPopupInit()};this.isPopup=function(){return E};this.goToPage=function(X,Z){if(Z==undefined||Z==null){Z=true}var Y={components:V()};window.parent.goToPage(X,Y,Z)};var J=this.goToPage;this.goBack=function(){if(A()){window.parent.goBack()}};this.canClose=A;function A(){changed=false;for(var X in M){if(M[X].isChanged()){changed=true}}if(changed){return window.confirm(W.translations.backWithChangesConfirmation)}else{return true}}this.closeWindow=function(){window.close()};this.onSessionExpired=function(){var X={components:V()};window.parent.onSessionExpired(X)};function T(){var Z=$(document).width();var X=$(document).height();for(var Y in M){M[Y].updateSize(Z,X)}}S(this)};